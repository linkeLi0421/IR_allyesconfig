; ModuleID = '/llk/IR_all_yes/drivers/vfio/vfio.c_pt.bc'
source_filename = "../drivers/vfio/vfio.c"
target datalayout = "E-m:e-p:32:32-Fi8-i64:64-v128:64:128-a:0:32-n32-S64"
target triple = "armebv6k-unknown-linux-gnueabi"

module asm ".syntax unified"
module asm "\09.section \22___kcrctab_gpl+vfio_assign_device_set\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_assign_device_set\09\09\09\09"
module asm "\09.long\09__crc_vfio_assign_device_set\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_assign_device_set:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_assign_device_set\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_assign_device_set:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab_gpl+vfio_register_iommu_driver\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_register_iommu_driver\09\09\09\09"
module asm "\09.long\09__crc_vfio_register_iommu_driver\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_register_iommu_driver:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_register_iommu_driver\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_register_iommu_driver:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab_gpl+vfio_unregister_iommu_driver\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_unregister_iommu_driver\09\09\09\09"
module asm "\09.long\09__crc_vfio_unregister_iommu_driver\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_unregister_iommu_driver:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_unregister_iommu_driver\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_unregister_iommu_driver:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab_gpl+vfio_device_put\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_device_put\09\09\09\09"
module asm "\09.long\09__crc_vfio_device_put\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_device_put:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_device_put\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_device_put:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab_gpl+vfio_init_group_dev\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_init_group_dev\09\09\09\09"
module asm "\09.long\09__crc_vfio_init_group_dev\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_init_group_dev:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_init_group_dev\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_init_group_dev:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab_gpl+vfio_uninit_group_dev\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_uninit_group_dev\09\09\09\09"
module asm "\09.long\09__crc_vfio_uninit_group_dev\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_uninit_group_dev:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_uninit_group_dev\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_uninit_group_dev:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab_gpl+vfio_register_group_dev\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_register_group_dev\09\09\09\09"
module asm "\09.long\09__crc_vfio_register_group_dev\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_register_group_dev:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_register_group_dev\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_register_group_dev:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab_gpl+vfio_register_emulated_iommu_dev\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_register_emulated_iommu_dev\09\09\09\09"
module asm "\09.long\09__crc_vfio_register_emulated_iommu_dev\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_register_emulated_iommu_dev:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_register_emulated_iommu_dev\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_register_emulated_iommu_dev:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab_gpl+vfio_device_get_from_dev\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_device_get_from_dev\09\09\09\09"
module asm "\09.long\09__crc_vfio_device_get_from_dev\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_device_get_from_dev:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_device_get_from_dev\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_device_get_from_dev:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab_gpl+vfio_unregister_group_dev\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_unregister_group_dev\09\09\09\09"
module asm "\09.long\09__crc_vfio_unregister_group_dev\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_unregister_group_dev:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_unregister_group_dev\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_unregister_group_dev:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab_gpl+vfio_group_get_external_user\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_group_get_external_user\09\09\09\09"
module asm "\09.long\09__crc_vfio_group_get_external_user\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_group_get_external_user:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_group_get_external_user\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_group_get_external_user:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab_gpl+vfio_group_get_external_user_from_dev\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_group_get_external_user_from_dev\09\09\09\09"
module asm "\09.long\09__crc_vfio_group_get_external_user_from_dev\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_group_get_external_user_from_dev:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_group_get_external_user_from_dev\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_group_get_external_user_from_dev:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab_gpl+vfio_group_put_external_user\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_group_put_external_user\09\09\09\09"
module asm "\09.long\09__crc_vfio_group_put_external_user\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_group_put_external_user:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_group_put_external_user\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_group_put_external_user:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab_gpl+vfio_external_group_match_file\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_external_group_match_file\09\09\09\09"
module asm "\09.long\09__crc_vfio_external_group_match_file\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_external_group_match_file:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_external_group_match_file\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_external_group_match_file:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab_gpl+vfio_external_user_iommu_id\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_external_user_iommu_id\09\09\09\09"
module asm "\09.long\09__crc_vfio_external_user_iommu_id\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_external_user_iommu_id:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_external_user_iommu_id\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_external_user_iommu_id:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab_gpl+vfio_external_check_extension\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_external_check_extension\09\09\09\09"
module asm "\09.long\09__crc_vfio_external_check_extension\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_external_check_extension:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_external_check_extension\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_external_check_extension:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab_gpl+vfio_info_cap_add\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_info_cap_add\09\09\09\09"
module asm "\09.long\09__crc_vfio_info_cap_add\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_info_cap_add:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_info_cap_add\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_info_cap_add:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab+vfio_info_cap_shift\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_info_cap_shift\09\09\09\09"
module asm "\09.long\09__crc_vfio_info_cap_shift\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_info_cap_shift:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_info_cap_shift\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_info_cap_shift:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab+vfio_info_add_capability\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_info_add_capability\09\09\09\09"
module asm "\09.long\09__crc_vfio_info_add_capability\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_info_add_capability:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_info_add_capability\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_info_add_capability:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab+vfio_set_irqs_validate_and_prepare\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_set_irqs_validate_and_prepare\09\09\09\09"
module asm "\09.long\09__crc_vfio_set_irqs_validate_and_prepare\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_set_irqs_validate_and_prepare:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_set_irqs_validate_and_prepare\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_set_irqs_validate_and_prepare:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab+vfio_pin_pages\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_pin_pages\09\09\09\09"
module asm "\09.long\09__crc_vfio_pin_pages\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_pin_pages:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_pin_pages\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_pin_pages:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab+vfio_unpin_pages\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_unpin_pages\09\09\09\09"
module asm "\09.long\09__crc_vfio_unpin_pages\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_unpin_pages:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_unpin_pages\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_unpin_pages:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab+vfio_group_pin_pages\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_group_pin_pages\09\09\09\09"
module asm "\09.long\09__crc_vfio_group_pin_pages\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_group_pin_pages:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_group_pin_pages\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_group_pin_pages:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab+vfio_group_unpin_pages\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_group_unpin_pages\09\09\09\09"
module asm "\09.long\09__crc_vfio_group_unpin_pages\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_group_unpin_pages:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_group_unpin_pages\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_group_unpin_pages:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab+vfio_dma_rw\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_dma_rw\09\09\09\09"
module asm "\09.long\09__crc_vfio_dma_rw\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_dma_rw:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_dma_rw\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_dma_rw:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab_gpl+vfio_group_set_kvm\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_group_set_kvm\09\09\09\09"
module asm "\09.long\09__crc_vfio_group_set_kvm\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_group_set_kvm:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_group_set_kvm\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_group_set_kvm:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab+vfio_register_notifier\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_register_notifier\09\09\09\09"
module asm "\09.long\09__crc_vfio_register_notifier\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_register_notifier:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_register_notifier\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_register_notifier:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab+vfio_unregister_notifier\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_unregister_notifier\09\09\09\09"
module asm "\09.long\09__crc_vfio_unregister_notifier\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_unregister_notifier:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_unregister_notifier\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_unregister_notifier:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"
module asm "\09.section \22___kcrctab_gpl+vfio_group_iommu_domain\22, \22a\22\09"
module asm "\09.weak\09__crc_vfio_group_iommu_domain\09\09\09\09"
module asm "\09.long\09__crc_vfio_group_iommu_domain\09\09\09\09"
module asm "\09.previous\09\09\09\09\09"
module asm "\09.section \22__ksymtab_strings\22,\22aMS\22,%progbits,1\09"
module asm "__kstrtab_vfio_group_iommu_domain:\09\09\09\09\09"
module asm "\09.asciz \09\22vfio_group_iommu_domain\22\09\09\09\09\09"
module asm "__kstrtabns_vfio_group_iommu_domain:\09\09\09\09\09"
module asm "\09.asciz \09\22\22\09\09\09\09\09"
module asm "\09.previous\09\09\09\09\09\09"

%struct.kernel_param_ops = type { i32, ptr, ptr, ptr }
%struct.kernel_param = type { ptr, ptr, ptr, i16, i8, i8, %union.anon.68 }
%union.anon.68 = type { ptr }
%struct.xarray = type { %struct.spinlock, i32, ptr }
%struct.spinlock = type { %union.anon.0 }
%union.anon.0 = type { %struct.raw_spinlock }
%struct.raw_spinlock = type { %struct.arch_spinlock_t, i32, i32, ptr, %struct.lockdep_map }
%struct.arch_spinlock_t = type { %union.anon.1 }
%union.anon.1 = type { i32 }
%struct.lockdep_map = type { ptr, [2 x ptr], ptr, i8, i8, i8, i32, i32 }
%struct.lock_class_key = type { %union.anon }
%union.anon = type { %struct.hlist_node }
%struct.hlist_node = type { ptr, ptr }
%struct.kernel_symbol = type { i32, ptr, ptr }
%struct.vfio = type { ptr, %struct.list_head, %struct.mutex, %struct.list_head, %struct.mutex, %struct.ida, i32 }
%struct.list_head = type { ptr, ptr }
%struct.mutex = type { %struct.atomic_t, %struct.raw_spinlock, %struct.optimistic_spin_queue, %struct.list_head, ptr, %struct.lockdep_map }
%struct.atomic_t = type { i32 }
%struct.optimistic_spin_queue = type { %struct.atomic_t }
%struct.ida = type { %struct.xarray }
%struct.pi_entry = type { ptr, ptr, ptr, i32, ptr, ptr }
%struct.file_operations = type { ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, i32, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr }
%struct.vfio_iommu_driver_ops = type { ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr }
%struct.miscdevice = type { i32, ptr, ptr, %struct.list_head, ptr, ptr, ptr, ptr, i16 }
%struct.module_version_attribute = type { %struct.module_attribute, ptr, ptr }
%struct.module_attribute = type { %struct.attribute, ptr, ptr, ptr, ptr, ptr }
%struct.attribute = type { ptr, i16, i8, ptr, %struct.lock_class_key }
%struct.bus_type = type { ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, %struct.lock_class_key, i8 }
%struct.vfio_device_set = type { ptr, %struct.mutex, %struct.list_head, i32 }
%struct.vfio_device = type { ptr, ptr, ptr, ptr, %struct.list_head, %struct.refcount_struct, i32, %struct.completion, %struct.list_head }
%struct.refcount_struct = type { %struct.atomic_t }
%struct.completion = type { i32, %struct.swait_queue_head }
%struct.swait_queue_head = type { %struct.raw_spinlock, %struct.list_head }
%struct.vfio_iommu_driver = type { ptr, %struct.list_head }
%struct.device = type { %struct.kobject, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, %struct.mutex, %struct.mutex, %struct.dev_links_info, %struct.dev_pm_info, ptr, ptr, ptr, %struct.dev_msi_info, ptr, ptr, i64, i64, ptr, ptr, %struct.list_head, ptr, ptr, %struct.dev_archdata, ptr, ptr, i32, i32, %struct.spinlock, %struct.list_head, ptr, ptr, ptr, ptr, ptr, i32, i8 }
%struct.kobject = type { ptr, %struct.list_head, ptr, ptr, ptr, ptr, %struct.kref, %struct.delayed_work, i8 }
%struct.kref = type { %struct.refcount_struct }
%struct.delayed_work = type { %struct.work_struct, %struct.timer_list, ptr, i32 }
%struct.work_struct = type { %struct.atomic_t, %struct.list_head, ptr, %struct.lockdep_map }
%struct.timer_list = type { %struct.hlist_node, i32, ptr, i32, %struct.lockdep_map }
%struct.dev_links_info = type { %struct.list_head, %struct.list_head, %struct.list_head, i32 }
%struct.dev_pm_info = type { %struct.pm_message, i16, i32, %struct.spinlock, %struct.list_head, %struct.completion, ptr, i8, %struct.hrtimer, i64, %struct.work_struct, %struct.wait_queue_head, ptr, %struct.atomic_t, %struct.atomic_t, i16, i32, i32, i32, i32, i32, i32, i64, i64, i64, i64, ptr, ptr, ptr }
%struct.pm_message = type { i32 }
%struct.hrtimer = type { %struct.timerqueue_node, i64, ptr, ptr, i8, i8, i8, i8 }
%struct.timerqueue_node = type { %struct.rb_node, i64 }
%struct.rb_node = type { i32, ptr, ptr }
%struct.wait_queue_head = type { %struct.spinlock, %struct.list_head }
%struct.dev_msi_info = type { ptr, ptr }
%struct.dev_archdata = type { ptr, i8 }
%struct.vfio_group = type { %struct.device, %struct.cdev, %struct.refcount_struct, %struct.atomic_t, ptr, ptr, %struct.list_head, %struct.mutex, %struct.notifier_block, %struct.list_head, %struct.list_head, %struct.list_head, %struct.mutex, %struct.atomic_t, %struct.wait_queue_head, i32, i32, ptr, %struct.blocking_notifier_head }
%struct.cdev = type { %struct.kobject, ptr, ptr, %struct.list_head, i32, i32 }
%struct.notifier_block = type { ptr, ptr, i32 }
%struct.blocking_notifier_head = type { %struct.rw_semaphore, ptr }
%struct.rw_semaphore = type { %struct.atomic_t, %struct.atomic_t, %struct.optimistic_spin_queue, %struct.raw_spinlock, %struct.list_head, ptr, %struct.lockdep_map }
%struct.wait_queue_entry = type { i32, ptr, ptr, %struct.list_head }
%struct.vfio_unbound_dev = type { ptr, %struct.list_head }
%struct.vfio_device_ops = type { ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr }
%struct.thread_info = type { i32, i32, ptr, i32, i32, %struct.cpu_context_save, i32, [16 x i8], [2 x i32], %union.fp_state, %union.vfp_state, i32 }
%struct.cpu_context_save = type { i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, [2 x i32] }
%union.fp_state = type { %struct.iwmmxt_struct }
%struct.iwmmxt_struct = type { [38 x i32] }
%union.vfp_state = type { %struct.vfp_hard_struct }
%struct.vfp_hard_struct = type { [32 x i64], i32, i32, i32, i32, i32 }
%struct.task_struct = type { i32, ptr, %struct.refcount_struct, i32, i32, i32, %struct.__call_single_node, i32, i32, ptr, i32, i32, i32, i32, i32, i32, i32, [56 x i8], %struct.sched_entity, %struct.sched_rt_entity, %struct.sched_dl_entity, ptr, %struct.rb_node, i32, i32, ptr, [2 x %struct.uclamp_se], [2 x %struct.uclamp_se], [116 x i8], %struct.sched_statistics, i32, i32, i32, ptr, ptr, %struct.cpumask, ptr, i16, i16, i32, i8, i8, i32, %struct.list_head, i32, i32, %union.rcu_special, i8, %struct.list_head, %struct.sched_info, %struct.list_head, %struct.plist_node, %struct.rb_node, ptr, ptr, %struct.vmacache, %struct.task_rss_stat, i32, i32, i32, i32, i32, i32, i8, [3 x i8], i16, i32, %struct.restart_block, i32, i32, i32, ptr, ptr, %struct.list_head, %struct.list_head, ptr, %struct.list_head, %struct.list_head, ptr, [4 x %struct.hlist_node], %struct.list_head, %struct.list_head, ptr, ptr, ptr, ptr, i64, i64, i64, %struct.prev_cputime, i32, i32, i64, i64, i32, i32, %struct.posix_cputimers, ptr, ptr, ptr, ptr, [16 x i8], ptr, %struct.sysv_sem, %struct.sysv_shm, i32, i32, ptr, ptr, ptr, ptr, ptr, ptr, %struct.sigset_t, %struct.sigset_t, %struct.sigset_t, %struct.sigpending, i32, i32, i32, ptr, %struct.kuid_t, i32, %struct.seccomp, %struct.syscall_user_dispatch, i64, i64, %struct.spinlock, %struct.raw_spinlock, %struct.wake_q_node, %struct.rb_root_cached, ptr, ptr, ptr, i32, %struct.irqtrace_events, i32, i64, i32, i32, i32, i64, i32, i32, [48 x %struct.held_lock], i32, ptr, ptr, ptr, ptr, ptr, ptr, ptr, i32, ptr, %struct.task_io_accounting, i32, i64, i64, i64, %struct.nodemask_t, %struct.seqcount_spinlock, i32, i32, ptr, %struct.list_head, ptr, %struct.list_head, ptr, %struct.mutex, i32, [2 x ptr], %struct.mutex, %struct.list_head, ptr, i32, i32, %struct.tlbflush_unmap_batch, %union.anon.53, ptr, %struct.page_frag, ptr, i32, i32, i32, i32, i32, i32, [32 x %struct.latency_record], i64, i64, i32, ptr, i32, i32, i32, i32, ptr, ptr, i64, i32, i32, ptr, i32, i32, i32, ptr, ptr, ptr, i32, i32, %struct.kmap_ctrl, i32, i32, ptr, ptr, ptr, ptr, %struct.llist_head, %struct.thread_struct, [84 x i8] }
%struct.__call_single_node = type { %struct.llist_node, %union.anon.29 }
%struct.llist_node = type { ptr }
%union.anon.29 = type { i32 }
%struct.sched_entity = type { %struct.load_weight, %struct.rb_node, %struct.list_head, i32, i64, i64, i64, i64, i64, i32, ptr, ptr, ptr, i32, [36 x i8], %struct.sched_avg }
%struct.load_weight = type { i32, i32 }
%struct.sched_avg = type { i64, i64, i64, i32, i32, i32, i32, i32, [4 x i8], %struct.util_est, [72 x i8] }
%struct.util_est = type { i32, i32 }
%struct.sched_rt_entity = type { %struct.list_head, i32, i32, i32, i16, i16, ptr, ptr, ptr, ptr }
%struct.sched_dl_entity = type { %struct.rb_node, i64, i64, i64, i64, i64, i64, i64, i32, i8, %struct.hrtimer, %struct.hrtimer, ptr }
%struct.uclamp_se = type { i16, [2 x i8] }
%struct.sched_statistics = type { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, [24 x i8] }
%struct.cpumask = type { [1 x i32] }
%union.rcu_special = type { i32 }
%struct.sched_info = type { i32, i64, i64, i64 }
%struct.plist_node = type { i32, %struct.list_head, %struct.list_head }
%struct.vmacache = type { i64, [4 x ptr] }
%struct.task_rss_stat = type { i32, [4 x i32] }
%struct.restart_block = type { i32, ptr, %union.anon.31 }
%union.anon.31 = type { %struct.anon.32 }
%struct.anon.32 = type { ptr, i32, i32, i32, i64, ptr }
%struct.prev_cputime = type { i64, i64, %struct.raw_spinlock }
%struct.posix_cputimers = type { [3 x %struct.posix_cputimer_base], i32, i32 }
%struct.posix_cputimer_base = type { i64, %struct.timerqueue_head }
%struct.timerqueue_head = type { %struct.rb_root_cached }
%struct.sysv_sem = type { ptr }
%struct.sysv_shm = type { %struct.list_head }
%struct.sigset_t = type { [2 x i32] }
%struct.sigpending = type { %struct.list_head, %struct.sigset_t }
%struct.kuid_t = type { i32 }
%struct.seccomp = type { i32, %struct.atomic_t, ptr }
%struct.syscall_user_dispatch = type {}
%struct.wake_q_node = type { ptr }
%struct.rb_root_cached = type { %struct.rb_root, ptr }
%struct.rb_root = type { ptr }
%struct.irqtrace_events = type { i32, i32, i32, i32, i32, i32, i32, i32, i32 }
%struct.held_lock = type { i64, i32, ptr, ptr, i64, i64, i32, i32 }
%struct.task_io_accounting = type { i64, i64, i64, i64, i64, i64, i64 }
%struct.nodemask_t = type { [1 x i32] }
%struct.seqcount_spinlock = type { %struct.seqcount, ptr }
%struct.seqcount = type { i32, %struct.lockdep_map }
%struct.tlbflush_unmap_batch = type {}
%union.anon.53 = type { %struct.callback_head }
%struct.callback_head = type { ptr, ptr }
%struct.page_frag = type { ptr, i16, i16 }
%struct.latency_record = type { [12 x i32], i32, i32, i32 }
%struct.kmap_ctrl = type { i32, [33 x i32] }
%struct.llist_head = type { ptr }
%struct.thread_struct = type { i32, i32, i32, %struct.debug_info }
%struct.debug_info = type { [32 x ptr] }
%struct.file = type { %union.anon.15, %struct.path, ptr, ptr, %struct.spinlock, i32, %struct.atomic_t, i32, i32, %struct.mutex, i64, %struct.fown_struct, ptr, %struct.file_ra_state, i64, ptr, ptr, ptr, ptr, i32, i32 }
%union.anon.15 = type { %struct.callback_head }
%struct.path = type { ptr, ptr }
%struct.fown_struct = type { %struct.rwlock_t, ptr, i32, %struct.kuid_t, %struct.kuid_t, i32 }
%struct.rwlock_t = type { %struct.arch_rwlock_t, i32, i32, ptr, %struct.lockdep_map }
%struct.arch_rwlock_t = type { i32 }
%struct.file_ra_state = type { i32, i32, i32, i32, i32, i64 }
%struct.vfio_container = type { %struct.kref, %struct.list_head, %struct.rw_semaphore, ptr, ptr, i8 }
%struct.vfio_info_cap = type { ptr, i32 }
%struct.vfio_info_cap_header = type { i16, i16, i32 }
%struct.vfio_irq_set = type { i32, i32, i32, i32, i32, [0 x i8] }
%struct.class = type { ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr }
%struct.vfio_group_status = type { i32, i32 }
%struct.device_driver = type { ptr, ptr, ptr, ptr, i8, i32, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr }
%struct.inode = type { i16, i16, %struct.kuid_t, %struct.kgid_t, i32, ptr, ptr, ptr, ptr, ptr, ptr, i32, %union.anon.70, i32, i64, %struct.timespec64, %struct.timespec64, %struct.timespec64, %struct.spinlock, i16, i8, i8, i64, %struct.seqcount, i32, %struct.rw_semaphore, i32, i32, %struct.hlist_node, %struct.list_head, ptr, i32, i16, i16, %struct.list_head, %struct.list_head, %struct.list_head, %union.anon.71, %struct.atomic64_t, %struct.atomic64_t, %struct.atomic_t, %struct.atomic_t, %struct.atomic_t, %struct.atomic_t, %union.anon.72, ptr, %struct.address_space, %struct.list_head, %union.anon.73, i32, i32, ptr, ptr, ptr, ptr }
%struct.kgid_t = type { i32 }
%union.anon.70 = type { i32 }
%struct.timespec64 = type { i64, i32 }
%union.anon.71 = type { %struct.callback_head }
%struct.atomic64_t = type { i64 }
%union.anon.72 = type { ptr }
%struct.address_space = type { ptr, %struct.xarray, %struct.rw_semaphore, i32, %struct.atomic_t, %struct.rb_root_cached, %struct.rw_semaphore, i32, i32, ptr, i32, i32, %struct.spinlock, %struct.list_head, ptr }
%union.anon.73 = type { ptr }

@__param_str_enable_unsafe_noiommu_mode = internal constant [32 x i8] c"vfio.enable_unsafe_noiommu_mode\00", align 1
@param_ops_bool = external dso_local constant %struct.kernel_param_ops, align 4
@noiommu = internal global i8 0, section ".data..read_mostly", align 1
@__param_enable_unsafe_noiommu_mode = internal constant %struct.kernel_param { ptr @__param_str_enable_unsafe_noiommu_mode, ptr null, ptr @param_ops_bool, i16 420, i8 -1, i8 0, %union.anon.68 { ptr @noiommu } }, section "__param", align 4
@__UNIQUE_ID_enable_unsafe_noiommu_modetype238 = internal constant [46 x i8] c"vfio.parmtype=enable_unsafe_noiommu_mode:bool\00", section ".modinfo", align 1
@__UNIQUE_ID_enable_unsafe_noiommu_mode239 = internal constant [334 x i8] c"vfio.parm=enable_unsafe_noiommu_mode:Enable UNSAFE, no-IOMMU mode.  This mode provides no device isolation, no DMA translation, no host kernel protection, cannot be used for device assignment to virtual machines, requires RAWIO permissions, and will taint the kernel.  If you do not know what this is for, step away. (default: false)\00", section ".modinfo", align 1
@.str = internal constant { [20 x i8], [44 x i8] } { [20 x i8] c"drivers/vfio/vfio.c\00", [44 x i8] zeroinitializer }, align 32
@vfio_device_set_xa = internal global { %struct.xarray, [44 x i8] } { %struct.xarray { %struct.spinlock { %union.anon.0 { %struct.raw_spinlock { %struct.arch_spinlock_t zeroinitializer, i32 -559067475, i32 -1, ptr inttoptr (i32 -1 to ptr), %struct.lockdep_map { ptr null, [2 x ptr] zeroinitializer, ptr @.str.9, i8 0, i8 3, i8 0, i32 0, i32 0 } } } }, i32 0, ptr null }, [44 x i8] zeroinitializer }, align 32
@vfio_assign_device_set.__key = internal global { %struct.lock_class_key, [24 x i8] } zeroinitializer, align 32
@.str.1 = internal constant { [19 x i8], [45 x i8] } { [19 x i8] c"&new_dev_set->lock\00", [45 x i8] zeroinitializer }, align 32
@__kstrtab_vfio_assign_device_set = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_assign_device_set = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_assign_device_set = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_assign_device_set to i32), ptr @__kstrtab_vfio_assign_device_set, ptr @__kstrtabns_vfio_assign_device_set }, section "___ksymtab_gpl+vfio_assign_device_set", align 4
@vfio = internal global { %struct.vfio, [92 x i8] } zeroinitializer, align 32
@__kstrtab_vfio_register_iommu_driver = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_register_iommu_driver = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_register_iommu_driver = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_register_iommu_driver to i32), ptr @__kstrtab_vfio_register_iommu_driver, ptr @__kstrtabns_vfio_register_iommu_driver }, section "___ksymtab_gpl+vfio_register_iommu_driver", align 4
@__kstrtab_vfio_unregister_iommu_driver = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_unregister_iommu_driver = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_unregister_iommu_driver = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_unregister_iommu_driver to i32), ptr @__kstrtab_vfio_unregister_iommu_driver, ptr @__kstrtabns_vfio_unregister_iommu_driver }, section "___ksymtab_gpl+vfio_unregister_iommu_driver", align 4
@__kstrtab_vfio_device_put = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_device_put = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_device_put = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_device_put to i32), ptr @__kstrtab_vfio_device_put, ptr @__kstrtabns_vfio_device_put }, section "___ksymtab_gpl+vfio_device_put", align 4
@__kstrtab_vfio_init_group_dev = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_init_group_dev = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_init_group_dev = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_init_group_dev to i32), ptr @__kstrtab_vfio_init_group_dev, ptr @__kstrtabns_vfio_init_group_dev }, section "___ksymtab_gpl+vfio_init_group_dev", align 4
@__kstrtab_vfio_uninit_group_dev = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_uninit_group_dev = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_uninit_group_dev = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_uninit_group_dev to i32), ptr @__kstrtab_vfio_uninit_group_dev, ptr @__kstrtabns_vfio_uninit_group_dev }, section "___ksymtab_gpl+vfio_uninit_group_dev", align 4
@__kstrtab_vfio_register_group_dev = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_register_group_dev = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_register_group_dev = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_register_group_dev to i32), ptr @__kstrtab_vfio_register_group_dev, ptr @__kstrtabns_vfio_register_group_dev }, section "___ksymtab_gpl+vfio_register_group_dev", align 4
@__kstrtab_vfio_register_emulated_iommu_dev = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_register_emulated_iommu_dev = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_register_emulated_iommu_dev = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_register_emulated_iommu_dev to i32), ptr @__kstrtab_vfio_register_emulated_iommu_dev, ptr @__kstrtabns_vfio_register_emulated_iommu_dev }, section "___ksymtab_gpl+vfio_register_emulated_iommu_dev", align 4
@__kstrtab_vfio_device_get_from_dev = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_device_get_from_dev = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_device_get_from_dev = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_device_get_from_dev to i32), ptr @__kstrtab_vfio_device_get_from_dev, ptr @__kstrtabns_vfio_device_get_from_dev }, section "___ksymtab_gpl+vfio_device_get_from_dev", align 4
@vfio_unregister_group_dev._entry = internal constant { %struct.pi_entry, [40 x i8] } { %struct.pi_entry { ptr @.str.2, ptr @.str.3, ptr @.str, i32 933, ptr @.str.4, ptr @.str.5 }, [40 x i8] zeroinitializer }, align 32
@.str.2 = internal constant { [76 x i8], [52 x i8] } { [76 x i8] c"Device is currently in use, task \22%s\22 (%d) blocked until device is released\00", [52 x i8] zeroinitializer }, align 32
@.str.3 = internal constant { [26 x i8], [38 x i8] } { [26 x i8] c"vfio_unregister_group_dev\00", [38 x i8] zeroinitializer }, align 32
@.str.4 = internal constant { [3 x i8], [29 x i8] } { [3 x i8] c"\014\00", [29 x i8] zeroinitializer }, align 32
@.str.5 = internal constant { [8 x i8], [24 x i8] } { [8 x i8] c"%s %s: \00", [24 x i8] zeroinitializer }, align 32
@vfio_unregister_group_dev._entry_ptr = internal global ptr @vfio_unregister_group_dev._entry, section ".printk_index", align 4
@__kstrtab_vfio_unregister_group_dev = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_unregister_group_dev = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_unregister_group_dev = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_unregister_group_dev to i32), ptr @__kstrtab_vfio_unregister_group_dev, ptr @__kstrtabns_vfio_unregister_group_dev }, section "___ksymtab_gpl+vfio_unregister_group_dev", align 4
@vfio_group_fops = internal constant { %struct.file_operations, [32 x i8] } { %struct.file_operations { ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr @vfio_group_fops_unl_ioctl, ptr null, ptr null, i32 0, ptr @vfio_group_fops_open, ptr null, ptr @vfio_group_fops_release, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null }, [32 x i8] zeroinitializer }, align 32
@__kstrtab_vfio_group_get_external_user = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_group_get_external_user = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_group_get_external_user = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_group_get_external_user to i32), ptr @__kstrtab_vfio_group_get_external_user, ptr @__kstrtabns_vfio_group_get_external_user }, section "___ksymtab_gpl+vfio_group_get_external_user", align 4
@__kstrtab_vfio_group_get_external_user_from_dev = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_group_get_external_user_from_dev = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_group_get_external_user_from_dev = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_group_get_external_user_from_dev to i32), ptr @__kstrtab_vfio_group_get_external_user_from_dev, ptr @__kstrtabns_vfio_group_get_external_user_from_dev }, section "___ksymtab_gpl+vfio_group_get_external_user_from_dev", align 4
@__kstrtab_vfio_group_put_external_user = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_group_put_external_user = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_group_put_external_user = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_group_put_external_user to i32), ptr @__kstrtab_vfio_group_put_external_user, ptr @__kstrtabns_vfio_group_put_external_user }, section "___ksymtab_gpl+vfio_group_put_external_user", align 4
@__kstrtab_vfio_external_group_match_file = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_external_group_match_file = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_external_group_match_file = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_external_group_match_file to i32), ptr @__kstrtab_vfio_external_group_match_file, ptr @__kstrtabns_vfio_external_group_match_file }, section "___ksymtab_gpl+vfio_external_group_match_file", align 4
@__kstrtab_vfio_external_user_iommu_id = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_external_user_iommu_id = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_external_user_iommu_id = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_external_user_iommu_id to i32), ptr @__kstrtab_vfio_external_user_iommu_id, ptr @__kstrtabns_vfio_external_user_iommu_id }, section "___ksymtab_gpl+vfio_external_user_iommu_id", align 4
@__kstrtab_vfio_external_check_extension = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_external_check_extension = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_external_check_extension = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_external_check_extension to i32), ptr @__kstrtab_vfio_external_check_extension, ptr @__kstrtabns_vfio_external_check_extension }, section "___ksymtab_gpl+vfio_external_check_extension", align 4
@__kstrtab_vfio_info_cap_add = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_info_cap_add = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_info_cap_add = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_info_cap_add to i32), ptr @__kstrtab_vfio_info_cap_add, ptr @__kstrtabns_vfio_info_cap_add }, section "___ksymtab_gpl+vfio_info_cap_add", align 4
@__kstrtab_vfio_info_cap_shift = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_info_cap_shift = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_info_cap_shift = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_info_cap_shift to i32), ptr @__kstrtab_vfio_info_cap_shift, ptr @__kstrtabns_vfio_info_cap_shift }, section "___ksymtab+vfio_info_cap_shift", align 4
@__kstrtab_vfio_info_add_capability = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_info_add_capability = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_info_add_capability = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_info_add_capability to i32), ptr @__kstrtab_vfio_info_add_capability, ptr @__kstrtabns_vfio_info_add_capability }, section "___ksymtab+vfio_info_add_capability", align 4
@__kstrtab_vfio_set_irqs_validate_and_prepare = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_set_irqs_validate_and_prepare = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_set_irqs_validate_and_prepare = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_set_irqs_validate_and_prepare to i32), ptr @__kstrtab_vfio_set_irqs_validate_and_prepare, ptr @__kstrtabns_vfio_set_irqs_validate_and_prepare }, section "___ksymtab+vfio_set_irqs_validate_and_prepare", align 4
@__kstrtab_vfio_pin_pages = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_pin_pages = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_pin_pages = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_pin_pages to i32), ptr @__kstrtab_vfio_pin_pages, ptr @__kstrtabns_vfio_pin_pages }, section "___ksymtab+vfio_pin_pages", align 4
@__kstrtab_vfio_unpin_pages = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_unpin_pages = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_unpin_pages = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_unpin_pages to i32), ptr @__kstrtab_vfio_unpin_pages, ptr @__kstrtabns_vfio_unpin_pages }, section "___ksymtab+vfio_unpin_pages", align 4
@__kstrtab_vfio_group_pin_pages = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_group_pin_pages = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_group_pin_pages = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_group_pin_pages to i32), ptr @__kstrtab_vfio_group_pin_pages, ptr @__kstrtabns_vfio_group_pin_pages }, section "___ksymtab+vfio_group_pin_pages", align 4
@__kstrtab_vfio_group_unpin_pages = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_group_unpin_pages = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_group_unpin_pages = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_group_unpin_pages to i32), ptr @__kstrtab_vfio_group_unpin_pages, ptr @__kstrtabns_vfio_group_unpin_pages }, section "___ksymtab+vfio_group_unpin_pages", align 4
@__kstrtab_vfio_dma_rw = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_dma_rw = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_dma_rw = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_dma_rw to i32), ptr @__kstrtab_vfio_dma_rw, ptr @__kstrtabns_vfio_dma_rw }, section "___ksymtab+vfio_dma_rw", align 4
@__kstrtab_vfio_group_set_kvm = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_group_set_kvm = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_group_set_kvm = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_group_set_kvm to i32), ptr @__kstrtab_vfio_group_set_kvm, ptr @__kstrtabns_vfio_group_set_kvm }, section "___ksymtab_gpl+vfio_group_set_kvm", align 4
@__kstrtab_vfio_register_notifier = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_register_notifier = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_register_notifier = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_register_notifier to i32), ptr @__kstrtab_vfio_register_notifier, ptr @__kstrtabns_vfio_register_notifier }, section "___ksymtab+vfio_register_notifier", align 4
@__kstrtab_vfio_unregister_notifier = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_unregister_notifier = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_unregister_notifier = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_unregister_notifier to i32), ptr @__kstrtab_vfio_unregister_notifier, ptr @__kstrtabns_vfio_unregister_notifier }, section "___ksymtab+vfio_unregister_notifier", align 4
@__kstrtab_vfio_group_iommu_domain = external dso_local constant [0 x i8], align 1
@__kstrtabns_vfio_group_iommu_domain = external dso_local constant [0 x i8], align 1
@__ksymtab_vfio_group_iommu_domain = internal constant %struct.kernel_symbol { i32 ptrtoint (ptr @vfio_group_iommu_domain to i32), ptr @__kstrtab_vfio_group_iommu_domain, ptr @__kstrtabns_vfio_group_iommu_domain }, section "___ksymtab_gpl+vfio_group_iommu_domain", align 4
@vfio_noiommu_ops = internal constant { %struct.vfio_iommu_driver_ops, [40 x i8] } { %struct.vfio_iommu_driver_ops { ptr @.str.31, ptr null, ptr @vfio_noiommu_open, ptr @vfio_noiommu_release, ptr @vfio_noiommu_ioctl, ptr @vfio_noiommu_attach_group, ptr @vfio_noiommu_detach_group, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null }, [40 x i8] zeroinitializer }, align 32
@vfio_dev = internal global { %struct.miscdevice, [56 x i8] } { %struct.miscdevice { i32 196, ptr @.str.7, ptr @vfio_fops, %struct.list_head zeroinitializer, ptr null, ptr null, ptr null, ptr @.str.39, i16 438 }, [56 x i8] zeroinitializer }, align 32
@__initcall__kmod_vfio__245_2350_vfio_init6 = internal global ptr @vfio_init, section ".initcall6.init", align 4
@__exitcall_vfio_cleanup = internal global ptr @vfio_cleanup, section ".exitcall.exit", align 4
@__UNIQUE_ID_version246 = internal constant [17 x i8] c"vfio.version=0.3\00", section ".modinfo", align 1
@.str.6 = internal constant { [8 x i8], [24 x i8] } { [8 x i8] c"version\00", [24 x i8] zeroinitializer }, align 32
@.str.7 = internal constant { [5 x i8], [27 x i8] } { [5 x i8] c"vfio\00", [27 x i8] zeroinitializer }, align 32
@.str.8 = internal constant { [4 x i8], [28 x i8] } { [4 x i8] c"0.3\00", [28 x i8] zeroinitializer }, align 32
@__modver_attr = internal global %struct.module_version_attribute { %struct.module_attribute { %struct.attribute { ptr @.str.6, i16 292, i8 0, ptr null, %struct.lock_class_key zeroinitializer }, ptr @__modver_version_show, ptr null, ptr null, ptr null, ptr null }, ptr @.str.7, ptr @.str.8 }, section "__modver", align 4
@__UNIQUE_ID_file247 = internal constant [28 x i8] c"vfio.file=drivers/vfio/vfio\00", section ".modinfo", align 1
@__UNIQUE_ID_license248 = internal constant [20 x i8] c"vfio.license=GPL v2\00", section ".modinfo", align 1
@__UNIQUE_ID_author249 = internal constant [57 x i8] c"vfio.author=Alex Williamson <alex.williamson@redhat.com>\00", section ".modinfo", align 1
@__UNIQUE_ID_description250 = internal constant [47 x i8] c"vfio.description=VFIO - User Level meta-driver\00", section ".modinfo", align 1
@__UNIQUE_ID_alias251 = internal constant [29 x i8] c"vfio.alias=char-major-10-196\00", section ".modinfo", align 1
@__UNIQUE_ID_alias252 = internal constant [29 x i8] c"vfio.alias=devname:vfio/vfio\00", section ".modinfo", align 1
@__UNIQUE_ID_softdep253 = internal constant [57 x i8] c"vfio.softdep=post: vfio_iommu_type1 vfio_iommu_spapr_tce\00", section ".modinfo", align 1
@.str.9 = internal constant { [27 x i8], [37 x i8] } { [27 x i8] c"vfio_device_set_xa.xa_lock\00", [37 x i8] zeroinitializer }, align 32
@kmalloc_caches = external dso_local local_unnamed_addr global [4 x [14 x ptr]], align 4
@init_completion.__key = internal global { %struct.lock_class_key, [24 x i8] } zeroinitializer, align 32
@.str.10 = internal constant { [9 x i8], [23 x i8] } { [9 x i8] c"&x->wait\00", [23 x i8] zeroinitializer }, align 32
@.str.11 = internal constant { [42 x i8], [54 x i8] } { [42 x i8] c"%s %s: Device already exists on group %d\0A\00", [54 x i8] zeroinitializer }, align 32
@vfio_group_find_or_alloc._entry = internal constant { %struct.pi_entry, [40 x i8] } { %struct.pi_entry { ptr @.str.12, ptr @.str.13, ptr @.str, i32 758, ptr @.str.4, ptr @.str.5 }, [40 x i8] zeroinitializer }, align 32
@.str.12 = internal constant { [54 x i8], [42 x i8] } { [54 x i8] c"Adding kernel taint for vfio-noiommu group on device\0A\00", [42 x i8] zeroinitializer }, align 32
@.str.13 = internal constant { [25 x i8], [39 x i8] } { [25 x i8] c"vfio_group_find_or_alloc\00", [39 x i8] zeroinitializer }, align 32
@vfio_group_find_or_alloc._entry_ptr = internal global ptr @vfio_group_find_or_alloc._entry, section ".printk_index", align 4
@.str.14 = internal constant { [5 x i8], [27 x i8] } { [5 x i8] c"%s%d\00", [27 x i8] zeroinitializer }, align 32
@.str.15 = internal constant { [9 x i8], [23 x i8] } { [9 x i8] c"noiommu-\00", [23 x i8] zeroinitializer }, align 32
@.str.16 = internal constant { [1 x i8], [31 x i8] } zeroinitializer, align 32
@vfio_group_alloc.__key = internal global { %struct.lock_class_key, [24 x i8] } zeroinitializer, align 32
@.str.17 = internal constant { [20 x i8], [44 x i8] } { [20 x i8] c"&group->device_lock\00", [44 x i8] zeroinitializer }, align 32
@vfio_group_alloc.__key.18 = internal global { %struct.lock_class_key, [24 x i8] } zeroinitializer, align 32
@.str.19 = internal constant { [21 x i8], [43 x i8] } { [21 x i8] c"&group->unbound_lock\00", [43 x i8] zeroinitializer }, align 32
@vfio_group_alloc.__key.20 = internal global { %struct.lock_class_key, [24 x i8] } zeroinitializer, align 32
@.str.21 = internal constant { [20 x i8], [44 x i8] } { [20 x i8] c"&group->container_q\00", [44 x i8] zeroinitializer }, align 32
@vfio_group_alloc.__key.22 = internal global { %struct.lock_class_key, [24 x i8] } zeroinitializer, align 32
@.str.23 = internal constant { [27 x i8], [37 x i8] } { [27 x i8] c"&(&group->notifier)->rwsem\00", [37 x i8] zeroinitializer }, align 32
@vfio_iommu_group_notifier.__UNIQUE_ID_ddebug241 = internal global { ptr, ptr, ptr, ptr, i8, i8, i8, i8, { { { %struct.atomic_t, { ptr } } } }, [4 x i8] } { ptr @.str.7, ptr @.str.24, ptr @.str, ptr @.str.25, i8 0, i8 -93, i8 -128, i8 0, { { { %struct.atomic_t, { ptr } } } } zeroinitializer, [4 x i8] undef }, section "__dyndbg", align 8
@.str.24 = internal constant { [26 x i8], [38 x i8] } { [26 x i8] c"vfio_iommu_group_notifier\00", [38 x i8] zeroinitializer }, align 32
@.str.25 = internal constant { [32 x i8], [32 x i8] } { [32 x i8] c"%s: group %d binding to driver\0A\00", [32 x i8] zeroinitializer }, align 32
@vfio_iommu_group_notifier.__UNIQUE_ID_ddebug242 = internal global { ptr, ptr, ptr, ptr, i8, i8, i8, i8, { { { %struct.atomic_t, { ptr } } } }, [4 x i8] } { ptr @.str.7, ptr @.str.24, ptr @.str, ptr @.str.26, i8 0, i8 -92, i8 -128, i8 0, { { { %struct.atomic_t, { ptr } } } } zeroinitializer, [4 x i8] undef }, section "__dyndbg", align 8
@.str.26 = internal constant { [33 x i8], [63 x i8] } { [33 x i8] c"%s: group %d bound to driver %s\0A\00", [63 x i8] zeroinitializer }, align 32
@vfio_iommu_group_notifier.__UNIQUE_ID_ddebug243 = internal global { ptr, ptr, ptr, ptr, i8, i8, i8, i8, { { { %struct.atomic_t, { ptr } } } }, [4 x i8] } { ptr @.str.7, ptr @.str.24, ptr @.str, ptr @.str.27, i8 0, i8 -90, i8 0, i8 0, { { { %struct.atomic_t, { ptr } } } } zeroinitializer, [4 x i8] undef }, section "__dyndbg", align 8
@.str.27 = internal constant { [39 x i8], [57 x i8] } { [39 x i8] c"%s: group %d unbinding from driver %s\0A\00", [57 x i8] zeroinitializer }, align 32
@vfio_iommu_group_notifier.__UNIQUE_ID_ddebug244 = internal global { ptr, ptr, ptr, ptr, i8, i8, i8, i8, { { { %struct.atomic_t, { ptr } } } }, [4 x i8] } { ptr @.str.7, ptr @.str.24, ptr @.str, ptr @.str.28, i8 0, i8 -89, i8 0, i8 0, { { { %struct.atomic_t, { ptr } } } } zeroinitializer, [4 x i8] undef }, section "__dyndbg", align 8
@.str.28 = internal constant { [34 x i8], [62 x i8] } { [34 x i8] c"%s: group %d unbound from driver\0A\00", [62 x i8] zeroinitializer }, align 32
@vfio_group_nb_add_dev.__already_done = internal unnamed_addr global i1 false, section ".data.once", align 1
@.str.29 = internal constant { [39 x i8], [57 x i8] } { [39 x i8] c"%s %s: Device added to live group %d!\0A\00", [57 x i8] zeroinitializer }, align 32
@pci_bus_type = external dso_local global %struct.bus_type, align 4
@vfio_driver_allowed = internal constant { [1 x ptr], [28 x i8] } { [1 x ptr] [ptr @.str.30], [28 x i8] zeroinitializer }, align 32
@.str.30 = internal constant { [9 x i8], [23 x i8] } { [9 x i8] c"pci-stub\00", [23 x i8] zeroinitializer }, align 32
@.str.31 = internal constant { [13 x i8], [19 x i8] } { [13 x i8] c"vfio-noiommu\00", [19 x i8] zeroinitializer }, align 32
@.str.34 = internal constant { [24 x i8], [40 x i8] } { [24 x i8] c"include/linux/uaccess.h\00", [40 x i8] zeroinitializer }, align 32
@vfio_fops = internal constant { %struct.file_operations, [32 x i8] } { %struct.file_operations { ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr @vfio_fops_unl_ioctl, ptr null, ptr null, i32 0, ptr @vfio_fops_open, ptr null, ptr @vfio_fops_release, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null }, [32 x i8] zeroinitializer }, align 32
@vfio_fops_open.__key = internal global { %struct.lock_class_key, [24 x i8] } zeroinitializer, align 32
@.str.35 = internal constant { [23 x i8], [41 x i8] } { [23 x i8] c"&container->group_lock\00", [41 x i8] zeroinitializer }, align 32
@.str.36 = internal constant { [14 x i8], [18 x i8] } { [14 x i8] c"[vfio-device]\00", [18 x i8] zeroinitializer }, align 32
@vfio_device_fops = internal constant { %struct.file_operations, [32 x i8] } { %struct.file_operations { ptr null, ptr null, ptr @vfio_device_fops_read, ptr @vfio_device_fops_write, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr @vfio_device_fops_unl_ioctl, ptr null, ptr @vfio_device_fops_mmap, i32 0, ptr null, ptr null, ptr @vfio_device_fops_release, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null }, [32 x i8] zeroinitializer }, align 32
@vfio_group_get_device_fd._entry = internal constant { %struct.pi_entry, [40 x i8] } { %struct.pi_entry { ptr @.str.37, ptr @.str.38, ptr @.str, i32 1393, ptr @.str.4, ptr @.str.5 }, [40 x i8] zeroinitializer }, align 32
@.str.37 = internal constant { [44 x i8], [52 x i8] } { [44 x i8] c"vfio-noiommu device opened by user (%s:%d)\0A\00", [52 x i8] zeroinitializer }, align 32
@.str.38 = internal constant { [25 x i8], [39 x i8] } { [25 x i8] c"vfio_group_get_device_fd\00", [39 x i8] zeroinitializer }, align 32
@vfio_group_get_device_fd._entry_ptr = internal global ptr @vfio_group_get_device_fd._entry, section ".printk_index", align 4
@vfio_group_fops_open.__key = internal global { %struct.lock_class_key, [24 x i8] } zeroinitializer, align 32
@.str.39 = internal constant { [10 x i8], [22 x i8] } { [10 x i8] c"vfio/vfio\00", [22 x i8] zeroinitializer }, align 32
@vfio_init.__key = internal global { %struct.lock_class_key, [24 x i8] } zeroinitializer, align 32
@.str.40 = internal constant { [17 x i8], [47 x i8] } { [17 x i8] c"&vfio.group_lock\00", [47 x i8] zeroinitializer }, align 32
@vfio_init.__key.41 = internal global { %struct.lock_class_key, [24 x i8] } zeroinitializer, align 32
@.str.42 = internal constant { [25 x i8], [39 x i8] } { [25 x i8] c"&vfio.iommu_drivers_lock\00", [39 x i8] zeroinitializer }, align 32
@vfio_init._entry = internal constant { %struct.pi_entry, [40 x i8] } { %struct.pi_entry { ptr @.str.43, ptr @.str.44, ptr @.str, i32 2303, ptr null, ptr null }, [40 x i8] zeroinitializer }, align 32
@.str.43 = internal constant { [37 x i8], [59 x i8] } { [37 x i8] c"\013vfio: misc device register failed\0A\00", [59 x i8] zeroinitializer }, align 32
@.str.44 = internal constant { [10 x i8], [22 x i8] } { [10 x i8] c"vfio_init\00", [22 x i8] zeroinitializer }, align 32
@vfio_init._entry_ptr = internal global ptr @vfio_init._entry, section ".printk_index", align 4
@vfio_init.__key.45 = internal global { %struct.lock_class_key, [24 x i8] } zeroinitializer, align 32
@vfio_init._entry.46 = internal constant { %struct.pi_entry, [40 x i8] } { %struct.pi_entry { ptr @.str.47, ptr @.str.44, ptr @.str, i32 2320, ptr null, ptr null }, [40 x i8] zeroinitializer }, align 32
@.str.47 = internal constant { [46 x i8], [50 x i8] } { [46 x i8] c"\016VFIO - User Level meta-driver version: 0.3\0A\00", [50 x i8] zeroinitializer }, align 32
@vfio_init._entry_ptr.48 = internal global ptr @vfio_init._entry.46, section ".printk_index", align 4
@xa_init_flags.__key = internal global { %struct.lock_class_key, [24 x i8] } zeroinitializer, align 32
@.str.49 = internal constant { [13 x i8], [19 x i8] } { [13 x i8] c"&xa->xa_lock\00", [19 x i8] zeroinitializer }, align 32
@.str.50 = internal constant { [8 x i8], [24 x i8] } { [8 x i8] c"vfio/%s\00", [24 x i8] zeroinitializer }, align 32
@__sancov_gen_cov_switch_values = internal global [5 x i64] [i64 3, i64 32, i64 1, i64 2, i64 4]
@__sancov_gen_cov_switch_values.51 = internal global [4 x i64] [i64 2, i64 32, i64 0, i64 1]
@__sancov_gen_cov_switch_values.52 = internal global [4 x i64] [i64 2, i64 32, i64 0, i64 1]
@__sancov_gen_cov_switch_values.53 = internal global [7 x i64] [i64 5, i64 32, i64 1, i64 3, i64 4, i64 5, i64 6]
@__sancov_gen_cov_switch_values.54 = internal global [6 x i64] [i64 4, i64 32, i64 15207, i64 15208, i64 15209, i64 15210]
@__sancov_gen_cov_switch_values.55 = internal global [4 x i64] [i64 2, i64 32, i64 0, i64 1]
@__sancov_gen_cov_switch_values.56 = internal global [5 x i64] [i64 3, i64 32, i64 15204, i64 15205, i64 15206]
@___asan_gen_.59 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 108, i32 6 }
@___asan_gen_.60 = private unnamed_addr constant [19 x i8] c"vfio_device_set_xa\00", align 1
@___asan_gen_.68 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 123, i32 2 }
@___asan_gen_.69 = private unnamed_addr constant [5 x i8] c"vfio\00", align 1
@___asan_gen_.71 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 49, i32 3 }
@___asan_gen_.86 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 929, i32 5 }
@___asan_gen_.87 = private unnamed_addr constant [16 x i8] c"vfio_group_fops\00", align 1
@___asan_gen_.89 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 1531, i32 37 }
@___asan_gen_.90 = private unnamed_addr constant [17 x i8] c"vfio_noiommu_ops\00", align 1
@___asan_gen_.92 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 208, i32 43 }
@___asan_gen_.93 = private unnamed_addr constant [9 x i8] c"vfio_dev\00", align 1
@___asan_gen_.95 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 2283, i32 26 }
@___asan_gen_.104 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 2353, i32 1 }
@___asan_gen_.107 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 99, i32 8 }
@___asan_gen_.112 = private unnamed_addr constant [30 x i8] c"../include/linux/completion.h\00", align 1
@___asan_gen_.113 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.112, i32 87, i32 2 }
@___asan_gen_.116 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 792, i32 3 }
@___asan_gen_.125 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 758, i32 4 }
@___asan_gen_.128 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 407, i32 34 }
@___asan_gen_.131 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 408, i32 38 }
@___asan_gen_.134 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 408, i32 51 }
@___asan_gen_.140 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 383, i32 2 }
@___asan_gen_.146 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 385, i32 2 }
@___asan_gen_.152 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 386, i32 2 }
@___asan_gen_.158 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 391, i32 2 }
@___asan_gen_.164 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 653, i32 3 }
@___asan_gen_.167 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 657, i32 3 }
@___asan_gen_.170 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 662, i32 3 }
@___asan_gen_.173 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 667, i32 3 }
@___asan_gen_.176 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 617, i32 2 }
@___asan_gen_.177 = private unnamed_addr constant [20 x i8] c"vfio_driver_allowed\00", align 1
@___asan_gen_.179 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 538, i32 27 }
@___asan_gen_.182 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 538, i32 53 }
@___asan_gen_.185 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 721, i32 36 }
@___asan_gen_.187 = private unnamed_addr constant [27 x i8] c"../include/linux/uaccess.h\00", align 1
@___asan_gen_.188 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.187, i32 156, i32 2 }
@___asan_gen_.189 = private unnamed_addr constant [10 x i8] c"vfio_fops\00", align 1
@___asan_gen_.191 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 1178, i32 37 }
@___asan_gen_.197 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 1154, i32 2 }
@___asan_gen_.200 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 1373, i32 29 }
@___asan_gen_.201 = private unnamed_addr constant [17 x i8] c"vfio_device_fops\00", align 1
@___asan_gen_.203 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 1604, i32 37 }
@___asan_gen_.212 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 1392, i32 3 }
@___asan_gen_.215 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 1509, i32 3 }
@___asan_gen_.218 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 2287, i32 14 }
@___asan_gen_.224 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 2296, i32 2 }
@___asan_gen_.230 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 2297, i32 2 }
@___asan_gen_.239 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 2303, i32 3 }
@___asan_gen_.242 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 2308, i32 15 }
@___asan_gen_.243 = private unnamed_addr constant [7 x i8] c"_entry\00", align 1
@___asan_gen_.248 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 2320, i32 2 }
@___asan_gen_.249 = private unnamed_addr constant [6 x i8] c"__key\00", align 1
@___asan_gen_.253 = private unnamed_addr constant [26 x i8] c"../include/linux/xarray.h\00", align 1
@___asan_gen_.254 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.253, i32 378, i32 2 }
@___asan_gen_.255 = private unnamed_addr constant [17 x i8] c"<string literal>\00", align 1
@___asan_gen_.256 = private constant [23 x i8] c"../drivers/vfio/vfio.c\00", align 1
@___asan_gen_.257 = private unnamed_addr constant { ptr, i32, i32 } { ptr @___asan_gen_.256, i32 2280, i32 31 }
@llvm.compiler.used = appending global [116 x ptr] [ptr @__UNIQUE_ID_alias251, ptr @__UNIQUE_ID_alias252, ptr @__UNIQUE_ID_author249, ptr @__UNIQUE_ID_description250, ptr @__UNIQUE_ID_enable_unsafe_noiommu_mode239, ptr @__UNIQUE_ID_enable_unsafe_noiommu_modetype238, ptr @__UNIQUE_ID_file247, ptr @__UNIQUE_ID_license248, ptr @__UNIQUE_ID_softdep253, ptr @__UNIQUE_ID_version246, ptr @__exitcall_vfio_cleanup, ptr @__initcall__kmod_vfio__245_2350_vfio_init6, ptr @__ksymtab_vfio_assign_device_set, ptr @__ksymtab_vfio_device_get_from_dev, ptr @__ksymtab_vfio_device_put, ptr @__ksymtab_vfio_dma_rw, ptr @__ksymtab_vfio_external_check_extension, ptr @__ksymtab_vfio_external_group_match_file, ptr @__ksymtab_vfio_external_user_iommu_id, ptr @__ksymtab_vfio_group_get_external_user, ptr @__ksymtab_vfio_group_get_external_user_from_dev, ptr @__ksymtab_vfio_group_iommu_domain, ptr @__ksymtab_vfio_group_pin_pages, ptr @__ksymtab_vfio_group_put_external_user, ptr @__ksymtab_vfio_group_set_kvm, ptr @__ksymtab_vfio_group_unpin_pages, ptr @__ksymtab_vfio_info_add_capability, ptr @__ksymtab_vfio_info_cap_add, ptr @__ksymtab_vfio_info_cap_shift, ptr @__ksymtab_vfio_init_group_dev, ptr @__ksymtab_vfio_pin_pages, ptr @__ksymtab_vfio_register_emulated_iommu_dev, ptr @__ksymtab_vfio_register_group_dev, ptr @__ksymtab_vfio_register_iommu_driver, ptr @__ksymtab_vfio_register_notifier, ptr @__ksymtab_vfio_set_irqs_validate_and_prepare, ptr @__ksymtab_vfio_uninit_group_dev, ptr @__ksymtab_vfio_unpin_pages, ptr @__ksymtab_vfio_unregister_group_dev, ptr @__ksymtab_vfio_unregister_iommu_driver, ptr @__ksymtab_vfio_unregister_notifier, ptr @__modver_attr, ptr @__param_enable_unsafe_noiommu_mode, ptr @vfio_cleanup, ptr @vfio_group_find_or_alloc._entry, ptr @vfio_group_find_or_alloc._entry_ptr, ptr @vfio_group_get_device_fd._entry, ptr @vfio_group_get_device_fd._entry_ptr, ptr @vfio_init._entry, ptr @vfio_init._entry.46, ptr @vfio_init._entry_ptr, ptr @vfio_init._entry_ptr.48, ptr @vfio_unregister_group_dev._entry, ptr @vfio_unregister_group_dev._entry_ptr, ptr @.str, ptr @vfio_device_set_xa, ptr @vfio_assign_device_set.__key, ptr @.str.1, ptr @vfio, ptr @.str.2, ptr @.str.3, ptr @.str.4, ptr @.str.5, ptr @vfio_group_fops, ptr @vfio_noiommu_ops, ptr @vfio_dev, ptr @.str.6, ptr @.str.7, ptr @.str.8, ptr @.str.9, ptr @init_completion.__key, ptr @.str.10, ptr @.str.11, ptr @.str.12, ptr @.str.13, ptr @.str.14, ptr @.str.15, ptr @.str.16, ptr @vfio_group_alloc.__key, ptr @.str.17, ptr @vfio_group_alloc.__key.18, ptr @.str.19, ptr @vfio_group_alloc.__key.20, ptr @.str.21, ptr @vfio_group_alloc.__key.22, ptr @.str.23, ptr @.str.24, ptr @.str.25, ptr @.str.26, ptr @.str.27, ptr @.str.28, ptr @.str.29, ptr @vfio_driver_allowed, ptr @.str.30, ptr @.str.31, ptr @.str.34, ptr @vfio_fops, ptr @vfio_fops_open.__key, ptr @.str.35, ptr @.str.36, ptr @vfio_device_fops, ptr @.str.37, ptr @.str.38, ptr @vfio_group_fops_open.__key, ptr @.str.39, ptr @vfio_init.__key, ptr @.str.40, ptr @vfio_init.__key.41, ptr @.str.42, ptr @.str.43, ptr @.str.44, ptr @vfio_init.__key.45, ptr @.str.47, ptr @xa_init_flags.__key, ptr @.str.49, ptr @.str.50], section "llvm.metadata"
@0 = internal global [67 x { i32, i32, i32, i32, i32, i32, i32, i32 }] [{ i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str to i32), i32 20, i32 64, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.59 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @vfio_device_set_xa to i32), i32 52, i32 96, i32 ptrtoint (ptr @___asan_gen_.60 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.107 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @vfio_assign_device_set.__key to i32), i32 8, i32 32, i32 ptrtoint (ptr @___asan_gen_.249 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.68 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.1 to i32), i32 19, i32 64, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.68 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @vfio to i32), i32 260, i32 352, i32 ptrtoint (ptr @___asan_gen_.69 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.71 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @vfio_unregister_group_dev._entry to i32), i32 24, i32 64, i32 ptrtoint (ptr @___asan_gen_.243 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.86 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.2 to i32), i32 76, i32 128, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.86 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.3 to i32), i32 26, i32 64, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.86 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.4 to i32), i32 3, i32 32, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.86 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.5 to i32), i32 8, i32 32, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.86 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @vfio_group_fops to i32), i32 128, i32 160, i32 ptrtoint (ptr @___asan_gen_.87 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.89 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @vfio_noiommu_ops to i32), i32 56, i32 96, i32 ptrtoint (ptr @___asan_gen_.90 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.92 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @vfio_dev to i32), i32 40, i32 96, i32 ptrtoint (ptr @___asan_gen_.93 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.95 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.6 to i32), i32 8, i32 32, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.104 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.7 to i32), i32 5, i32 32, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.104 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.8 to i32), i32 4, i32 32, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.104 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.9 to i32), i32 27, i32 64, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.107 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @init_completion.__key to i32), i32 8, i32 32, i32 ptrtoint (ptr @___asan_gen_.249 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.113 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.10 to i32), i32 9, i32 32, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.113 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.11 to i32), i32 42, i32 96, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.116 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @vfio_group_find_or_alloc._entry to i32), i32 24, i32 64, i32 ptrtoint (ptr @___asan_gen_.243 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.125 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.12 to i32), i32 54, i32 96, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.125 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.13 to i32), i32 25, i32 64, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.125 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.14 to i32), i32 5, i32 32, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.128 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.15 to i32), i32 9, i32 32, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.131 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.16 to i32), i32 1, i32 32, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.134 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @vfio_group_alloc.__key to i32), i32 8, i32 32, i32 ptrtoint (ptr @___asan_gen_.249 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.140 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.17 to i32), i32 20, i32 64, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.140 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @vfio_group_alloc.__key.18 to i32), i32 8, i32 32, i32 ptrtoint (ptr @___asan_gen_.249 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.146 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.19 to i32), i32 21, i32 64, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.146 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @vfio_group_alloc.__key.20 to i32), i32 8, i32 32, i32 ptrtoint (ptr @___asan_gen_.249 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.152 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.21 to i32), i32 20, i32 64, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.152 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @vfio_group_alloc.__key.22 to i32), i32 8, i32 32, i32 ptrtoint (ptr @___asan_gen_.249 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.158 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.23 to i32), i32 27, i32 64, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.158 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.24 to i32), i32 26, i32 64, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.164 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.25 to i32), i32 32, i32 64, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.164 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.26 to i32), i32 33, i32 96, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.167 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.27 to i32), i32 39, i32 96, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.170 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.28 to i32), i32 34, i32 96, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.173 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.29 to i32), i32 39, i32 96, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.176 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @vfio_driver_allowed to i32), i32 4, i32 32, i32 ptrtoint (ptr @___asan_gen_.177 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.179 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.30 to i32), i32 9, i32 32, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.182 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.31 to i32), i32 13, i32 32, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.185 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.34 to i32), i32 24, i32 64, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.188 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @vfio_fops to i32), i32 128, i32 160, i32 ptrtoint (ptr @___asan_gen_.189 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.191 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @vfio_fops_open.__key to i32), i32 8, i32 32, i32 ptrtoint (ptr @___asan_gen_.249 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.197 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.35 to i32), i32 23, i32 64, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.197 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.36 to i32), i32 14, i32 32, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.200 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @vfio_device_fops to i32), i32 128, i32 160, i32 ptrtoint (ptr @___asan_gen_.201 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.203 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @vfio_group_get_device_fd._entry to i32), i32 24, i32 64, i32 ptrtoint (ptr @___asan_gen_.243 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.212 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.37 to i32), i32 44, i32 96, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.212 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.38 to i32), i32 25, i32 64, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.212 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @vfio_group_fops_open.__key to i32), i32 8, i32 32, i32 ptrtoint (ptr @___asan_gen_.249 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.215 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.39 to i32), i32 10, i32 32, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.218 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @vfio_init.__key to i32), i32 8, i32 32, i32 ptrtoint (ptr @___asan_gen_.249 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.224 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.40 to i32), i32 17, i32 64, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.224 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @vfio_init.__key.41 to i32), i32 8, i32 32, i32 ptrtoint (ptr @___asan_gen_.249 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.230 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.42 to i32), i32 25, i32 64, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.230 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @vfio_init._entry to i32), i32 24, i32 64, i32 ptrtoint (ptr @___asan_gen_.243 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.239 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.43 to i32), i32 37, i32 96, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.239 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.44 to i32), i32 10, i32 32, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.239 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @vfio_init.__key.45 to i32), i32 8, i32 32, i32 ptrtoint (ptr @___asan_gen_.249 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.242 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @vfio_init._entry.46 to i32), i32 24, i32 64, i32 ptrtoint (ptr @___asan_gen_.243 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.248 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.47 to i32), i32 46, i32 96, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.248 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @xa_init_flags.__key to i32), i32 8, i32 32, i32 ptrtoint (ptr @___asan_gen_.249 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.254 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.49 to i32), i32 13, i32 32, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.254 to i32), i32 -1 }, { i32, i32, i32, i32, i32, i32, i32, i32 } { i32 ptrtoint (ptr @.str.50 to i32), i32 8, i32 32, i32 ptrtoint (ptr @___asan_gen_.255 to i32), i32 ptrtoint (ptr @___asan_gen_.256 to i32), i32 0, i32 ptrtoint (ptr @___asan_gen_.257 to i32), i32 -1 }]
@llvm.used = appending global [2 x ptr] [ptr @asan.module_ctor, ptr @asan.module_dtor], section "llvm.metadata"
@llvm.global_ctors = appending global [1 x { i32, ptr, ptr }] [{ i32, ptr, ptr } { i32 1, ptr @asan.module_ctor, ptr null }]
@llvm.global_dtors = appending global [1 x { i32, ptr, ptr }] [{ i32, ptr, ptr } { i32 1, ptr @asan.module_dtor, ptr null }]

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local i32 @vfio_assign_device_set(ptr noundef %device, ptr noundef %set_id) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %0 = ptrtoint ptr %set_id to i32
  %tobool.not = icmp eq ptr %set_id, null
  br i1 %tobool.not, label %do.end, label %if.end23, !prof !220

do.end:                                           ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  tail call void (ptr, i32, i32, ptr, ...) @warn_slowpath_fmt(ptr noundef nonnull @.str, i32 noundef 108, i32 noundef 9, ptr noundef null) #15
  br label %cleanup

if.end23:                                         ; preds = %entry
  tail call void @_raw_spin_lock(ptr noundef nonnull @vfio_device_set_xa) #15
  %call = tail call ptr @xa_load(ptr noundef nonnull @vfio_device_set_xa, i32 noundef %0) #15
  %tobool24.not = icmp eq ptr %call, null
  br i1 %tobool24.not, label %if.end26, label %if.end23.found_get_ref_crit_edge

if.end23.found_get_ref_crit_edge:                 ; preds = %if.end23
  call void @__sanitizer_cov_trace_pc() #17
  br label %found_get_ref

if.end26:                                         ; preds = %if.end23
  tail call void @_raw_spin_unlock(ptr noundef nonnull @vfio_device_set_xa) #15
  call void @__asan_load4_noabort(i32 ptrtoint (ptr getelementptr inbounds ([4 x [14 x ptr]], ptr @kmalloc_caches, i32 0, i32 0, i32 7) to i32))
  %1 = load ptr, ptr getelementptr inbounds ([4 x [14 x ptr]], ptr @kmalloc_caches, i32 0, i32 0, i32 7), align 4
  %call7.i.i = tail call noalias align 8 ptr @kmem_cache_alloc_trace(ptr noundef %1, i32 noundef 3520, i32 noundef 108) #18
  %tobool28.not = icmp eq ptr %call7.i.i, null
  br i1 %tobool28.not, label %if.end26.cleanup_crit_edge, label %do.body31

if.end26.cleanup_crit_edge:                       ; preds = %if.end26
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

do.body31:                                        ; preds = %if.end26
  %lock = getelementptr inbounds %struct.vfio_device_set, ptr %call7.i.i, i32 0, i32 1
  tail call void @__mutex_init(ptr noundef %lock, ptr noundef nonnull @.str.1, ptr noundef nonnull @vfio_assign_device_set.__key) #15
  %device_list = getelementptr inbounds %struct.vfio_device_set, ptr %call7.i.i, i32 0, i32 2
  %2 = ptrtoint ptr %device_list to i32
  call void @__asan_store4_noabort(i32 %2)
  store volatile ptr %device_list, ptr %device_list, align 8
  %prev.i = getelementptr inbounds %struct.vfio_device_set, ptr %call7.i.i, i32 0, i32 2, i32 1
  %3 = ptrtoint ptr %prev.i to i32
  call void @__asan_store4_noabort(i32 %3)
  store ptr %device_list, ptr %prev.i, align 4
  %4 = ptrtoint ptr %call7.i.i to i32
  call void @__asan_store4_noabort(i32 %4)
  store ptr %set_id, ptr %call7.i.i, align 8
  tail call void @_raw_spin_lock(ptr noundef nonnull @vfio_device_set_xa) #15
  %call35 = tail call ptr @__xa_cmpxchg(ptr noundef nonnull @vfio_device_set_xa, i32 noundef %0, ptr noundef null, ptr noundef nonnull %call7.i.i, i32 noundef 3264) #15
  %tobool36.not = icmp eq ptr %call35, null
  br i1 %tobool36.not, label %do.body31.found_get_ref_crit_edge, label %if.end38

do.body31.found_get_ref_crit_edge:                ; preds = %do.body31
  call void @__sanitizer_cov_trace_pc() #17
  br label %found_get_ref

if.end38:                                         ; preds = %do.body31
  tail call void @kfree(ptr noundef nonnull %call7.i.i) #15
  %5 = ptrtoint ptr %call35 to i32
  %and.i.i = and i32 %5, 3
  call void @__sanitizer_cov_trace_const_cmp4(i32 2, i32 %and.i.i)
  %cmp.i.i = icmp eq i32 %and.i.i, 2
  %cmp.i = icmp uge ptr %call35, inttoptr (i32 -16378 to ptr)
  %spec.select.i = and i1 %cmp.i, %cmp.i.i
  br i1 %spec.select.i, label %if.then40, label %if.end38.found_get_ref_crit_edge

if.end38.found_get_ref_crit_edge:                 ; preds = %if.end38
  call void @__sanitizer_cov_trace_pc() #17
  br label %found_get_ref

if.then40:                                        ; preds = %if.end38
  call void @__sanitizer_cov_trace_pc() #17
  tail call void @_raw_spin_unlock(ptr noundef nonnull @vfio_device_set_xa) #15
  %shr.i = ashr i32 %5, 2
  br label %cleanup

found_get_ref:                                    ; preds = %if.end38.found_get_ref_crit_edge, %do.body31.found_get_ref_crit_edge, %if.end23.found_get_ref_crit_edge
  %dev_set.0 = phi ptr [ %call, %if.end23.found_get_ref_crit_edge ], [ %call35, %if.end38.found_get_ref_crit_edge ], [ %call7.i.i, %do.body31.found_get_ref_crit_edge ]
  %device_count = getelementptr inbounds %struct.vfio_device_set, ptr %dev_set.0, i32 0, i32 3
  %6 = ptrtoint ptr %device_count to i32
  call void @__asan_load4_noabort(i32 %6)
  %7 = load i32, ptr %device_count, align 4
  %inc = add i32 %7, 1
  store i32 %inc, ptr %device_count, align 4
  tail call void @_raw_spin_unlock(ptr noundef nonnull @vfio_device_set_xa) #15
  %lock43 = getelementptr inbounds %struct.vfio_device_set, ptr %dev_set.0, i32 0, i32 1
  tail call void @mutex_lock_nested(ptr noundef %lock43, i32 noundef 0) #15
  %dev_set44 = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 3
  %8 = ptrtoint ptr %dev_set44 to i32
  call void @__asan_store4_noabort(i32 %8)
  store ptr %dev_set.0, ptr %dev_set44, align 4
  %dev_set_list = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 4
  %device_list45 = getelementptr inbounds %struct.vfio_device_set, ptr %dev_set.0, i32 0, i32 2
  %prev.i69 = getelementptr inbounds %struct.vfio_device_set, ptr %dev_set.0, i32 0, i32 2, i32 1
  %9 = ptrtoint ptr %prev.i69 to i32
  call void @__asan_load4_noabort(i32 %9)
  %10 = load ptr, ptr %prev.i69, align 4
  %call.i.i = tail call zeroext i1 @__list_add_valid(ptr noundef %dev_set_list, ptr noundef %10, ptr noundef %device_list45) #15
  br i1 %call.i.i, label %if.end.i.i, label %found_get_ref.list_add_tail.exit_crit_edge

found_get_ref.list_add_tail.exit_crit_edge:       ; preds = %found_get_ref
  call void @__sanitizer_cov_trace_pc() #17
  br label %list_add_tail.exit

if.end.i.i:                                       ; preds = %found_get_ref
  call void @__sanitizer_cov_trace_pc() #17
  %11 = ptrtoint ptr %prev.i69 to i32
  call void @__asan_store4_noabort(i32 %11)
  store ptr %dev_set_list, ptr %prev.i69, align 4
  %12 = ptrtoint ptr %dev_set_list to i32
  call void @__asan_store4_noabort(i32 %12)
  store ptr %device_list45, ptr %dev_set_list, align 4
  %prev3.i.i = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 4, i32 1
  %13 = ptrtoint ptr %prev3.i.i to i32
  call void @__asan_store4_noabort(i32 %13)
  store ptr %10, ptr %prev3.i.i, align 4
  %14 = ptrtoint ptr %10 to i32
  call void @__asan_store4_noabort(i32 %14)
  store volatile ptr %dev_set_list, ptr %10, align 4
  br label %list_add_tail.exit

list_add_tail.exit:                               ; preds = %if.end.i.i, %found_get_ref.list_add_tail.exit_crit_edge
  tail call void @mutex_unlock(ptr noundef %lock43) #15
  br label %cleanup

cleanup:                                          ; preds = %list_add_tail.exit, %if.then40, %if.end26.cleanup_crit_edge, %do.end
  %retval.0 = phi i32 [ -22, %do.end ], [ 0, %list_add_tail.exit ], [ %shr.i, %if.then40 ], [ -12, %if.end26.cleanup_crit_edge ]
  ret i32 %retval.0
}

; Function Attrs: argmemonly nocallback nofree nosync nounwind willreturn
declare void @llvm.lifetime.start.p0(i64 immarg, ptr nocapture) #1

; Function Attrs: null_pointer_is_valid
declare dso_local void @warn_slowpath_fmt(ptr noundef, i32 noundef, i32 noundef, ptr noundef, ...) local_unnamed_addr #2

; Function Attrs: argmemonly nocallback nofree nosync nounwind willreturn
declare void @llvm.lifetime.end.p0(i64 immarg, ptr nocapture) #1

; Function Attrs: null_pointer_is_valid
declare dso_local ptr @xa_load(ptr noundef, i32 noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @__mutex_init(ptr noundef, ptr noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local ptr @__xa_cmpxchg(ptr noundef, i32 noundef, ptr noundef, ptr noundef, i32 noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @kfree(ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @mutex_lock_nested(ptr noundef, i32 noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @mutex_unlock(ptr noundef) local_unnamed_addr #2

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local i32 @vfio_register_iommu_driver(ptr noundef %ops) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  call void @__asan_load4_noabort(i32 ptrtoint (ptr getelementptr inbounds ([4 x [14 x ptr]], ptr @kmalloc_caches, i32 0, i32 0, i32 7) to i32))
  %0 = load ptr, ptr getelementptr inbounds ([4 x [14 x ptr]], ptr @kmalloc_caches, i32 0, i32 0, i32 7), align 4
  %call7.i.i = tail call noalias align 8 ptr @kmem_cache_alloc_trace(ptr noundef %0, i32 noundef 3520, i32 noundef 12) #18
  %tobool.not = icmp eq ptr %call7.i.i, null
  br i1 %tobool.not, label %entry.cleanup_crit_edge, label %if.end

entry.cleanup_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end:                                           ; preds = %entry
  %1 = ptrtoint ptr %call7.i.i to i32
  call void @__asan_store4_noabort(i32 %1)
  store ptr %ops, ptr %call7.i.i, align 8
  tail call void @mutex_lock_nested(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 2), i32 noundef 0) #15
  br label %for.cond

for.cond:                                         ; preds = %for.body.for.cond_crit_edge, %if.end
  %.pn.in = phi ptr [ getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 1), %if.end ], [ %.pn, %for.body.for.cond_crit_edge ]
  %2 = ptrtoint ptr %.pn.in to i32
  call void @__asan_load4_noabort(i32 %2)
  %.pn = load ptr, ptr %.pn.in, align 4
  %cmp.not = icmp eq ptr %.pn, getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 1)
  br i1 %cmp.not, label %for.end, label %for.body

for.body:                                         ; preds = %for.cond
  %tmp.0 = getelementptr i8, ptr %.pn, i32 -4
  %3 = ptrtoint ptr %tmp.0 to i32
  call void @__asan_load4_noabort(i32 %3)
  %4 = load ptr, ptr %tmp.0, align 4
  %cmp4 = icmp eq ptr %4, %ops
  br i1 %cmp4, label %if.then5, label %for.body.for.cond_crit_edge

for.body.for.cond_crit_edge:                      ; preds = %for.body
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.cond

if.then5:                                         ; preds = %for.body
  call void @__sanitizer_cov_trace_pc() #17
  tail call void @mutex_unlock(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 2)) #15
  tail call void @kfree(ptr noundef nonnull %call7.i.i) #15
  br label %cleanup

for.end:                                          ; preds = %for.cond
  %vfio_next11 = getelementptr inbounds %struct.vfio_iommu_driver, ptr %call7.i.i, i32 0, i32 1
  %5 = load ptr, ptr getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 1), align 4
  %call.i.i = tail call zeroext i1 @__list_add_valid(ptr noundef %vfio_next11, ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 1), ptr noundef %5) #15
  br i1 %call.i.i, label %if.end.i.i, label %for.end.list_add.exit_crit_edge

for.end.list_add.exit_crit_edge:                  ; preds = %for.end
  call void @__sanitizer_cov_trace_pc() #17
  br label %list_add.exit

if.end.i.i:                                       ; preds = %for.end
  call void @__sanitizer_cov_trace_pc() #17
  %prev1.i.i = getelementptr inbounds %struct.list_head, ptr %5, i32 0, i32 1
  %6 = ptrtoint ptr %prev1.i.i to i32
  call void @__asan_store4_noabort(i32 %6)
  store ptr %vfio_next11, ptr %prev1.i.i, align 4
  %7 = ptrtoint ptr %vfio_next11 to i32
  call void @__asan_store4_noabort(i32 %7)
  store ptr %5, ptr %vfio_next11, align 4
  %prev3.i.i = getelementptr inbounds %struct.vfio_iommu_driver, ptr %call7.i.i, i32 0, i32 1, i32 1
  %8 = ptrtoint ptr %prev3.i.i to i32
  call void @__asan_store4_noabort(i32 %8)
  store ptr getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 1), ptr %prev3.i.i, align 8
  store volatile ptr %vfio_next11, ptr getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 1), align 4
  br label %list_add.exit

list_add.exit:                                    ; preds = %if.end.i.i, %for.end.list_add.exit_crit_edge
  tail call void @mutex_unlock(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 2)) #15
  br label %cleanup

cleanup:                                          ; preds = %list_add.exit, %if.then5, %entry.cleanup_crit_edge
  %retval.0 = phi i32 [ -22, %if.then5 ], [ 0, %list_add.exit ], [ -12, %entry.cleanup_crit_edge ]
  ret i32 %retval.0
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local void @vfio_unregister_iommu_driver(ptr noundef readnone %ops) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  tail call void @mutex_lock_nested(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 2), i32 noundef 0) #15
  br label %for.cond

for.cond:                                         ; preds = %for.body.for.cond_crit_edge, %entry
  %.pn.in = phi ptr [ getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 1), %entry ], [ %.pn, %for.body.for.cond_crit_edge ]
  %0 = ptrtoint ptr %.pn.in to i32
  call void @__asan_load4_noabort(i32 %0)
  %.pn = load ptr, ptr %.pn.in, align 4
  %cmp.not = icmp eq ptr %.pn, getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 1)
  br i1 %cmp.not, label %for.end, label %for.body

for.body:                                         ; preds = %for.cond
  %driver.0 = getelementptr i8, ptr %.pn, i32 -4
  %1 = ptrtoint ptr %driver.0 to i32
  call void @__asan_load4_noabort(i32 %1)
  %2 = load ptr, ptr %driver.0, align 4
  %cmp2 = icmp eq ptr %2, %ops
  br i1 %cmp2, label %if.then, label %for.body.for.cond_crit_edge

for.body.for.cond_crit_edge:                      ; preds = %for.body
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.cond

if.then:                                          ; preds = %for.body
  %driver.0.le = getelementptr i8, ptr %.pn, i32 -4
  %call.i.i = tail call zeroext i1 @__list_del_entry_valid(ptr noundef %.pn) #15
  br i1 %call.i.i, label %if.end.i.i, label %if.then.list_del.exit_crit_edge

if.then.list_del.exit_crit_edge:                  ; preds = %if.then
  call void @__sanitizer_cov_trace_pc() #17
  br label %list_del.exit

if.end.i.i:                                       ; preds = %if.then
  call void @__sanitizer_cov_trace_pc() #17
  %prev.i.i = getelementptr inbounds %struct.list_head, ptr %.pn, i32 0, i32 1
  %3 = ptrtoint ptr %prev.i.i to i32
  call void @__asan_load4_noabort(i32 %3)
  %4 = load ptr, ptr %prev.i.i, align 4
  %5 = ptrtoint ptr %.pn to i32
  call void @__asan_load4_noabort(i32 %5)
  %6 = load ptr, ptr %.pn, align 4
  %prev1.i.i.i = getelementptr inbounds %struct.list_head, ptr %6, i32 0, i32 1
  %7 = ptrtoint ptr %prev1.i.i.i to i32
  call void @__asan_store4_noabort(i32 %7)
  store ptr %4, ptr %prev1.i.i.i, align 4
  %8 = ptrtoint ptr %4 to i32
  call void @__asan_store4_noabort(i32 %8)
  store volatile ptr %6, ptr %4, align 4
  br label %list_del.exit

list_del.exit:                                    ; preds = %if.end.i.i, %if.then.list_del.exit_crit_edge
  %9 = ptrtoint ptr %.pn to i32
  call void @__asan_store4_noabort(i32 %9)
  store ptr inttoptr (i32 256 to ptr), ptr %.pn, align 4
  %prev.i = getelementptr inbounds %struct.list_head, ptr %.pn, i32 0, i32 1
  %10 = ptrtoint ptr %prev.i to i32
  call void @__asan_store4_noabort(i32 %10)
  store ptr inttoptr (i32 290 to ptr), ptr %prev.i, align 4
  tail call void @mutex_unlock(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 2)) #15
  tail call void @kfree(ptr noundef %driver.0.le) #15
  br label %cleanup

for.end:                                          ; preds = %for.cond
  call void @__sanitizer_cov_trace_pc() #17
  tail call void @mutex_unlock(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 2)) #15
  br label %cleanup

cleanup:                                          ; preds = %for.end, %list_del.exit
  ret void
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local void @vfio_device_put(ptr noundef %device) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %refcount = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 5
  %call.i.i.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %refcount, i32 noundef 4) #15
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !221
  tail call void @llvm.prefetch.p0(ptr %refcount, i32 1, i32 3, i32 1) #15
  %0 = tail call { i32, i32, i32 } asm sideeffect "@ atomic_fetch_sub\0A1:\09ldrex\09$0, [$4]\0A\09sub\09$1, $0, $5\0A\09strex\09$2, $1, [$4]\0A\09teq\09$2, #0\0A\09bne\091b", "=&r,=&r,=&r,=*Qo,r,Ir,*Qo,~{cc}"(ptr elementtype(i32) %refcount, ptr %refcount, i32 1, ptr elementtype(i32) %refcount) #15, !srcloc !222
  %asmresult.i.i.i.i.i.i = extractvalue { i32, i32, i32 } %0, 0
  call void @__sanitizer_cov_trace_const_cmp4(i32 1, i32 %asmresult.i.i.i.i.i.i)
  %cmp.i.i.i = icmp eq i32 %asmresult.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i, label %if.then, label %if.end5.i.i.i

if.end5.i.i.i:                                    ; preds = %entry
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %asmresult.i.i.i.i.i.i)
  %.not.i.i.i = icmp sgt i32 %asmresult.i.i.i.i.i.i, 0
  br i1 %.not.i.i.i, label %if.end5.i.i.i.if.end_crit_edge, label %if.then10.i.i.i, !prof !223

if.end5.i.i.i.if.end_crit_edge:                   ; preds = %if.end5.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end

if.then10.i.i.i:                                  ; preds = %if.end5.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  tail call void @refcount_warn_saturate(ptr noundef %refcount, i32 noundef 3) #15
  br label %if.end

if.then:                                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !224
  %comp = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 7
  tail call void @complete(ptr noundef %comp) #15
  br label %if.end

if.end:                                           ; preds = %if.then, %if.then10.i.i.i, %if.end5.i.i.i.if.end_crit_edge
  ret void
}

; Function Attrs: null_pointer_is_valid
declare dso_local void @complete(ptr noundef) local_unnamed_addr #2

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local void @vfio_init_group_dev(ptr noundef %device, ptr noundef %dev, ptr noundef %ops) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %comp = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 7
  %0 = ptrtoint ptr %comp to i32
  call void @__asan_store4_noabort(i32 %0)
  store i32 0, ptr %comp, align 4
  %wait.i = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 7, i32 1
  tail call void @__init_swait_queue_head(ptr noundef %wait.i, ptr noundef nonnull @.str.10, ptr noundef nonnull @init_completion.__key) #15
  %1 = ptrtoint ptr %device to i32
  call void @__asan_store4_noabort(i32 %1)
  store ptr %dev, ptr %device, align 4
  %ops2 = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 1
  %2 = ptrtoint ptr %ops2 to i32
  call void @__asan_store4_noabort(i32 %2)
  store ptr %ops, ptr %ops2, align 4
  ret void
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local void @vfio_uninit_group_dev(ptr noundef %device) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %dev_set1.i = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 3
  %0 = ptrtoint ptr %dev_set1.i to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %dev_set1.i, align 4
  %tobool.not.i = icmp eq ptr %1, null
  br i1 %tobool.not.i, label %entry.vfio_release_device_set.exit_crit_edge, label %if.end.i

entry.vfio_release_device_set.exit_crit_edge:     ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_release_device_set.exit

if.end.i:                                         ; preds = %entry
  %lock.i = getelementptr inbounds %struct.vfio_device_set, ptr %1, i32 0, i32 1
  tail call void @mutex_lock_nested(ptr noundef %lock.i, i32 noundef 0) #15
  %dev_set_list.i = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 4
  %call.i.i.i = tail call zeroext i1 @__list_del_entry_valid(ptr noundef %dev_set_list.i) #15
  br i1 %call.i.i.i, label %if.end.i.i.i, label %if.end.i.list_del.exit.i_crit_edge

if.end.i.list_del.exit.i_crit_edge:               ; preds = %if.end.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %list_del.exit.i

if.end.i.i.i:                                     ; preds = %if.end.i
  call void @__sanitizer_cov_trace_pc() #17
  %prev.i.i.i = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 4, i32 1
  %2 = ptrtoint ptr %prev.i.i.i to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load ptr, ptr %prev.i.i.i, align 4
  %4 = ptrtoint ptr %dev_set_list.i to i32
  call void @__asan_load4_noabort(i32 %4)
  %5 = load ptr, ptr %dev_set_list.i, align 4
  %prev1.i.i.i.i = getelementptr inbounds %struct.list_head, ptr %5, i32 0, i32 1
  %6 = ptrtoint ptr %prev1.i.i.i.i to i32
  call void @__asan_store4_noabort(i32 %6)
  store ptr %3, ptr %prev1.i.i.i.i, align 4
  %7 = ptrtoint ptr %3 to i32
  call void @__asan_store4_noabort(i32 %7)
  store volatile ptr %5, ptr %3, align 4
  br label %list_del.exit.i

list_del.exit.i:                                  ; preds = %if.end.i.i.i, %if.end.i.list_del.exit.i_crit_edge
  %8 = ptrtoint ptr %dev_set_list.i to i32
  call void @__asan_store4_noabort(i32 %8)
  store ptr inttoptr (i32 256 to ptr), ptr %dev_set_list.i, align 4
  %prev.i.i = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 4, i32 1
  %9 = ptrtoint ptr %prev.i.i to i32
  call void @__asan_store4_noabort(i32 %9)
  store ptr inttoptr (i32 290 to ptr), ptr %prev.i.i, align 4
  tail call void @mutex_unlock(ptr noundef %lock.i) #15
  tail call void @_raw_spin_lock(ptr noundef nonnull @vfio_device_set_xa) #15
  %device_count.i = getelementptr inbounds %struct.vfio_device_set, ptr %1, i32 0, i32 3
  %10 = ptrtoint ptr %device_count.i to i32
  call void @__asan_load4_noabort(i32 %10)
  %11 = load i32, ptr %device_count.i, align 4
  %dec.i = add i32 %11, -1
  store i32 %dec.i, ptr %device_count.i, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %dec.i)
  %tobool3.not.i = icmp eq i32 %dec.i, 0
  br i1 %tobool3.not.i, label %if.then4.i, label %list_del.exit.i.if.end6.i_crit_edge

list_del.exit.i.if.end6.i_crit_edge:              ; preds = %list_del.exit.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end6.i

if.then4.i:                                       ; preds = %list_del.exit.i
  call void @__sanitizer_cov_trace_pc() #17
  %12 = ptrtoint ptr %1 to i32
  call void @__asan_load4_noabort(i32 %12)
  %13 = load ptr, ptr %1, align 4
  %14 = ptrtoint ptr %13 to i32
  %call.i = tail call ptr @__xa_erase(ptr noundef nonnull @vfio_device_set_xa, i32 noundef %14) #15
  tail call void @mutex_destroy(ptr noundef %lock.i) #15
  tail call void @kfree(ptr noundef nonnull %1) #15
  br label %if.end6.i

if.end6.i:                                        ; preds = %if.then4.i, %list_del.exit.i.if.end6.i_crit_edge
  tail call void @_raw_spin_unlock(ptr noundef nonnull @vfio_device_set_xa) #15
  br label %vfio_release_device_set.exit

vfio_release_device_set.exit:                     ; preds = %if.end6.i, %entry.vfio_release_device_set.exit_crit_edge
  ret void
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local i32 @vfio_register_group_dev(ptr noundef %device) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %0 = ptrtoint ptr %device to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %device, align 4
  %call.i = tail call ptr @iommu_group_get(ptr noundef %1) #15
  %tobool.not.i = icmp eq ptr %call.i, null
  br i1 %tobool.not.i, label %land.lhs.true.i, label %if.end11.i

land.lhs.true.i:                                  ; preds = %entry
  %2 = load i8, ptr @noiommu, align 1, !range !225
  call void @__sanitizer_cov_trace_const_cmp1(i8 0, i8 %2)
  %tobool1.not.i = icmp eq i8 %2, 0
  br i1 %tobool1.not.i, label %land.lhs.true.i.vfio_group_find_or_alloc.exit_crit_edge, label %land.lhs.true2.i

land.lhs.true.i.vfio_group_find_or_alloc.exit_crit_edge: ; preds = %land.lhs.true.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_group_find_or_alloc.exit

land.lhs.true2.i:                                 ; preds = %land.lhs.true.i
  %bus.i = getelementptr inbounds %struct.device, ptr %1, i32 0, i32 5
  %3 = ptrtoint ptr %bus.i to i32
  call void @__asan_load4_noabort(i32 %3)
  %4 = load ptr, ptr %bus.i, align 8
  %call3.i = tail call zeroext i1 @iommu_present(ptr noundef %4) #15
  br i1 %call3.i, label %land.lhs.true2.i.vfio_group_find_or_alloc.exit_crit_edge, label %if.then.i

land.lhs.true2.i.vfio_group_find_or_alloc.exit_crit_edge: ; preds = %land.lhs.true2.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_group_find_or_alloc.exit

if.then.i:                                        ; preds = %land.lhs.true2.i
  %call4.i = tail call fastcc ptr @vfio_noiommu_group_alloc(ptr noundef %1, i32 noundef 2) #15
  %cmp.i.i = icmp ugt ptr %call4.i, inttoptr (i32 -4096 to ptr)
  br i1 %cmp.i.i, label %if.then.i.vfio_group_find_or_alloc.exit_crit_edge, label %if.then6.i

if.then.i.vfio_group_find_or_alloc.exit_crit_edge: ; preds = %if.then.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_group_find_or_alloc.exit

if.then6.i:                                       ; preds = %if.then.i
  call void @__sanitizer_cov_trace_pc() #17
  tail call void @add_taint(i32 noundef 6, i32 noundef 0) #15
  tail call void (ptr, ptr, ...) @_dev_warn(ptr noundef %1, ptr noundef nonnull @.str.12) #19
  br label %vfio_group_find_or_alloc.exit

if.end11.i:                                       ; preds = %entry
  tail call void @mutex_lock_nested(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 4), i32 noundef 0) #15
  br label %for.cond.i.i.i

for.cond.i.i.i:                                   ; preds = %for.body.i.i.i.for.cond.i.i.i_crit_edge, %if.end11.i
  %.pn.in.i.i.i = phi ptr [ getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 3), %if.end11.i ], [ %.pn.i.i.i, %for.body.i.i.i.for.cond.i.i.i_crit_edge ]
  %5 = ptrtoint ptr %.pn.in.i.i.i to i32
  call void @__asan_load4_noabort(i32 %5)
  %.pn.i.i.i = load ptr, ptr %.pn.in.i.i.i, align 4
  %cmp.not.i.i.i = icmp eq ptr %.pn.i.i.i, getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 3)
  br i1 %cmp.not.i.i.i, label %vfio_group_get_from_iommu.exit.thread.i, label %for.body.i.i.i

vfio_group_get_from_iommu.exit.thread.i:          ; preds = %for.cond.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  tail call void @mutex_unlock(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 4)) #15
  br label %if.then14.i

for.body.i.i.i:                                   ; preds = %for.cond.i.i.i
  %iommu_group1.i.i.i = getelementptr i8, ptr %.pn.i.i.i, i32 -120
  %6 = ptrtoint ptr %iommu_group1.i.i.i to i32
  call void @__asan_load4_noabort(i32 %6)
  %7 = load ptr, ptr %iommu_group1.i.i.i, align 8
  %cmp2.i.i.i = icmp eq ptr %7, %call.i
  br i1 %cmp2.i.i.i, label %if.then.i.i.i, label %for.body.i.i.i.for.cond.i.i.i_crit_edge

for.body.i.i.i.for.cond.i.i.i_crit_edge:          ; preds = %for.body.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.cond.i.i.i

if.then.i.i.i:                                    ; preds = %for.body.i.i.i
  %group.0.le.i.i.i = getelementptr i8, ptr %.pn.i.i.i, i32 -1216
  %users.i.i.i.i = getelementptr i8, ptr %.pn.i.i.i, i32 -128
  %call.i.i.i.i.i.i.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %users.i.i.i.i, i32 noundef 4) #15
  tail call void @llvm.prefetch.p0(ptr %users.i.i.i.i, i32 1, i32 3, i32 1) #15
  %8 = tail call { i32, i32, i32 } asm sideeffect "@ atomic_fetch_add\0A1:\09ldrex\09$0, [$4]\0A\09add\09$1, $0, $5\0A\09strex\09$2, $1, [$4]\0A\09teq\09$2, #0\0A\09bne\091b", "=&r,=&r,=&r,=*Qo,r,Ir,*Qo,~{cc}"(ptr elementtype(i32) %users.i.i.i.i, ptr %users.i.i.i.i, i32 1, ptr elementtype(i32) %users.i.i.i.i) #15, !srcloc !226
  %asmresult.i.i.i.i.i.i.i.i.i = extractvalue { i32, i32, i32 } %8, 0
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %asmresult.i.i.i.i.i.i.i.i.i)
  %tobool1.not.i.i.i.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i.i.i.i.i.i, 0
  br i1 %tobool1.not.i.i.i.i.i.i.i, label %if.then.i.i.i.if.end15.sink.split.i.i.i.i.i.i.i_crit_edge, label %if.else.i.i.i.i.i.i.i, !prof !220

if.then.i.i.i.if.end15.sink.split.i.i.i.i.i.i.i_crit_edge: ; preds = %if.then.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end15.sink.split.i.i.i.i.i.i.i

if.else.i.i.i.i.i.i.i:                            ; preds = %if.then.i.i.i
  %add.i.i.i.i.i.i.i = add i32 %asmresult.i.i.i.i.i.i.i.i.i, 1
  %9 = or i32 %add.i.i.i.i.i.i.i, %asmresult.i.i.i.i.i.i.i.i.i
  call void @__sanitizer_cov_trace_const_cmp4(i32 -1, i32 %9)
  %.not.i.i.i.i.i.i.i = icmp sgt i32 %9, -1
  br i1 %.not.i.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.i.vfio_group_get_from_iommu.exit.i_crit_edge, label %if.else.i.i.i.i.i.i.i.if.end15.sink.split.i.i.i.i.i.i.i_crit_edge, !prof !223

if.else.i.i.i.i.i.i.i.if.end15.sink.split.i.i.i.i.i.i.i_crit_edge: ; preds = %if.else.i.i.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end15.sink.split.i.i.i.i.i.i.i

if.else.i.i.i.i.i.i.i.vfio_group_get_from_iommu.exit.i_crit_edge: ; preds = %if.else.i.i.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_group_get_from_iommu.exit.i

if.end15.sink.split.i.i.i.i.i.i.i:                ; preds = %if.else.i.i.i.i.i.i.i.if.end15.sink.split.i.i.i.i.i.i.i_crit_edge, %if.then.i.i.i.if.end15.sink.split.i.i.i.i.i.i.i_crit_edge
  %.sink.i.i.i.i.i.i.i = phi i32 [ 2, %if.then.i.i.i.if.end15.sink.split.i.i.i.i.i.i.i_crit_edge ], [ 1, %if.else.i.i.i.i.i.i.i.if.end15.sink.split.i.i.i.i.i.i.i_crit_edge ]
  tail call void @refcount_warn_saturate(ptr noundef %users.i.i.i.i, i32 noundef %.sink.i.i.i.i.i.i.i) #15
  br label %vfio_group_get_from_iommu.exit.i

vfio_group_get_from_iommu.exit.i:                 ; preds = %if.end15.sink.split.i.i.i.i.i.i.i, %if.else.i.i.i.i.i.i.i.vfio_group_get_from_iommu.exit.i_crit_edge
  tail call void @mutex_unlock(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 4)) #15
  %tobool13.not.i = icmp eq ptr %group.0.le.i.i.i, null
  br i1 %tobool13.not.i, label %vfio_group_get_from_iommu.exit.i.if.then14.i_crit_edge, label %vfio_group_get_from_iommu.exit.i.if.end16.i_crit_edge

vfio_group_get_from_iommu.exit.i.if.end16.i_crit_edge: ; preds = %vfio_group_get_from_iommu.exit.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end16.i

vfio_group_get_from_iommu.exit.i.if.then14.i_crit_edge: ; preds = %vfio_group_get_from_iommu.exit.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.then14.i

if.then14.i:                                      ; preds = %vfio_group_get_from_iommu.exit.i.if.then14.i_crit_edge, %vfio_group_get_from_iommu.exit.thread.i
  %call15.i = tail call fastcc ptr @vfio_create_group(ptr noundef nonnull %call.i, i32 noundef 0) #15
  br label %if.end16.i

if.end16.i:                                       ; preds = %if.then14.i, %vfio_group_get_from_iommu.exit.i.if.end16.i_crit_edge
  %group.0.i = phi ptr [ %group.0.le.i.i.i, %vfio_group_get_from_iommu.exit.i.if.end16.i_crit_edge ], [ %call15.i, %if.then14.i ]
  tail call void @iommu_group_put(ptr noundef nonnull %call.i) #15
  br label %vfio_group_find_or_alloc.exit

vfio_group_find_or_alloc.exit:                    ; preds = %if.end16.i, %if.then6.i, %if.then.i.vfio_group_find_or_alloc.exit_crit_edge, %land.lhs.true2.i.vfio_group_find_or_alloc.exit_crit_edge, %land.lhs.true.i.vfio_group_find_or_alloc.exit_crit_edge
  %retval.0.i = phi ptr [ %group.0.i, %if.end16.i ], [ %call4.i, %if.then6.i ], [ %call4.i, %if.then.i.vfio_group_find_or_alloc.exit_crit_edge ], [ inttoptr (i32 -22 to ptr), %land.lhs.true.i.vfio_group_find_or_alloc.exit_crit_edge ], [ inttoptr (i32 -22 to ptr), %land.lhs.true2.i.vfio_group_find_or_alloc.exit_crit_edge ]
  %call1 = tail call fastcc i32 @__vfio_register_dev(ptr noundef %device, ptr noundef %retval.0.i)
  ret i32 %call1
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal fastcc i32 @__vfio_register_dev(ptr noundef %device, ptr noundef %group) unnamed_addr #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %cmp.i = icmp ugt ptr %group, inttoptr (i32 -4096 to ptr)
  br i1 %cmp.i, label %if.then, label %if.end

if.then:                                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  %0 = ptrtoint ptr %group to i32
  br label %cleanup

if.end:                                           ; preds = %entry
  %dev_set = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 3
  %1 = ptrtoint ptr %dev_set to i32
  call void @__asan_load4_noabort(i32 %1)
  %2 = load ptr, ptr %dev_set, align 4
  %tobool.not = icmp eq ptr %2, null
  br i1 %tobool.not, label %if.then2, label %if.end.if.end4_crit_edge

if.end.if.end4_crit_edge:                         ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end4

if.then2:                                         ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  %call3 = tail call i32 @vfio_assign_device_set(ptr noundef %device, ptr noundef %device)
  br label %if.end4

if.end4:                                          ; preds = %if.then2, %if.end.if.end4_crit_edge
  %3 = ptrtoint ptr %device to i32
  call void @__asan_load4_noabort(i32 %3)
  %4 = load ptr, ptr %device, align 4
  %device_lock.i = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 7
  tail call void @mutex_lock_nested(ptr noundef %device_lock.i, i32 noundef 0) #15
  %device_list.i = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 6
  %5 = ptrtoint ptr %device_list.i to i32
  call void @__asan_load4_noabort(i32 %5)
  %.pn20.i = load ptr, ptr %device_list.i, align 4
  %cmp.not22.i = icmp eq ptr %.pn20.i, %device_list.i
  br i1 %cmp.not22.i, label %if.end4.vfio_group_get_device.exit.thread_crit_edge, label %if.end4.for.body.i_crit_edge

if.end4.for.body.i_crit_edge:                     ; preds = %if.end4
  br label %for.body.i

if.end4.vfio_group_get_device.exit.thread_crit_edge: ; preds = %if.end4
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_group_get_device.exit.thread

for.body.i:                                       ; preds = %for.inc.i.for.body.i_crit_edge, %if.end4.for.body.i_crit_edge
  %.pn23.i = phi ptr [ %.pn.i, %for.inc.i.for.body.i_crit_edge ], [ %.pn20.i, %if.end4.for.body.i_crit_edge ]
  %device.024.i = getelementptr i8, ptr %.pn23.i, i32 -88
  %6 = ptrtoint ptr %device.024.i to i32
  call void @__asan_load4_noabort(i32 %6)
  %7 = load ptr, ptr %device.024.i, align 4
  %cmp3.i = icmp eq ptr %7, %4
  br i1 %cmp3.i, label %land.lhs.true.i, label %for.body.i.for.inc.i_crit_edge

for.body.i.for.inc.i_crit_edge:                   ; preds = %for.body.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.inc.i

land.lhs.true.i:                                  ; preds = %for.body.i
  %call.i = tail call fastcc zeroext i1 @vfio_device_try_get(ptr noundef %device.024.i) #15
  br i1 %call.i, label %vfio_group_get_device.exit, label %land.lhs.true.i.for.inc.i_crit_edge

land.lhs.true.i.for.inc.i_crit_edge:              ; preds = %land.lhs.true.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.inc.i

for.inc.i:                                        ; preds = %land.lhs.true.i.for.inc.i_crit_edge, %for.body.i.for.inc.i_crit_edge
  %8 = ptrtoint ptr %.pn23.i to i32
  call void @__asan_load4_noabort(i32 %8)
  %.pn.i = load ptr, ptr %.pn23.i, align 4
  %cmp.not.i = icmp eq ptr %.pn.i, %device_list.i
  br i1 %cmp.not.i, label %for.inc.i.vfio_group_get_device.exit.thread_crit_edge, label %for.inc.i.for.body.i_crit_edge

for.inc.i.for.body.i_crit_edge:                   ; preds = %for.inc.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.body.i

for.inc.i.vfio_group_get_device.exit.thread_crit_edge: ; preds = %for.inc.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_group_get_device.exit.thread

vfio_group_get_device.exit.thread:                ; preds = %for.inc.i.vfio_group_get_device.exit.thread_crit_edge, %if.end4.vfio_group_get_device.exit.thread_crit_edge
  tail call void @mutex_unlock(ptr noundef %device_lock.i) #15
  br label %if.end35

vfio_group_get_device.exit:                       ; preds = %land.lhs.true.i
  tail call void @mutex_unlock(ptr noundef %device_lock.i) #15
  %tobool6.not = icmp eq ptr %device.024.i, null
  br i1 %tobool6.not, label %vfio_group_get_device.exit.if.end35_crit_edge, label %do.end

vfio_group_get_device.exit.if.end35_crit_edge:    ; preds = %vfio_group_get_device.exit
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end35

do.end:                                           ; preds = %vfio_group_get_device.exit
  %9 = ptrtoint ptr %device to i32
  call void @__asan_load4_noabort(i32 %9)
  %10 = load ptr, ptr %device, align 4
  %call14 = tail call ptr @dev_driver_string(ptr noundef %10) #15
  %11 = ptrtoint ptr %device to i32
  call void @__asan_load4_noabort(i32 %11)
  %12 = load ptr, ptr %device, align 4
  %init_name.i = getelementptr inbounds %struct.device, ptr %12, i32 0, i32 3
  %13 = ptrtoint ptr %init_name.i to i32
  call void @__asan_load4_noabort(i32 %13)
  %14 = load ptr, ptr %init_name.i, align 8
  %tobool.not.i = icmp eq ptr %14, null
  br i1 %tobool.not.i, label %if.end.i, label %do.end.dev_name.exit_crit_edge

do.end.dev_name.exit_crit_edge:                   ; preds = %do.end
  call void @__sanitizer_cov_trace_pc() #17
  br label %dev_name.exit

if.end.i:                                         ; preds = %do.end
  call void @__sanitizer_cov_trace_pc() #17
  %15 = ptrtoint ptr %12 to i32
  call void @__asan_load4_noabort(i32 %15)
  %16 = load ptr, ptr %12, align 4
  br label %dev_name.exit

dev_name.exit:                                    ; preds = %if.end.i, %do.end.dev_name.exit_crit_edge
  %retval.0.i60 = phi ptr [ %16, %if.end.i ], [ %14, %do.end.dev_name.exit_crit_edge ]
  %iommu_group = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 4
  %17 = ptrtoint ptr %iommu_group to i32
  call void @__asan_load4_noabort(i32 %17)
  %18 = load ptr, ptr %iommu_group, align 8
  %call17 = tail call i32 @iommu_group_id(ptr noundef %18) #15
  tail call void (ptr, i32, i32, ptr, ...) @warn_slowpath_fmt(ptr noundef nonnull @.str, i32 noundef 793, i32 noundef 9, ptr noundef nonnull @.str.11, ptr noundef %call14, ptr noundef %retval.0.i60, i32 noundef %call17) #15
  %refcount.i = getelementptr i8, ptr %.pn23.i, i32 -64
  %call.i.i.i.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %refcount.i, i32 noundef 4) #15
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !221
  tail call void @llvm.prefetch.p0(ptr %refcount.i, i32 1, i32 3, i32 1) #15
  %19 = tail call { i32, i32, i32 } asm sideeffect "@ atomic_fetch_sub\0A1:\09ldrex\09$0, [$4]\0A\09sub\09$1, $0, $5\0A\09strex\09$2, $1, [$4]\0A\09teq\09$2, #0\0A\09bne\091b", "=&r,=&r,=&r,=*Qo,r,Ir,*Qo,~{cc}"(ptr elementtype(i32) %refcount.i, ptr %refcount.i, i32 1, ptr elementtype(i32) %refcount.i) #15, !srcloc !222
  %asmresult.i.i.i.i.i.i.i = extractvalue { i32, i32, i32 } %19, 0
  call void @__sanitizer_cov_trace_const_cmp4(i32 1, i32 %asmresult.i.i.i.i.i.i.i)
  %cmp.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i, label %if.then.i, label %if.end5.i.i.i.i

if.end5.i.i.i.i:                                  ; preds = %dev_name.exit
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %asmresult.i.i.i.i.i.i.i)
  %.not.i.i.i.i = icmp sgt i32 %asmresult.i.i.i.i.i.i.i, 0
  br i1 %.not.i.i.i.i, label %if.end5.i.i.i.i.vfio_device_put.exit_crit_edge, label %if.then10.i.i.i.i, !prof !223

if.end5.i.i.i.i.vfio_device_put.exit_crit_edge:   ; preds = %if.end5.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_device_put.exit

if.then10.i.i.i.i:                                ; preds = %if.end5.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  tail call void @refcount_warn_saturate(ptr noundef %refcount.i, i32 noundef 3) #15
  br label %vfio_device_put.exit

if.then.i:                                        ; preds = %dev_name.exit
  call void @__sanitizer_cov_trace_pc() #17
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !224
  %comp.i = getelementptr i8, ptr %.pn23.i, i32 -56
  tail call void @complete(ptr noundef %comp.i) #15
  br label %vfio_device_put.exit

vfio_device_put.exit:                             ; preds = %if.then.i, %if.then10.i.i.i.i, %if.end5.i.i.i.i.vfio_device_put.exit_crit_edge
  %type = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 15
  %20 = ptrtoint ptr %type to i32
  call void @__asan_load4_noabort(i32 %20)
  %21 = load i32, ptr %type, align 4
  %.off = add i32 %21, -1
  call void @__sanitizer_cov_trace_const_cmp4(i32 2, i32 %.off)
  %switch = icmp ult i32 %.off, 2
  br i1 %switch, label %if.then32, label %vfio_device_put.exit.if.end34_crit_edge

vfio_device_put.exit.if.end34_crit_edge:          ; preds = %vfio_device_put.exit
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end34

if.then32:                                        ; preds = %vfio_device_put.exit
  call void @__sanitizer_cov_trace_pc() #17
  %22 = ptrtoint ptr %device to i32
  call void @__asan_load4_noabort(i32 %22)
  %23 = load ptr, ptr %device, align 4
  tail call void @iommu_group_remove_device(ptr noundef %23) #15
  br label %if.end34

if.end34:                                         ; preds = %if.then32, %vfio_device_put.exit.if.end34_crit_edge
  tail call fastcc void @vfio_group_put(ptr noundef %group)
  br label %cleanup

if.end35:                                         ; preds = %vfio_group_get_device.exit.if.end35_crit_edge, %vfio_group_get_device.exit.thread
  %group36 = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 2
  %24 = ptrtoint ptr %group36 to i32
  call void @__asan_store4_noabort(i32 %24)
  store ptr %group, ptr %group36, align 4
  %refcount = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 5
  %call.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %refcount, i32 noundef 4) #15
  %25 = ptrtoint ptr %refcount to i32
  call void @__asan_store4_noabort(i32 %25)
  store volatile i32 1, ptr %refcount, align 4
  tail call void @mutex_lock_nested(ptr noundef %device_lock.i, i32 noundef 0) #15
  %group_next = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 8
  %26 = ptrtoint ptr %device_list.i to i32
  call void @__asan_load4_noabort(i32 %26)
  %27 = load ptr, ptr %device_list.i, align 4
  %call.i.i = tail call zeroext i1 @__list_add_valid(ptr noundef %group_next, ptr noundef %device_list.i, ptr noundef %27) #15
  br i1 %call.i.i, label %if.end.i.i, label %if.end35.list_add.exit_crit_edge

if.end35.list_add.exit_crit_edge:                 ; preds = %if.end35
  call void @__sanitizer_cov_trace_pc() #17
  br label %list_add.exit

if.end.i.i:                                       ; preds = %if.end35
  call void @__sanitizer_cov_trace_pc() #17
  %prev1.i.i = getelementptr inbounds %struct.list_head, ptr %27, i32 0, i32 1
  %28 = ptrtoint ptr %prev1.i.i to i32
  call void @__asan_store4_noabort(i32 %28)
  store ptr %group_next, ptr %prev1.i.i, align 4
  %29 = ptrtoint ptr %group_next to i32
  call void @__asan_store4_noabort(i32 %29)
  store ptr %27, ptr %group_next, align 4
  %prev3.i.i = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 8, i32 1
  %30 = ptrtoint ptr %prev3.i.i to i32
  call void @__asan_store4_noabort(i32 %30)
  store ptr %device_list.i, ptr %prev3.i.i, align 4
  %31 = ptrtoint ptr %device_list.i to i32
  call void @__asan_store4_noabort(i32 %31)
  store volatile ptr %group_next, ptr %device_list.i, align 4
  br label %list_add.exit

list_add.exit:                                    ; preds = %if.end.i.i, %if.end35.list_add.exit_crit_edge
  %dev_counter = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 16
  %32 = ptrtoint ptr %dev_counter to i32
  call void @__asan_load4_noabort(i32 %32)
  %33 = load i32, ptr %dev_counter, align 8
  %inc = add i32 %33, 1
  store i32 %inc, ptr %dev_counter, align 8
  tail call void @mutex_unlock(ptr noundef %device_lock.i) #15
  br label %cleanup

cleanup:                                          ; preds = %list_add.exit, %if.end34, %if.then
  %retval.0 = phi i32 [ %0, %if.then ], [ -16, %if.end34 ], [ 0, %list_add.exit ]
  ret i32 %retval.0
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local i32 @vfio_register_emulated_iommu_dev(ptr noundef %device) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %0 = ptrtoint ptr %device to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %device, align 4
  %call = tail call fastcc ptr @vfio_noiommu_group_alloc(ptr noundef %1, i32 noundef 1)
  %call1 = tail call fastcc i32 @__vfio_register_dev(ptr noundef %device, ptr noundef %call)
  ret i32 %call1
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal fastcc ptr @vfio_noiommu_group_alloc(ptr noundef %dev, i32 noundef %type) unnamed_addr #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %call = tail call ptr @iommu_group_alloc() #15
  %cmp.i = icmp ugt ptr %call, inttoptr (i32 -4096 to ptr)
  br i1 %cmp.i, label %entry.cleanup_crit_edge, label %if.end

entry.cleanup_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end:                                           ; preds = %entry
  %call3 = tail call i32 @iommu_group_set_name(ptr noundef %call, ptr noundef nonnull @.str.31) #15
  %call4 = tail call i32 @iommu_group_add_device(ptr noundef %call, ptr noundef %dev) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call4)
  %tobool.not = icmp eq i32 %call4, 0
  br i1 %tobool.not, label %if.end6, label %if.end.out_put_group_crit_edge

if.end.out_put_group_crit_edge:                   ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  br label %out_put_group

if.end6:                                          ; preds = %if.end
  %call7 = tail call fastcc ptr @vfio_create_group(ptr noundef %call, i32 noundef %type)
  %cmp.i25 = icmp ugt ptr %call7, inttoptr (i32 -4096 to ptr)
  br i1 %cmp.i25, label %if.then9, label %if.end11

if.then9:                                         ; preds = %if.end6
  call void @__sanitizer_cov_trace_pc() #17
  %0 = ptrtoint ptr %call7 to i32
  tail call void @iommu_group_remove_device(ptr noundef %dev) #15
  br label %out_put_group

if.end11:                                         ; preds = %if.end6
  call void @__sanitizer_cov_trace_pc() #17
  tail call void @iommu_group_put(ptr noundef %call) #15
  br label %cleanup

out_put_group:                                    ; preds = %if.then9, %if.end.out_put_group_crit_edge
  %ret.0 = phi i32 [ %call4, %if.end.out_put_group_crit_edge ], [ %0, %if.then9 ]
  tail call void @iommu_group_put(ptr noundef %call) #15
  %1 = inttoptr i32 %ret.0 to ptr
  br label %cleanup

cleanup:                                          ; preds = %out_put_group, %if.end11, %entry.cleanup_crit_edge
  %retval.0 = phi ptr [ %1, %out_put_group ], [ %call7, %if.end11 ], [ %call, %entry.cleanup_crit_edge ]
  ret ptr %retval.0
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local ptr @vfio_device_get_from_dev(ptr noundef %dev) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %call = tail call fastcc ptr @vfio_group_get_from_dev(ptr noundef %dev)
  %tobool.not = icmp eq ptr %call, null
  br i1 %tobool.not, label %entry.cleanup_crit_edge, label %if.end

entry.cleanup_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end:                                           ; preds = %entry
  %device_lock.i = getelementptr inbounds %struct.vfio_group, ptr %call, i32 0, i32 7
  tail call void @mutex_lock_nested(ptr noundef %device_lock.i, i32 noundef 0) #15
  %device_list.i = getelementptr inbounds %struct.vfio_group, ptr %call, i32 0, i32 6
  %0 = ptrtoint ptr %device_list.i to i32
  call void @__asan_load4_noabort(i32 %0)
  %.pn20.i = load ptr, ptr %device_list.i, align 4
  %cmp.not22.i = icmp eq ptr %.pn20.i, %device_list.i
  br i1 %cmp.not22.i, label %if.end.vfio_group_get_device.exit_crit_edge, label %if.end.for.body.i_crit_edge

if.end.for.body.i_crit_edge:                      ; preds = %if.end
  br label %for.body.i

if.end.vfio_group_get_device.exit_crit_edge:      ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_group_get_device.exit

for.body.i:                                       ; preds = %for.inc.i.for.body.i_crit_edge, %if.end.for.body.i_crit_edge
  %.pn23.i = phi ptr [ %.pn.i, %for.inc.i.for.body.i_crit_edge ], [ %.pn20.i, %if.end.for.body.i_crit_edge ]
  %device.024.i = getelementptr i8, ptr %.pn23.i, i32 -88
  %1 = ptrtoint ptr %device.024.i to i32
  call void @__asan_load4_noabort(i32 %1)
  %2 = load ptr, ptr %device.024.i, align 4
  %cmp3.i = icmp eq ptr %2, %dev
  br i1 %cmp3.i, label %land.lhs.true.i, label %for.body.i.for.inc.i_crit_edge

for.body.i.for.inc.i_crit_edge:                   ; preds = %for.body.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.inc.i

land.lhs.true.i:                                  ; preds = %for.body.i
  %call.i = tail call fastcc zeroext i1 @vfio_device_try_get(ptr noundef %device.024.i) #15
  br i1 %call.i, label %land.lhs.true.i.vfio_group_get_device.exit_crit_edge, label %land.lhs.true.i.for.inc.i_crit_edge

land.lhs.true.i.for.inc.i_crit_edge:              ; preds = %land.lhs.true.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.inc.i

land.lhs.true.i.vfio_group_get_device.exit_crit_edge: ; preds = %land.lhs.true.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_group_get_device.exit

for.inc.i:                                        ; preds = %land.lhs.true.i.for.inc.i_crit_edge, %for.body.i.for.inc.i_crit_edge
  %3 = ptrtoint ptr %.pn23.i to i32
  call void @__asan_load4_noabort(i32 %3)
  %.pn.i = load ptr, ptr %.pn23.i, align 4
  %cmp.not.i = icmp eq ptr %.pn.i, %device_list.i
  br i1 %cmp.not.i, label %for.inc.i.vfio_group_get_device.exit_crit_edge, label %for.inc.i.for.body.i_crit_edge

for.inc.i.for.body.i_crit_edge:                   ; preds = %for.inc.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.body.i

for.inc.i.vfio_group_get_device.exit_crit_edge:   ; preds = %for.inc.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_group_get_device.exit

vfio_group_get_device.exit:                       ; preds = %for.inc.i.vfio_group_get_device.exit_crit_edge, %land.lhs.true.i.vfio_group_get_device.exit_crit_edge, %if.end.vfio_group_get_device.exit_crit_edge
  %retval.0.i = phi ptr [ null, %if.end.vfio_group_get_device.exit_crit_edge ], [ null, %for.inc.i.vfio_group_get_device.exit_crit_edge ], [ %device.024.i, %land.lhs.true.i.vfio_group_get_device.exit_crit_edge ]
  tail call void @mutex_unlock(ptr noundef %device_lock.i) #15
  tail call fastcc void @vfio_group_put(ptr noundef nonnull %call)
  br label %cleanup

cleanup:                                          ; preds = %vfio_group_get_device.exit, %entry.cleanup_crit_edge
  %retval.0 = phi ptr [ %retval.0.i, %vfio_group_get_device.exit ], [ null, %entry.cleanup_crit_edge ]
  ret ptr %retval.0
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal fastcc ptr @vfio_group_get_from_dev(ptr noundef %dev) unnamed_addr #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %call = tail call ptr @iommu_group_get(ptr noundef %dev) #15
  %tobool.not = icmp eq ptr %call, null
  br i1 %tobool.not, label %entry.cleanup_crit_edge, label %if.end

entry.cleanup_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end:                                           ; preds = %entry
  tail call void @mutex_lock_nested(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 4), i32 noundef 0) #15
  br label %for.cond.i.i

for.cond.i.i:                                     ; preds = %for.body.i.i.for.cond.i.i_crit_edge, %if.end
  %.pn.in.i.i = phi ptr [ getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 3), %if.end ], [ %.pn.i.i, %for.body.i.i.for.cond.i.i_crit_edge ]
  %0 = ptrtoint ptr %.pn.in.i.i to i32
  call void @__asan_load4_noabort(i32 %0)
  %.pn.i.i = load ptr, ptr %.pn.in.i.i, align 4
  %cmp.not.i.i = icmp eq ptr %.pn.i.i, getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 3)
  br i1 %cmp.not.i.i, label %for.cond.i.i.vfio_group_get_from_iommu.exit_crit_edge, label %for.body.i.i

for.cond.i.i.vfio_group_get_from_iommu.exit_crit_edge: ; preds = %for.cond.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_group_get_from_iommu.exit

for.body.i.i:                                     ; preds = %for.cond.i.i
  %iommu_group1.i.i = getelementptr i8, ptr %.pn.i.i, i32 -120
  %1 = ptrtoint ptr %iommu_group1.i.i to i32
  call void @__asan_load4_noabort(i32 %1)
  %2 = load ptr, ptr %iommu_group1.i.i, align 8
  %cmp2.i.i = icmp eq ptr %2, %call
  br i1 %cmp2.i.i, label %if.then.i.i, label %for.body.i.i.for.cond.i.i_crit_edge

for.body.i.i.for.cond.i.i_crit_edge:              ; preds = %for.body.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.cond.i.i

if.then.i.i:                                      ; preds = %for.body.i.i
  %group.0.le.i.i = getelementptr i8, ptr %.pn.i.i, i32 -1216
  %users.i.i.i = getelementptr i8, ptr %.pn.i.i, i32 -128
  %call.i.i.i.i.i.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %users.i.i.i, i32 noundef 4) #15
  tail call void @llvm.prefetch.p0(ptr %users.i.i.i, i32 1, i32 3, i32 1) #15
  %3 = tail call { i32, i32, i32 } asm sideeffect "@ atomic_fetch_add\0A1:\09ldrex\09$0, [$4]\0A\09add\09$1, $0, $5\0A\09strex\09$2, $1, [$4]\0A\09teq\09$2, #0\0A\09bne\091b", "=&r,=&r,=&r,=*Qo,r,Ir,*Qo,~{cc}"(ptr elementtype(i32) %users.i.i.i, ptr %users.i.i.i, i32 1, ptr elementtype(i32) %users.i.i.i) #15, !srcloc !226
  %asmresult.i.i.i.i.i.i.i.i = extractvalue { i32, i32, i32 } %3, 0
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %asmresult.i.i.i.i.i.i.i.i)
  %tobool1.not.i.i.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i.i.i.i.i, 0
  br i1 %tobool1.not.i.i.i.i.i.i, label %if.then.i.i.if.end15.sink.split.i.i.i.i.i.i_crit_edge, label %if.else.i.i.i.i.i.i, !prof !220

if.then.i.i.if.end15.sink.split.i.i.i.i.i.i_crit_edge: ; preds = %if.then.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end15.sink.split.i.i.i.i.i.i

if.else.i.i.i.i.i.i:                              ; preds = %if.then.i.i
  %add.i.i.i.i.i.i = add i32 %asmresult.i.i.i.i.i.i.i.i, 1
  %4 = or i32 %add.i.i.i.i.i.i, %asmresult.i.i.i.i.i.i.i.i
  call void @__sanitizer_cov_trace_const_cmp4(i32 -1, i32 %4)
  %.not.i.i.i.i.i.i = icmp sgt i32 %4, -1
  br i1 %.not.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.vfio_group_get_from_iommu.exit_crit_edge, label %if.else.i.i.i.i.i.i.if.end15.sink.split.i.i.i.i.i.i_crit_edge, !prof !223

if.else.i.i.i.i.i.i.if.end15.sink.split.i.i.i.i.i.i_crit_edge: ; preds = %if.else.i.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end15.sink.split.i.i.i.i.i.i

if.else.i.i.i.i.i.i.vfio_group_get_from_iommu.exit_crit_edge: ; preds = %if.else.i.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_group_get_from_iommu.exit

if.end15.sink.split.i.i.i.i.i.i:                  ; preds = %if.else.i.i.i.i.i.i.if.end15.sink.split.i.i.i.i.i.i_crit_edge, %if.then.i.i.if.end15.sink.split.i.i.i.i.i.i_crit_edge
  %.sink.i.i.i.i.i.i = phi i32 [ 2, %if.then.i.i.if.end15.sink.split.i.i.i.i.i.i_crit_edge ], [ 1, %if.else.i.i.i.i.i.i.if.end15.sink.split.i.i.i.i.i.i_crit_edge ]
  tail call void @refcount_warn_saturate(ptr noundef %users.i.i.i, i32 noundef %.sink.i.i.i.i.i.i) #15
  br label %vfio_group_get_from_iommu.exit

vfio_group_get_from_iommu.exit:                   ; preds = %if.end15.sink.split.i.i.i.i.i.i, %if.else.i.i.i.i.i.i.vfio_group_get_from_iommu.exit_crit_edge, %for.cond.i.i.vfio_group_get_from_iommu.exit_crit_edge
  %retval.0.i.i = phi ptr [ %group.0.le.i.i, %if.else.i.i.i.i.i.i.vfio_group_get_from_iommu.exit_crit_edge ], [ %group.0.le.i.i, %if.end15.sink.split.i.i.i.i.i.i ], [ null, %for.cond.i.i.vfio_group_get_from_iommu.exit_crit_edge ]
  tail call void @mutex_unlock(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 4)) #15
  tail call void @iommu_group_put(ptr noundef nonnull %call) #15
  br label %cleanup

cleanup:                                          ; preds = %vfio_group_get_from_iommu.exit, %entry.cleanup_crit_edge
  %retval.0 = phi ptr [ %retval.0.i.i, %vfio_group_get_from_iommu.exit ], [ null, %entry.cleanup_crit_edge ]
  ret ptr %retval.0
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal fastcc void @vfio_group_put(ptr noundef %group) unnamed_addr #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %users = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 2
  %call = tail call zeroext i1 @refcount_dec_and_mutex_lock(ptr noundef %users, ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 4)) #15
  br i1 %call, label %if.end, label %entry.return_crit_edge

entry.return_crit_edge:                           ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %return

if.end:                                           ; preds = %entry
  %device_list = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 6
  %0 = ptrtoint ptr %device_list to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load volatile ptr, ptr %device_list, align 4
  %cmp.i.not = icmp eq ptr %1, %device_list
  br i1 %cmp.i.not, label %if.end.if.end17_crit_edge, label %do.end, !prof !223

if.end.if.end17_crit_edge:                        ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end17

do.end:                                           ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  tail call void (ptr, i32, i32, ptr, ...) @warn_slowpath_fmt(ptr noundef nonnull @.str, i32 noundef 459, i32 noundef 9, ptr noundef null) #15
  br label %if.end17

if.end17:                                         ; preds = %do.end, %if.end.if.end17_crit_edge
  %container_users = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 3
  %call.i.i = tail call zeroext i1 @__kasan_check_read(ptr noundef %container_users, i32 noundef 4) #15
  %2 = ptrtoint ptr %container_users to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load volatile i32, ptr %container_users, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %3)
  %tobool26.not = icmp eq i32 %3, 0
  br i1 %tobool26.not, label %if.end17.if.end48_crit_edge, label %do.end42, !prof !223

if.end17.if.end48_crit_edge:                      ; preds = %if.end17
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end48

do.end42:                                         ; preds = %if.end17
  call void @__sanitizer_cov_trace_pc() #17
  tail call void (ptr, i32, i32, ptr, ...) @warn_slowpath_fmt(ptr noundef nonnull @.str, i32 noundef 460, i32 noundef 9, ptr noundef null) #15
  br label %if.end48

if.end48:                                         ; preds = %do.end42, %if.end17.if.end48_crit_edge
  %head = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 18, i32 1
  %4 = ptrtoint ptr %head to i32
  call void @__asan_load4_noabort(i32 %4)
  %5 = load ptr, ptr %head, align 8
  %tobool57.not = icmp eq ptr %5, null
  br i1 %tobool57.not, label %if.end48.if.end79_crit_edge, label %do.end73, !prof !223

if.end48.if.end79_crit_edge:                      ; preds = %if.end48
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end79

do.end73:                                         ; preds = %if.end48
  call void @__sanitizer_cov_trace_pc() #17
  tail call void (ptr, i32, i32, ptr, ...) @warn_slowpath_fmt(ptr noundef nonnull @.str, i32 noundef 461, i32 noundef 9, ptr noundef null) #15
  br label %if.end79

if.end79:                                         ; preds = %do.end73, %if.end48.if.end79_crit_edge
  %vfio_next = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 9
  %call.i.i101 = tail call zeroext i1 @__list_del_entry_valid(ptr noundef %vfio_next) #15
  br i1 %call.i.i101, label %if.end.i.i, label %if.end79.list_del.exit_crit_edge

if.end79.list_del.exit_crit_edge:                 ; preds = %if.end79
  call void @__sanitizer_cov_trace_pc() #17
  br label %list_del.exit

if.end.i.i:                                       ; preds = %if.end79
  call void @__sanitizer_cov_trace_pc() #17
  %prev.i.i = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 9, i32 1
  %6 = ptrtoint ptr %prev.i.i to i32
  call void @__asan_load4_noabort(i32 %6)
  %7 = load ptr, ptr %prev.i.i, align 4
  %8 = ptrtoint ptr %vfio_next to i32
  call void @__asan_load4_noabort(i32 %8)
  %9 = load ptr, ptr %vfio_next, align 4
  %prev1.i.i.i = getelementptr inbounds %struct.list_head, ptr %9, i32 0, i32 1
  %10 = ptrtoint ptr %prev1.i.i.i to i32
  call void @__asan_store4_noabort(i32 %10)
  store ptr %7, ptr %prev1.i.i.i, align 4
  %11 = ptrtoint ptr %7 to i32
  call void @__asan_store4_noabort(i32 %11)
  store volatile ptr %9, ptr %7, align 4
  br label %list_del.exit

list_del.exit:                                    ; preds = %if.end.i.i, %if.end79.list_del.exit_crit_edge
  %12 = ptrtoint ptr %vfio_next to i32
  call void @__asan_store4_noabort(i32 %12)
  store ptr inttoptr (i32 256 to ptr), ptr %vfio_next, align 4
  %prev.i = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 9, i32 1
  %13 = ptrtoint ptr %prev.i to i32
  call void @__asan_store4_noabort(i32 %13)
  store ptr inttoptr (i32 290 to ptr), ptr %prev.i, align 4
  %cdev = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 1
  tail call void @cdev_device_del(ptr noundef %cdev, ptr noundef %group) #15
  tail call void @mutex_unlock(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 4)) #15
  %iommu_group = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 4
  %14 = ptrtoint ptr %iommu_group to i32
  call void @__asan_load4_noabort(i32 %14)
  %15 = load ptr, ptr %iommu_group, align 8
  %nb = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 8
  %call87 = tail call i32 @iommu_group_unregister_notifier(ptr noundef %15, ptr noundef %nb) #15
  tail call void @put_device(ptr noundef %group) #15
  br label %return

return:                                           ; preds = %list_del.exit, %entry.return_crit_edge
  ret void
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local void @vfio_unregister_group_dev(ptr noundef %device) #0 align 64 {
entry:
  %__wq_entry = alloca %struct.wait_queue_entry, align 4
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %group1 = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 2
  %0 = ptrtoint ptr %group1 to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %group1, align 4
  call void @__asan_load4_noabort(i32 ptrtoint (ptr getelementptr inbounds ([4 x [14 x ptr]], ptr @kmalloc_caches, i32 0, i32 0, i32 7) to i32))
  %2 = load ptr, ptr getelementptr inbounds ([4 x [14 x ptr]], ptr @kmalloc_caches, i32 0, i32 0, i32 7), align 4
  %call7.i.i = tail call noalias align 8 ptr @kmem_cache_alloc_trace(ptr noundef %2, i32 noundef 3520, i32 noundef 12) #18
  %tobool.not = icmp eq ptr %call7.i.i, null
  br i1 %tobool.not, label %do.end.critedge, label %if.then

if.then:                                          ; preds = %entry
  %3 = ptrtoint ptr %device to i32
  call void @__asan_load4_noabort(i32 %3)
  %4 = load ptr, ptr %device, align 4
  %5 = ptrtoint ptr %call7.i.i to i32
  call void @__asan_store4_noabort(i32 %5)
  store ptr %4, ptr %call7.i.i, align 8
  %unbound_lock = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 12
  tail call void @mutex_lock_nested(ptr noundef %unbound_lock, i32 noundef 0) #15
  %unbound_next = getelementptr inbounds %struct.vfio_unbound_dev, ptr %call7.i.i, i32 0, i32 1
  %unbound_list = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 11
  %6 = ptrtoint ptr %unbound_list to i32
  call void @__asan_load4_noabort(i32 %6)
  %7 = load ptr, ptr %unbound_list, align 4
  %call.i.i = tail call zeroext i1 @__list_add_valid(ptr noundef %unbound_next, ptr noundef %unbound_list, ptr noundef %7) #15
  br i1 %call.i.i, label %if.end.i.i, label %if.then.list_add.exit_crit_edge

if.then.list_add.exit_crit_edge:                  ; preds = %if.then
  call void @__sanitizer_cov_trace_pc() #17
  br label %list_add.exit

if.end.i.i:                                       ; preds = %if.then
  call void @__sanitizer_cov_trace_pc() #17
  %prev1.i.i = getelementptr inbounds %struct.list_head, ptr %7, i32 0, i32 1
  %8 = ptrtoint ptr %prev1.i.i to i32
  call void @__asan_store4_noabort(i32 %8)
  store ptr %unbound_next, ptr %prev1.i.i, align 4
  %9 = ptrtoint ptr %unbound_next to i32
  call void @__asan_store4_noabort(i32 %9)
  store ptr %7, ptr %unbound_next, align 4
  %prev3.i.i = getelementptr inbounds %struct.vfio_unbound_dev, ptr %call7.i.i, i32 0, i32 1, i32 1
  %10 = ptrtoint ptr %prev3.i.i to i32
  call void @__asan_store4_noabort(i32 %10)
  store ptr %unbound_list, ptr %prev3.i.i, align 8
  %11 = ptrtoint ptr %unbound_list to i32
  call void @__asan_store4_noabort(i32 %11)
  store volatile ptr %unbound_next, ptr %unbound_list, align 4
  br label %list_add.exit

list_add.exit:                                    ; preds = %if.end.i.i, %if.then.list_add.exit_crit_edge
  tail call void @mutex_unlock(ptr noundef %unbound_lock) #15
  br label %if.end20

do.end.critedge:                                  ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  tail call void (ptr, i32, i32, ptr, ...) @warn_slowpath_fmt(ptr noundef nonnull @.str, i32 noundef 913, i32 noundef 9, ptr noundef null) #15
  br label %if.end20

if.end20:                                         ; preds = %do.end.critedge, %list_add.exit
  %refcount.i = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 5
  %call.i.i.i.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %refcount.i, i32 noundef 4) #15
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !221
  tail call void @llvm.prefetch.p0(ptr %refcount.i, i32 1, i32 3, i32 1) #15
  %12 = tail call { i32, i32, i32 } asm sideeffect "@ atomic_fetch_sub\0A1:\09ldrex\09$0, [$4]\0A\09sub\09$1, $0, $5\0A\09strex\09$2, $1, [$4]\0A\09teq\09$2, #0\0A\09bne\091b", "=&r,=&r,=&r,=*Qo,r,Ir,*Qo,~{cc}"(ptr elementtype(i32) %refcount.i, ptr %refcount.i, i32 1, ptr elementtype(i32) %refcount.i) #15, !srcloc !222
  %asmresult.i.i.i.i.i.i.i = extractvalue { i32, i32, i32 } %12, 0
  call void @__sanitizer_cov_trace_const_cmp4(i32 1, i32 %asmresult.i.i.i.i.i.i.i)
  %cmp.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i, label %if.then.i, label %if.end5.i.i.i.i

if.end5.i.i.i.i:                                  ; preds = %if.end20
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %asmresult.i.i.i.i.i.i.i)
  %.not.i.i.i.i = icmp sgt i32 %asmresult.i.i.i.i.i.i.i, 0
  br i1 %.not.i.i.i.i, label %if.end5.i.i.i.i.vfio_device_put.exit_crit_edge, label %if.then10.i.i.i.i, !prof !223

if.end5.i.i.i.i.vfio_device_put.exit_crit_edge:   ; preds = %if.end5.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_device_put.exit

if.then10.i.i.i.i:                                ; preds = %if.end5.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  tail call void @refcount_warn_saturate(ptr noundef %refcount.i, i32 noundef 3) #15
  br label %vfio_device_put.exit

if.then.i:                                        ; preds = %if.end20
  call void @__sanitizer_cov_trace_pc() #17
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !224
  %comp.i = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 7
  tail call void @complete(ptr noundef %comp.i) #15
  br label %vfio_device_put.exit

vfio_device_put.exit:                             ; preds = %if.then.i, %if.then10.i.i.i.i, %if.end5.i.i.i.i.vfio_device_put.exit_crit_edge
  %comp = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 7
  %call27 = tail call zeroext i1 @try_wait_for_completion(ptr noundef %comp) #15
  br i1 %call27, label %vfio_device_put.exit.while.end_crit_edge, label %while.body.lr.ph

vfio_device_put.exit.while.end_crit_edge:         ; preds = %vfio_device_put.exit
  call void @__sanitizer_cov_trace_pc() #17
  br label %while.end

while.body.lr.ph:                                 ; preds = %vfio_device_put.exit
  %ops = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 1
  br label %while.body

while.body:                                       ; preds = %if.end52.while.body_crit_edge, %while.body.lr.ph
  %i.0124 = phi i32 [ 0, %while.body.lr.ph ], [ %i.1, %if.end52.while.body_crit_edge ]
  %interrupted.0.off0123 = phi i1 [ false, %while.body.lr.ph ], [ %interrupted.1.off0, %if.end52.while.body_crit_edge ]
  %13 = ptrtoint ptr %ops to i32
  call void @__asan_load4_noabort(i32 %13)
  %14 = load ptr, ptr %ops, align 4
  %request = getelementptr inbounds %struct.vfio_device_ops, ptr %14, i32 0, i32 7
  %15 = ptrtoint ptr %request to i32
  call void @__asan_load4_noabort(i32 %15)
  %16 = load ptr, ptr %request, align 4
  %tobool29.not = icmp eq ptr %16, null
  br i1 %tobool29.not, label %while.body.if.end33_crit_edge, label %if.then30

while.body.if.end33_crit_edge:                    ; preds = %while.body
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end33

if.then30:                                        ; preds = %while.body
  call void @__sanitizer_cov_trace_pc() #17
  %inc = add i32 %i.0124, 1
  tail call void %16(ptr noundef %device, i32 noundef %i.0124) #15
  br label %if.end33

if.end33:                                         ; preds = %if.then30, %while.body.if.end33_crit_edge
  %i.1 = phi i32 [ %inc, %if.then30 ], [ %i.0124, %while.body.if.end33_crit_edge ]
  br i1 %interrupted.0.off0123, label %if.then35, label %if.else

if.then35:                                        ; preds = %if.end33
  call void @__sanitizer_cov_trace_pc() #17
  %call37 = tail call i32 @wait_for_completion_timeout(ptr noundef %comp, i32 noundef 1000) #15
  br label %if.end52

if.else:                                          ; preds = %if.end33
  %call39 = tail call i32 @wait_for_completion_interruptible_timeout(ptr noundef %comp, i32 noundef 1000) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call39)
  %cmp40 = icmp slt i32 %call39, 0
  br i1 %cmp40, label %if.then42, label %if.else.if.end52_crit_edge

if.else.if.end52_crit_edge:                       ; preds = %if.else
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end52

if.then42:                                        ; preds = %if.else
  call void @__sanitizer_cov_trace_pc() #17
  %17 = ptrtoint ptr %device to i32
  call void @__asan_load4_noabort(i32 %17)
  %18 = load ptr, ptr %device, align 4
  %19 = tail call i32 @llvm.read_register.i32(metadata !210) #15
  %and.i = and i32 %19, -16384
  %20 = inttoptr i32 %and.i to ptr
  %task = getelementptr inbounds %struct.thread_info, ptr %20, i32 0, i32 2
  %21 = ptrtoint ptr %task to i32
  call void @__asan_load4_noabort(i32 %21)
  %22 = load ptr, ptr %task, align 8
  %comm = getelementptr inbounds %struct.task_struct, ptr %22, i32 0, i32 101
  %pid.i = getelementptr inbounds %struct.task_struct, ptr %22, i32 0, i32 68
  %23 = ptrtoint ptr %pid.i to i32
  call void @__asan_load4_noabort(i32 %23)
  %24 = load i32, ptr %pid.i, align 8
  tail call void (ptr, ptr, ...) @_dev_warn(ptr noundef %18, ptr noundef nonnull @.str.2, ptr noundef %comm, i32 noundef %24) #19
  br label %if.end52

if.end52:                                         ; preds = %if.then42, %if.else.if.end52_crit_edge, %if.then35
  %interrupted.1.off0 = phi i1 [ true, %if.then35 ], [ true, %if.then42 ], [ false, %if.else.if.end52_crit_edge ]
  %rc.1 = phi i32 [ %call37, %if.then35 ], [ %call39, %if.then42 ], [ %call39, %if.else.if.end52_crit_edge ]
  %cmp = icmp slt i32 %rc.1, 1
  br i1 %cmp, label %if.end52.while.body_crit_edge, label %if.end52.while.end_crit_edge

if.end52.while.end_crit_edge:                     ; preds = %if.end52
  call void @__sanitizer_cov_trace_pc() #17
  br label %while.end

if.end52.while.body_crit_edge:                    ; preds = %if.end52
  call void @__sanitizer_cov_trace_pc() #17
  br label %while.body

while.end:                                        ; preds = %if.end52.while.end_crit_edge, %vfio_device_put.exit.while.end_crit_edge
  %device_lock = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 7
  tail call void @mutex_lock_nested(ptr noundef %device_lock, i32 noundef 0) #15
  %group_next = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 8
  %call.i.i118 = tail call zeroext i1 @__list_del_entry_valid(ptr noundef %group_next) #15
  br i1 %call.i.i118, label %if.end.i.i119, label %while.end.list_del.exit_crit_edge

while.end.list_del.exit_crit_edge:                ; preds = %while.end
  call void @__sanitizer_cov_trace_pc() #17
  br label %list_del.exit

if.end.i.i119:                                    ; preds = %while.end
  call void @__sanitizer_cov_trace_pc() #17
  %prev.i.i = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 8, i32 1
  %25 = ptrtoint ptr %prev.i.i to i32
  call void @__asan_load4_noabort(i32 %25)
  %26 = load ptr, ptr %prev.i.i, align 4
  %27 = ptrtoint ptr %group_next to i32
  call void @__asan_load4_noabort(i32 %27)
  %28 = load ptr, ptr %group_next, align 4
  %prev1.i.i.i = getelementptr inbounds %struct.list_head, ptr %28, i32 0, i32 1
  %29 = ptrtoint ptr %prev1.i.i.i to i32
  call void @__asan_store4_noabort(i32 %29)
  store ptr %26, ptr %prev1.i.i.i, align 4
  %30 = ptrtoint ptr %26 to i32
  call void @__asan_store4_noabort(i32 %30)
  store volatile ptr %28, ptr %26, align 4
  br label %list_del.exit

list_del.exit:                                    ; preds = %if.end.i.i119, %while.end.list_del.exit_crit_edge
  %31 = ptrtoint ptr %group_next to i32
  call void @__asan_store4_noabort(i32 %31)
  store ptr inttoptr (i32 256 to ptr), ptr %group_next, align 4
  %prev.i = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 8, i32 1
  %32 = ptrtoint ptr %prev.i to i32
  call void @__asan_store4_noabort(i32 %32)
  store ptr inttoptr (i32 290 to ptr), ptr %prev.i, align 4
  %dev_counter = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 16
  %33 = ptrtoint ptr %dev_counter to i32
  call void @__asan_load4_noabort(i32 %33)
  %34 = load i32, ptr %dev_counter, align 8
  %dec = add i32 %34, -1
  store i32 %dec, ptr %dev_counter, align 8
  tail call void @mutex_unlock(ptr noundef %device_lock) #15
  %device_list = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 6
  %35 = ptrtoint ptr %device_list to i32
  call void @__asan_load4_noabort(i32 %35)
  %36 = load volatile ptr, ptr %device_list, align 4
  %cmp.i.not = icmp eq ptr %36, %device_list
  br i1 %cmp.i.not, label %do.body58, label %list_del.exit.if.end76_crit_edge

list_del.exit.if.end76_crit_edge:                 ; preds = %list_del.exit
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end76

do.body58:                                        ; preds = %list_del.exit
  tail call void @__might_sleep(ptr noundef nonnull @.str, i32 noundef 958) #15
  %container = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 5
  %37 = ptrtoint ptr %container to i32
  call void @__asan_load4_noabort(i32 %37)
  %38 = load ptr, ptr %container, align 4
  %tobool64.not = icmp eq ptr %38, null
  br i1 %tobool64.not, label %do.body58.if.end76_crit_edge, label %if.end66

do.body58.if.end76_crit_edge:                     ; preds = %do.body58
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end76

if.end66:                                         ; preds = %do.body58
  call void @llvm.lifetime.start.p0(i64 20, ptr nonnull %__wq_entry) #15
  %39 = call ptr @memset(ptr %__wq_entry, i32 255, i32 20)
  call void @init_wait_entry(ptr noundef nonnull %__wq_entry, i32 noundef 0) #15
  %container_q = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 14
  %call67125 = call i32 @prepare_to_wait_event(ptr noundef %container_q, ptr noundef nonnull %__wq_entry, i32 noundef 2) #15
  %40 = ptrtoint ptr %container to i32
  call void @__asan_load4_noabort(i32 %40)
  %41 = load ptr, ptr %container, align 4
  %tobool69.not126 = icmp eq ptr %41, null
  br i1 %tobool69.not126, label %if.end66.for.end_crit_edge, label %if.end66.cleanup_crit_edge

if.end66.cleanup_crit_edge:                       ; preds = %if.end66
  br label %cleanup

if.end66.for.end_crit_edge:                       ; preds = %if.end66
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.end

cleanup:                                          ; preds = %cleanup.cleanup_crit_edge, %if.end66.cleanup_crit_edge
  call void @schedule() #15
  %call67 = call i32 @prepare_to_wait_event(ptr noundef %container_q, ptr noundef nonnull %__wq_entry, i32 noundef 2) #15
  %42 = ptrtoint ptr %container to i32
  call void @__asan_load4_noabort(i32 %42)
  %43 = load ptr, ptr %container, align 4
  %tobool69.not = icmp eq ptr %43, null
  br i1 %tobool69.not, label %cleanup.for.end_crit_edge, label %cleanup.cleanup_crit_edge

cleanup.cleanup_crit_edge:                        ; preds = %cleanup
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

cleanup.for.end_crit_edge:                        ; preds = %cleanup
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.end

for.end:                                          ; preds = %cleanup.for.end_crit_edge, %if.end66.for.end_crit_edge
  call void @finish_wait(ptr noundef %container_q, ptr noundef nonnull %__wq_entry) #15
  call void @llvm.lifetime.end.p0(i64 20, ptr nonnull %__wq_entry) #15
  br label %if.end76

if.end76:                                         ; preds = %for.end, %do.body58.if.end76_crit_edge, %list_del.exit.if.end76_crit_edge
  %type = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 15
  %44 = ptrtoint ptr %type to i32
  call void @__asan_load4_noabort(i32 %44)
  %45 = load i32, ptr %type, align 4
  %.off = add i32 %45, -1
  call void @__sanitizer_cov_trace_const_cmp4(i32 2, i32 %.off)
  %switch117 = icmp ult i32 %.off, 2
  br i1 %switch117, label %if.then82, label %if.end76.if.end84_crit_edge

if.end76.if.end84_crit_edge:                      ; preds = %if.end76
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end84

if.then82:                                        ; preds = %if.end76
  call void @__sanitizer_cov_trace_pc() #17
  %46 = ptrtoint ptr %device to i32
  call void @__asan_load4_noabort(i32 %46)
  %47 = load ptr, ptr %device, align 4
  call void @iommu_group_remove_device(ptr noundef %47) #15
  br label %if.end84

if.end84:                                         ; preds = %if.then82, %if.end76.if.end84_crit_edge
  call fastcc void @vfio_group_put(ptr noundef %1)
  ret void
}

; Function Attrs: null_pointer_is_valid
declare dso_local zeroext i1 @try_wait_for_completion(ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local i32 @wait_for_completion_timeout(ptr noundef, i32 noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local i32 @wait_for_completion_interruptible_timeout(ptr noundef, i32 noundef) local_unnamed_addr #2

; Function Attrs: cold null_pointer_is_valid
declare dso_local void @_dev_warn(ptr noundef, ptr noundef, ...) local_unnamed_addr #3

; Function Attrs: null_pointer_is_valid
declare dso_local void @__might_sleep(ptr noundef, i32 noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @init_wait_entry(ptr noundef, i32 noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local i32 @prepare_to_wait_event(ptr noundef, ptr noundef, i32 noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @schedule() local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @finish_wait(ptr noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @iommu_group_remove_device(ptr noundef) local_unnamed_addr #2

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local ptr @vfio_group_get_external_user(ptr nocapture noundef readonly %filep) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %private_data = getelementptr inbounds %struct.file, ptr %filep, i32 0, i32 16
  %0 = ptrtoint ptr %private_data to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %private_data, align 4
  %f_op = getelementptr inbounds %struct.file, ptr %filep, i32 0, i32 3
  %2 = ptrtoint ptr %f_op to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load ptr, ptr %f_op, align 4
  %cmp.not = icmp eq ptr %3, @vfio_group_fops
  br i1 %cmp.not, label %if.end, label %entry.cleanup_crit_edge

entry.cleanup_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end:                                           ; preds = %entry
  %call1 = tail call fastcc i32 @vfio_group_add_container_user(ptr noundef %1)
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call1)
  %tobool.not = icmp eq i32 %call1, 0
  br i1 %tobool.not, label %if.end4, label %if.then2

if.then2:                                         ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  %4 = inttoptr i32 %call1 to ptr
  br label %cleanup

if.end4:                                          ; preds = %if.end
  %users.i = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 2
  %call.i.i.i.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %users.i, i32 noundef 4) #15
  tail call void @llvm.prefetch.p0(ptr %users.i, i32 1, i32 3, i32 1) #15
  %5 = tail call { i32, i32, i32 } asm sideeffect "@ atomic_fetch_add\0A1:\09ldrex\09$0, [$4]\0A\09add\09$1, $0, $5\0A\09strex\09$2, $1, [$4]\0A\09teq\09$2, #0\0A\09bne\091b", "=&r,=&r,=&r,=*Qo,r,Ir,*Qo,~{cc}"(ptr elementtype(i32) %users.i, ptr %users.i, i32 1, ptr elementtype(i32) %users.i) #15, !srcloc !226
  %asmresult.i.i.i.i.i.i = extractvalue { i32, i32, i32 } %5, 0
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %asmresult.i.i.i.i.i.i)
  %tobool1.not.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i.i.i, 0
  br i1 %tobool1.not.i.i.i.i, label %if.end4.if.end15.sink.split.i.i.i.i_crit_edge, label %if.else.i.i.i.i, !prof !220

if.end4.if.end15.sink.split.i.i.i.i_crit_edge:    ; preds = %if.end4
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end15.sink.split.i.i.i.i

if.else.i.i.i.i:                                  ; preds = %if.end4
  %add.i.i.i.i = add i32 %asmresult.i.i.i.i.i.i, 1
  %6 = or i32 %add.i.i.i.i, %asmresult.i.i.i.i.i.i
  call void @__sanitizer_cov_trace_const_cmp4(i32 -1, i32 %6)
  %.not.i.i.i.i = icmp sgt i32 %6, -1
  br i1 %.not.i.i.i.i, label %if.else.i.i.i.i.cleanup_crit_edge, label %if.else.i.i.i.i.if.end15.sink.split.i.i.i.i_crit_edge, !prof !223

if.else.i.i.i.i.if.end15.sink.split.i.i.i.i_crit_edge: ; preds = %if.else.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end15.sink.split.i.i.i.i

if.else.i.i.i.i.cleanup_crit_edge:                ; preds = %if.else.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end15.sink.split.i.i.i.i:                      ; preds = %if.else.i.i.i.i.if.end15.sink.split.i.i.i.i_crit_edge, %if.end4.if.end15.sink.split.i.i.i.i_crit_edge
  %.sink.i.i.i.i = phi i32 [ 2, %if.end4.if.end15.sink.split.i.i.i.i_crit_edge ], [ 1, %if.else.i.i.i.i.if.end15.sink.split.i.i.i.i_crit_edge ]
  tail call void @refcount_warn_saturate(ptr noundef %users.i, i32 noundef %.sink.i.i.i.i) #15
  br label %cleanup

cleanup:                                          ; preds = %if.end15.sink.split.i.i.i.i, %if.else.i.i.i.i.cleanup_crit_edge, %if.then2, %entry.cleanup_crit_edge
  %retval.0 = phi ptr [ %4, %if.then2 ], [ inttoptr (i32 -22 to ptr), %entry.cleanup_crit_edge ], [ %1, %if.else.i.i.i.i.cleanup_crit_edge ], [ %1, %if.end15.sink.split.i.i.i.i ]
  ret ptr %retval.0
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal fastcc i32 @vfio_group_add_container_user(ptr noundef %group) unnamed_addr #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %container_users = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 3
  %call.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %container_users, i32 noundef 4) #15
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !227
  tail call void @llvm.prefetch.p0(ptr %container_users, i32 1, i32 3, i32 1) #15
  %0 = tail call { i32, i32, i32 } asm sideeffect "@ atomic_add_unless\0A1:\09ldrex\09$0, [$4]\0A\09teq\09$0, $5\0A\09beq\092f\0A\09add\09$1, $0, $6\0A\09strex\09$2, $1, [$4]\0A\09teq\09$2, #0\0A\09bne\091b\0A2:", "=&r,=&r,=&r,=*Qo,r,r,r,*Qo,~{cc}"(ptr elementtype(i32) %container_users, ptr %container_users, i32 0, i32 1, ptr elementtype(i32) %container_users) #15, !srcloc !228
  %asmresult.i.i.i.i = extractvalue { i32, i32, i32 } %0, 0
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %asmresult.i.i.i.i)
  %cmp.not.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i, 0
  br i1 %cmp.not.i.i.i.i, label %entry.return_crit_edge, label %if.end

entry.return_crit_edge:                           ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %return

if.end:                                           ; preds = %entry
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !229
  %type = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 15
  %1 = ptrtoint ptr %type to i32
  call void @__asan_load4_noabort(i32 %1)
  %2 = load i32, ptr %type, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 2, i32 %2)
  %cmp = icmp eq i32 %2, 2
  br i1 %cmp, label %if.then1, label %if.end3

if.then1:                                         ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  %call.i.i13 = tail call zeroext i1 @__kasan_check_write(ptr noundef %container_users, i32 noundef 4) #15
  tail call void @llvm.prefetch.p0(ptr %container_users, i32 1, i32 3, i32 1) #15
  %3 = tail call { i32, i32 } asm sideeffect "@ atomic_sub\0A1:\09ldrex\09$0, [$3]\0A\09sub\09$0, $0, $4\0A\09strex\09$1, $0, [$3]\0A\09teq\09$1, #0\0A\09bne\091b", "=&r,=&r,=*Qo,r,Ir,*Qo,~{cc}"(ptr elementtype(i32) %container_users, ptr %container_users, i32 1, ptr elementtype(i32) %container_users) #15, !srcloc !230
  br label %return

if.end3:                                          ; preds = %if.end
  %container = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 5
  %4 = ptrtoint ptr %container to i32
  call void @__asan_load4_noabort(i32 %4)
  %5 = load ptr, ptr %container, align 4
  %iommu_driver = getelementptr inbounds %struct.vfio_container, ptr %5, i32 0, i32 3
  %6 = ptrtoint ptr %iommu_driver to i32
  call void @__asan_load4_noabort(i32 %6)
  %7 = load ptr, ptr %iommu_driver, align 4
  %tobool.not = icmp eq ptr %7, null
  br i1 %tobool.not, label %if.end3.if.then5_crit_edge, label %lor.lhs.false

if.end3.if.then5_crit_edge:                       ; preds = %if.end3
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.then5

lor.lhs.false:                                    ; preds = %if.end3
  %iommu_group.i = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 4
  %8 = ptrtoint ptr %iommu_group.i to i32
  call void @__asan_load4_noabort(i32 %8)
  %9 = load ptr, ptr %iommu_group.i, align 8
  %call.i = tail call i32 @iommu_group_for_each_dev(ptr noundef %9, ptr noundef %group, ptr noundef nonnull @vfio_dev_viable) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call.i)
  %cmp.i = icmp eq i32 %call.i, 0
  br i1 %cmp.i, label %lor.lhs.false.return_crit_edge, label %lor.lhs.false.if.then5_crit_edge

lor.lhs.false.if.then5_crit_edge:                 ; preds = %lor.lhs.false
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.then5

lor.lhs.false.return_crit_edge:                   ; preds = %lor.lhs.false
  call void @__sanitizer_cov_trace_pc() #17
  br label %return

if.then5:                                         ; preds = %lor.lhs.false.if.then5_crit_edge, %if.end3.if.then5_crit_edge
  %call.i.i14 = tail call zeroext i1 @__kasan_check_write(ptr noundef %container_users, i32 noundef 4) #15
  tail call void @llvm.prefetch.p0(ptr %container_users, i32 1, i32 3, i32 1) #15
  %10 = tail call { i32, i32 } asm sideeffect "@ atomic_sub\0A1:\09ldrex\09$0, [$3]\0A\09sub\09$0, $0, $4\0A\09strex\09$1, $0, [$3]\0A\09teq\09$1, #0\0A\09bne\091b", "=&r,=&r,=*Qo,r,Ir,*Qo,~{cc}"(ptr elementtype(i32) %container_users, ptr %container_users, i32 1, ptr elementtype(i32) %container_users) #15, !srcloc !230
  br label %return

return:                                           ; preds = %if.then5, %lor.lhs.false.return_crit_edge, %if.then1, %entry.return_crit_edge
  %retval.0 = phi i32 [ -1, %if.then1 ], [ -22, %if.then5 ], [ 0, %lor.lhs.false.return_crit_edge ], [ -22, %entry.return_crit_edge ]
  ret i32 %retval.0
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local ptr @vfio_group_get_external_user_from_dev(ptr noundef %dev) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %call = tail call fastcc ptr @vfio_group_get_from_dev(ptr noundef %dev)
  %tobool.not = icmp eq ptr %call, null
  br i1 %tobool.not, label %entry.cleanup_crit_edge, label %if.end

entry.cleanup_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end:                                           ; preds = %entry
  %call2 = tail call fastcc i32 @vfio_group_add_container_user(ptr noundef nonnull %call)
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call2)
  %tobool3.not = icmp eq i32 %call2, 0
  br i1 %tobool3.not, label %if.end.cleanup_crit_edge, label %if.then4

if.end.cleanup_crit_edge:                         ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.then4:                                         ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  tail call fastcc void @vfio_group_put(ptr noundef nonnull %call)
  %0 = inttoptr i32 %call2 to ptr
  br label %cleanup

cleanup:                                          ; preds = %if.then4, %if.end.cleanup_crit_edge, %entry.cleanup_crit_edge
  %retval.0 = phi ptr [ %0, %if.then4 ], [ %call, %if.end.cleanup_crit_edge ], [ inttoptr (i32 -19 to ptr), %entry.cleanup_crit_edge ]
  ret ptr %retval.0
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local void @vfio_group_put_external_user(ptr noundef %group) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %container_users.i = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 3
  %call.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %container_users.i, i32 noundef 4) #15
  %0 = ptrtoint ptr %container_users.i to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load volatile i32, ptr %container_users.i, align 4
  br label %do.body1.i.i.i

do.body1.i.i.i:                                   ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i.do.body1.i.i.i_crit_edge, %entry
  %c.0.i.i.i = phi i32 [ %1, %entry ], [ %asmresult3.i.i.i.i.i.i, %arch_atomic_cmpxchg.exit.i.i.i.i.do.body1.i.i.i_crit_edge ]
  %sub.i.i.i = add i32 %c.0.i.i.i, -1
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %sub.i.i.i)
  %cmp.i.i.i = icmp slt i32 %sub.i.i.i, 0
  br i1 %cmp.i.i.i, label %do.body1.i.i.i.vfio_group_try_dissolve_container.exit_crit_edge, label %do.cond3.i.i.i, !prof !220

do.body1.i.i.i.vfio_group_try_dissolve_container.exit_crit_edge: ; preds = %do.body1.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_group_try_dissolve_container.exit

do.cond3.i.i.i:                                   ; preds = %do.body1.i.i.i
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !231
  tail call void @llvm.prefetch.p0(ptr %container_users.i, i32 1, i32 3, i32 1) #15
  br label %do.body.i.i.i.i.i.i

do.body.i.i.i.i.i.i:                              ; preds = %do.body.i.i.i.i.i.i.do.body.i.i.i.i.i.i_crit_edge, %do.cond3.i.i.i
  %2 = tail call { i32, i32 } asm sideeffect "@ atomic_cmpxchg\0Aldrex\09$1, [$3]\0Amov\09$0, #0\0Ateq\09$1, $4\0Astrexeq $0, $5, [$3]\0A", "=&r,=&r,=*Qo,r,Ir,r,*Qo,~{cc}"(ptr elementtype(i32) %container_users.i, ptr %container_users.i, i32 %c.0.i.i.i, i32 %sub.i.i.i, ptr elementtype(i32) %container_users.i) #15, !srcloc !232
  %asmresult.i.i.i.i.i.i = extractvalue { i32, i32 } %2, 0
  %tobool.not.i.i.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i.i.i, 0
  br i1 %tobool.not.i.i.i.i.i.i, label %arch_atomic_cmpxchg.exit.i.i.i.i, label %do.body.i.i.i.i.i.i.do.body.i.i.i.i.i.i_crit_edge

do.body.i.i.i.i.i.i.do.body.i.i.i.i.i.i_crit_edge: ; preds = %do.body.i.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body.i.i.i.i.i.i

arch_atomic_cmpxchg.exit.i.i.i.i:                 ; preds = %do.body.i.i.i.i.i.i
  %asmresult3.i.i.i.i.i.i = extractvalue { i32, i32 } %2, 1
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !233
  %cmp.not.i.i.i.i = icmp eq i32 %asmresult3.i.i.i.i.i.i, %c.0.i.i.i
  br i1 %cmp.not.i.i.i.i, label %atomic_dec_if_positive.exit.i, label %arch_atomic_cmpxchg.exit.i.i.i.i.do.body1.i.i.i_crit_edge, !prof !223

arch_atomic_cmpxchg.exit.i.i.i.i.do.body1.i.i.i_crit_edge: ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body1.i.i.i

atomic_dec_if_positive.exit.i:                    ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %sub.i.i.i)
  %cmp.i = icmp eq i32 %sub.i.i.i, 0
  br i1 %cmp.i, label %if.then.i, label %atomic_dec_if_positive.exit.i.vfio_group_try_dissolve_container.exit_crit_edge

atomic_dec_if_positive.exit.i.vfio_group_try_dissolve_container.exit_crit_edge: ; preds = %atomic_dec_if_positive.exit.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_group_try_dissolve_container.exit

if.then.i:                                        ; preds = %atomic_dec_if_positive.exit.i
  call void @__sanitizer_cov_trace_pc() #17
  tail call fastcc void @__vfio_group_unset_container(ptr noundef %group) #15
  br label %vfio_group_try_dissolve_container.exit

vfio_group_try_dissolve_container.exit:           ; preds = %if.then.i, %atomic_dec_if_positive.exit.i.vfio_group_try_dissolve_container.exit_crit_edge, %do.body1.i.i.i.vfio_group_try_dissolve_container.exit_crit_edge
  tail call fastcc void @vfio_group_put(ptr noundef %group)
  ret void
}

; Function Attrs: argmemonly mustprogress nofree norecurse nosync nounwind null_pointer_is_valid readonly sanitize_address sspstrong willreturn uwtable(sync)
define dso_local zeroext i1 @vfio_external_group_match_file(ptr noundef readnone %test_group, ptr nocapture noundef readonly %filep) #4 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %f_op = getelementptr inbounds %struct.file, ptr %filep, i32 0, i32 3
  %0 = ptrtoint ptr %f_op to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %f_op, align 4
  %cmp = icmp eq ptr %1, @vfio_group_fops
  br i1 %cmp, label %land.rhs, label %entry.land.end_crit_edge

entry.land.end_crit_edge:                         ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %land.end

land.rhs:                                         ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  %private_data = getelementptr inbounds %struct.file, ptr %filep, i32 0, i32 16
  %2 = ptrtoint ptr %private_data to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load ptr, ptr %private_data, align 4
  %cmp1 = icmp eq ptr %3, %test_group
  br label %land.end

land.end:                                         ; preds = %land.rhs, %entry.land.end_crit_edge
  %4 = phi i1 [ false, %entry.land.end_crit_edge ], [ %cmp1, %land.rhs ]
  ret i1 %4
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local i32 @vfio_external_user_iommu_id(ptr nocapture noundef readonly %group) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %iommu_group = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 4
  %0 = ptrtoint ptr %iommu_group to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %iommu_group, align 8
  %call = tail call i32 @iommu_group_id(ptr noundef %1) #15
  ret i32 %call
}

; Function Attrs: null_pointer_is_valid
declare dso_local i32 @iommu_group_id(ptr noundef) local_unnamed_addr #2

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local i32 @vfio_external_check_extension(ptr nocapture noundef readonly %group, i32 noundef %arg) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %container = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 5
  %0 = ptrtoint ptr %container to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %container, align 4
  %call = tail call fastcc i32 @vfio_ioctl_check_extension(ptr noundef %1, i32 noundef %arg)
  ret i32 %call
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal fastcc i32 @vfio_ioctl_check_extension(ptr noundef %container, i32 noundef %arg) unnamed_addr #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %group_lock = getelementptr inbounds %struct.vfio_container, ptr %container, i32 0, i32 2
  tail call void @down_read(ptr noundef %group_lock) #15
  %iommu_driver = getelementptr inbounds %struct.vfio_container, ptr %container, i32 0, i32 3
  %0 = ptrtoint ptr %iommu_driver to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %iommu_driver, align 4
  %tobool.not = icmp eq ptr %1, null
  br i1 %tobool.not, label %if.then, label %if.else

if.then:                                          ; preds = %entry
  tail call void @mutex_lock_nested(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 2), i32 noundef 0) #15
  %.pn38 = load ptr, ptr getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 1), align 4
  %cmp.not40 = icmp eq ptr %.pn38, getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 1)
  br i1 %cmp.not40, label %if.then.for.end_crit_edge, label %for.body.lr.ph

if.then.for.end_crit_edge:                        ; preds = %if.then
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.end

for.body.lr.ph:                                   ; preds = %if.then
  %group_list = getelementptr inbounds %struct.vfio_container, ptr %container, i32 0, i32 1
  %noiommu.i = getelementptr inbounds %struct.vfio_container, ptr %container, i32 0, i32 5
  br label %for.body

for.body:                                         ; preds = %for.inc.for.body_crit_edge, %for.body.lr.ph
  %.pn43 = phi ptr [ %.pn38, %for.body.lr.ph ], [ %.pn, %for.inc.for.body_crit_edge ]
  %ret.041 = phi i32 [ 0, %for.body.lr.ph ], [ %ret.1, %for.inc.for.body_crit_edge ]
  %driver.044 = getelementptr i8, ptr %.pn43, i32 -4
  %2 = ptrtoint ptr %group_list to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load volatile ptr, ptr %group_list, align 4
  %cmp.i.not = icmp eq ptr %3, %group_list
  br i1 %cmp.i.not, label %for.body.if.end_crit_edge, label %land.lhs.true

for.body.if.end_crit_edge:                        ; preds = %for.body
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end

land.lhs.true:                                    ; preds = %for.body
  %4 = ptrtoint ptr %noiommu.i to i32
  call void @__asan_load1_noabort(i32 %4)
  %5 = load i8, ptr %noiommu.i, align 4, !range !225
  %6 = ptrtoint ptr %driver.044 to i32
  call void @__asan_load4_noabort(i32 %6)
  %7 = load ptr, ptr %driver.044, align 4
  %cmp.i37 = icmp eq ptr %7, @vfio_noiommu_ops
  %8 = zext i1 %cmp.i37 to i8
  call void @__sanitizer_cov_trace_cmp1(i8 %5, i8 %8)
  %cmp2.i = icmp eq i8 %5, %8
  br i1 %cmp2.i, label %land.lhs.true.if.end_crit_edge, label %land.lhs.true.for.inc_crit_edge

land.lhs.true.for.inc_crit_edge:                  ; preds = %land.lhs.true
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.inc

land.lhs.true.if.end_crit_edge:                   ; preds = %land.lhs.true
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end

if.end:                                           ; preds = %land.lhs.true.if.end_crit_edge, %for.body.if.end_crit_edge
  %9 = ptrtoint ptr %driver.044 to i32
  call void @__asan_load4_noabort(i32 %9)
  %10 = load ptr, ptr %driver.044, align 4
  %owner = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %10, i32 0, i32 1
  %11 = ptrtoint ptr %owner to i32
  call void @__asan_load4_noabort(i32 %11)
  %12 = load ptr, ptr %owner, align 4
  %call4 = tail call zeroext i1 @try_module_get(ptr noundef %12) #15
  br i1 %call4, label %if.end6, label %if.end.for.inc_crit_edge

if.end.for.inc_crit_edge:                         ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.inc

if.end6:                                          ; preds = %if.end
  %13 = ptrtoint ptr %driver.044 to i32
  call void @__asan_load4_noabort(i32 %13)
  %14 = load ptr, ptr %driver.044, align 4
  %ioctl = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %14, i32 0, i32 4
  %15 = ptrtoint ptr %ioctl to i32
  call void @__asan_load4_noabort(i32 %15)
  %16 = load ptr, ptr %ioctl, align 4
  %call8 = tail call i32 %16(ptr noundef null, i32 noundef 15205, i32 noundef %arg) #15
  %17 = ptrtoint ptr %driver.044 to i32
  call void @__asan_load4_noabort(i32 %17)
  %18 = load ptr, ptr %driver.044, align 4
  %owner10 = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %18, i32 0, i32 1
  %19 = ptrtoint ptr %owner10 to i32
  call void @__asan_load4_noabort(i32 %19)
  %20 = load ptr, ptr %owner10, align 4
  tail call void @module_put(ptr noundef %20) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call8)
  %cmp11 = icmp sgt i32 %call8, 0
  br i1 %cmp11, label %if.end6.for.end_crit_edge, label %if.end6.for.inc_crit_edge

if.end6.for.inc_crit_edge:                        ; preds = %if.end6
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.inc

if.end6.for.end_crit_edge:                        ; preds = %if.end6
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.end

for.inc:                                          ; preds = %if.end6.for.inc_crit_edge, %if.end.for.inc_crit_edge, %land.lhs.true.for.inc_crit_edge
  %ret.1 = phi i32 [ %call8, %if.end6.for.inc_crit_edge ], [ %ret.041, %if.end.for.inc_crit_edge ], [ %ret.041, %land.lhs.true.for.inc_crit_edge ]
  %21 = ptrtoint ptr %.pn43 to i32
  call void @__asan_load4_noabort(i32 %21)
  %.pn = load ptr, ptr %.pn43, align 4
  %cmp.not = icmp eq ptr %.pn, getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 1)
  br i1 %cmp.not, label %for.inc.for.end_crit_edge, label %for.inc.for.body_crit_edge

for.inc.for.body_crit_edge:                       ; preds = %for.inc
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.body

for.inc.for.end_crit_edge:                        ; preds = %for.inc
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.end

for.end:                                          ; preds = %for.inc.for.end_crit_edge, %if.end6.for.end_crit_edge, %if.then.for.end_crit_edge
  %ret.2 = phi i32 [ 0, %if.then.for.end_crit_edge ], [ %call8, %if.end6.for.end_crit_edge ], [ %ret.1, %for.inc.for.end_crit_edge ]
  tail call void @mutex_unlock(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 2)) #15
  br label %sw.epilog

if.else:                                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  %22 = ptrtoint ptr %1 to i32
  call void @__asan_load4_noabort(i32 %22)
  %23 = load ptr, ptr %1, align 4
  %ioctl19 = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %23, i32 0, i32 4
  %24 = ptrtoint ptr %ioctl19 to i32
  call void @__asan_load4_noabort(i32 %24)
  %25 = load ptr, ptr %ioctl19, align 4
  %iommu_data = getelementptr inbounds %struct.vfio_container, ptr %container, i32 0, i32 4
  %26 = ptrtoint ptr %iommu_data to i32
  call void @__asan_load4_noabort(i32 %26)
  %27 = load ptr, ptr %iommu_data, align 4
  %call20 = tail call i32 %25(ptr noundef %27, i32 noundef 15205, i32 noundef %arg) #15
  br label %sw.epilog

sw.epilog:                                        ; preds = %if.else, %for.end
  %ret.3 = phi i32 [ %call20, %if.else ], [ %ret.2, %for.end ]
  tail call void @up_read(ptr noundef %group_lock) #15
  ret i32 %ret.3
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local ptr @vfio_info_cap_add(ptr nocapture noundef %caps, i32 noundef %size, i16 noundef zeroext %id, i16 noundef zeroext %version) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %0 = ptrtoint ptr %caps to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %caps, align 4
  %size2 = getelementptr inbounds %struct.vfio_info_cap, ptr %caps, i32 0, i32 1
  %2 = ptrtoint ptr %size2 to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load i32, ptr %size2, align 4
  %add = add i32 %3, %size
  %call = tail call noalias ptr @krealloc(ptr noundef %1, i32 noundef %add, i32 noundef 3264) #20
  %tobool.not = icmp eq ptr %call, null
  br i1 %tobool.not, label %if.then, label %if.end

if.then:                                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  %4 = ptrtoint ptr %caps to i32
  call void @__asan_load4_noabort(i32 %4)
  %5 = load ptr, ptr %caps, align 4
  tail call void @kfree(ptr noundef %5) #15
  br label %cleanup

if.end:                                           ; preds = %entry
  %6 = ptrtoint ptr %caps to i32
  call void @__asan_store4_noabort(i32 %6)
  store ptr %call, ptr %caps, align 4
  %7 = ptrtoint ptr %size2 to i32
  call void @__asan_load4_noabort(i32 %7)
  %8 = load i32, ptr %size2, align 4
  %add.ptr = getelementptr i8, ptr %call, i32 %8
  %9 = call ptr @memset(ptr %add.ptr, i32 0, i32 %size)
  %10 = ptrtoint ptr %add.ptr to i32
  call void @__asan_store2_noabort(i32 %10)
  store i16 %id, ptr %add.ptr, align 4
  %version9 = getelementptr inbounds %struct.vfio_info_cap_header, ptr %add.ptr, i32 0, i32 1
  %11 = ptrtoint ptr %version9 to i32
  call void @__asan_store2_noabort(i32 %11)
  store i16 %version, ptr %version9, align 2
  %next37 = getelementptr inbounds %struct.vfio_info_cap_header, ptr %call, i32 0, i32 2
  %12 = ptrtoint ptr %next37 to i32
  call void @__asan_load4_noabort(i32 %12)
  %13 = load i32, ptr %next37, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %13)
  %tobool10.not38 = icmp eq i32 %13, 0
  br i1 %tobool10.not38, label %if.end.for.end_crit_edge, label %if.end.for.inc_crit_edge

if.end.for.inc_crit_edge:                         ; preds = %if.end
  br label %for.inc

if.end.for.end_crit_edge:                         ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.end

for.inc:                                          ; preds = %for.inc.for.inc_crit_edge, %if.end.for.inc_crit_edge
  %14 = phi i32 [ %16, %for.inc.for.inc_crit_edge ], [ %13, %if.end.for.inc_crit_edge ]
  %add.ptr12 = getelementptr i8, ptr %call, i32 %14
  %next = getelementptr inbounds %struct.vfio_info_cap_header, ptr %add.ptr12, i32 0, i32 2
  %15 = ptrtoint ptr %next to i32
  call void @__asan_load4_noabort(i32 %15)
  %16 = load i32, ptr %next, align 4
  %tobool10.not = icmp eq i32 %16, 0
  br i1 %tobool10.not, label %for.inc.for.end_crit_edge, label %for.inc.for.inc_crit_edge

for.inc.for.inc_crit_edge:                        ; preds = %for.inc
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.inc

for.inc.for.end_crit_edge:                        ; preds = %for.inc
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.end

for.end:                                          ; preds = %for.inc.for.end_crit_edge, %if.end.for.end_crit_edge
  %tmp.0.lcssa = phi ptr [ %call, %if.end.for.end_crit_edge ], [ %add.ptr12, %for.inc.for.end_crit_edge ]
  %next.le = getelementptr inbounds %struct.vfio_info_cap_header, ptr %tmp.0.lcssa, i32 0, i32 2
  %17 = ptrtoint ptr %next.le to i32
  call void @__asan_store4_noabort(i32 %17)
  store i32 %8, ptr %next.le, align 4
  %add16 = add i32 %8, %size
  br label %cleanup

cleanup:                                          ; preds = %for.end, %if.then
  %storemerge = phi i32 [ %add16, %for.end ], [ 0, %if.then ]
  %retval.0 = phi ptr [ %add.ptr, %for.end ], [ inttoptr (i32 -12 to ptr), %if.then ]
  %18 = ptrtoint ptr %size2 to i32
  call void @__asan_store4_noabort(i32 %18)
  store i32 %storemerge, ptr %size2, align 4
  ret ptr %retval.0
}

; Function Attrs: null_pointer_is_valid allocsize(1)
declare dso_local noalias ptr @krealloc(ptr noundef, i32 noundef, i32 noundef) local_unnamed_addr #5

; Function Attrs: nofree norecurse nosync nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local void @vfio_info_cap_shift(ptr nocapture noundef readonly %caps, i32 noundef %offset) #6 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %0 = ptrtoint ptr %caps to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %caps, align 4
  %next9 = getelementptr inbounds %struct.vfio_info_cap_header, ptr %1, i32 0, i32 2
  %2 = ptrtoint ptr %next9 to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load i32, ptr %next9, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %3)
  %tobool.not10 = icmp eq i32 %3, 0
  br i1 %tobool.not10, label %entry.for.end_crit_edge, label %entry.for.body_crit_edge

entry.for.body_crit_edge:                         ; preds = %entry
  br label %for.body

entry.for.end_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.end

for.body:                                         ; preds = %for.body.for.body_crit_edge, %entry.for.body_crit_edge
  %4 = phi i32 [ %7, %for.body.for.body_crit_edge ], [ %3, %entry.for.body_crit_edge ]
  %next11 = phi ptr [ %next, %for.body.for.body_crit_edge ], [ %next9, %entry.for.body_crit_edge ]
  %add = add i32 %4, %offset
  %5 = ptrtoint ptr %next11 to i32
  call void @__asan_store4_noabort(i32 %5)
  store i32 %add, ptr %next11, align 4
  %add.ptr4 = getelementptr i8, ptr %1, i32 %4
  %next = getelementptr inbounds %struct.vfio_info_cap_header, ptr %add.ptr4, i32 0, i32 2
  %6 = ptrtoint ptr %next to i32
  call void @__asan_load4_noabort(i32 %6)
  %7 = load i32, ptr %next, align 4
  %tobool.not = icmp eq i32 %7, 0
  br i1 %tobool.not, label %for.body.for.end_crit_edge, label %for.body.for.body_crit_edge

for.body.for.body_crit_edge:                      ; preds = %for.body
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.body

for.body.for.end_crit_edge:                       ; preds = %for.body
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.end

for.end:                                          ; preds = %for.body.for.end_crit_edge, %entry.for.end_crit_edge
  ret void
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local i32 @vfio_info_add_capability(ptr nocapture noundef %caps, ptr nocapture noundef readonly %cap, i32 noundef %size) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %0 = ptrtoint ptr %cap to i32
  call void @__asan_load2_noabort(i32 %0)
  %1 = load i16, ptr %cap, align 4
  %version = getelementptr inbounds %struct.vfio_info_cap_header, ptr %cap, i32 0, i32 1
  %2 = ptrtoint ptr %version to i32
  call void @__asan_load2_noabort(i32 %2)
  %3 = load i16, ptr %version, align 2
  %4 = ptrtoint ptr %caps to i32
  call void @__asan_load4_noabort(i32 %4)
  %5 = load ptr, ptr %caps, align 4
  %size2.i = getelementptr inbounds %struct.vfio_info_cap, ptr %caps, i32 0, i32 1
  %6 = ptrtoint ptr %size2.i to i32
  call void @__asan_load4_noabort(i32 %6)
  %7 = load i32, ptr %size2.i, align 4
  %add.i = add i32 %7, %size
  %call.i = tail call noalias ptr @krealloc(ptr noundef %5, i32 noundef %add.i, i32 noundef 3264) #20
  %tobool.not.i = icmp eq ptr %call.i, null
  br i1 %tobool.not.i, label %vfio_info_cap_add.exit.thread, label %if.end.i

vfio_info_cap_add.exit.thread:                    ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  %8 = ptrtoint ptr %caps to i32
  call void @__asan_load4_noabort(i32 %8)
  %9 = load ptr, ptr %caps, align 4
  tail call void @kfree(ptr noundef %9) #15
  %10 = ptrtoint ptr %size2.i to i32
  call void @__asan_store4_noabort(i32 %10)
  store i32 0, ptr %size2.i, align 4
  br label %if.then

if.end.i:                                         ; preds = %entry
  %11 = ptrtoint ptr %caps to i32
  call void @__asan_store4_noabort(i32 %11)
  store ptr %call.i, ptr %caps, align 4
  %12 = ptrtoint ptr %size2.i to i32
  call void @__asan_load4_noabort(i32 %12)
  %13 = load i32, ptr %size2.i, align 4
  %add.ptr.i = getelementptr i8, ptr %call.i, i32 %13
  %14 = call ptr @memset(ptr %add.ptr.i, i32 0, i32 %size)
  %15 = ptrtoint ptr %add.ptr.i to i32
  call void @__asan_store2_noabort(i32 %15)
  store i16 %1, ptr %add.ptr.i, align 4
  %version9.i = getelementptr inbounds %struct.vfio_info_cap_header, ptr %add.ptr.i, i32 0, i32 1
  %16 = ptrtoint ptr %version9.i to i32
  call void @__asan_store2_noabort(i32 %16)
  store i16 %3, ptr %version9.i, align 2
  %next37.i = getelementptr inbounds %struct.vfio_info_cap_header, ptr %call.i, i32 0, i32 2
  %17 = ptrtoint ptr %next37.i to i32
  call void @__asan_load4_noabort(i32 %17)
  %18 = load i32, ptr %next37.i, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %18)
  %tobool10.not38.i = icmp eq i32 %18, 0
  br i1 %tobool10.not38.i, label %if.end.i.vfio_info_cap_add.exit_crit_edge, label %if.end.i.for.inc.i_crit_edge

if.end.i.for.inc.i_crit_edge:                     ; preds = %if.end.i
  br label %for.inc.i

if.end.i.vfio_info_cap_add.exit_crit_edge:        ; preds = %if.end.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_info_cap_add.exit

for.inc.i:                                        ; preds = %for.inc.i.for.inc.i_crit_edge, %if.end.i.for.inc.i_crit_edge
  %19 = phi i32 [ %21, %for.inc.i.for.inc.i_crit_edge ], [ %18, %if.end.i.for.inc.i_crit_edge ]
  %add.ptr12.i = getelementptr i8, ptr %call.i, i32 %19
  %next.i = getelementptr inbounds %struct.vfio_info_cap_header, ptr %add.ptr12.i, i32 0, i32 2
  %20 = ptrtoint ptr %next.i to i32
  call void @__asan_load4_noabort(i32 %20)
  %21 = load i32, ptr %next.i, align 4
  %tobool10.not.i = icmp eq i32 %21, 0
  br i1 %tobool10.not.i, label %for.inc.i.vfio_info_cap_add.exit_crit_edge, label %for.inc.i.for.inc.i_crit_edge

for.inc.i.for.inc.i_crit_edge:                    ; preds = %for.inc.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.inc.i

for.inc.i.vfio_info_cap_add.exit_crit_edge:       ; preds = %for.inc.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_info_cap_add.exit

vfio_info_cap_add.exit:                           ; preds = %for.inc.i.vfio_info_cap_add.exit_crit_edge, %if.end.i.vfio_info_cap_add.exit_crit_edge
  %tmp.0.lcssa.i = phi ptr [ %call.i, %if.end.i.vfio_info_cap_add.exit_crit_edge ], [ %add.ptr12.i, %for.inc.i.vfio_info_cap_add.exit_crit_edge ]
  %next.le.i = getelementptr inbounds %struct.vfio_info_cap_header, ptr %tmp.0.lcssa.i, i32 0, i32 2
  %22 = ptrtoint ptr %next.le.i to i32
  call void @__asan_store4_noabort(i32 %22)
  store i32 %13, ptr %next.le.i, align 4
  %add16.i = add i32 %13, %size
  %23 = ptrtoint ptr %size2.i to i32
  call void @__asan_store4_noabort(i32 %23)
  store i32 %add16.i, ptr %size2.i, align 4
  %cmp.i = icmp ugt ptr %add.ptr.i, inttoptr (i32 -4096 to ptr)
  br i1 %cmp.i, label %vfio_info_cap_add.exit.if.then_crit_edge, label %if.end

vfio_info_cap_add.exit.if.then_crit_edge:         ; preds = %vfio_info_cap_add.exit
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.then

if.then:                                          ; preds = %vfio_info_cap_add.exit.if.then_crit_edge, %vfio_info_cap_add.exit.thread
  %retval.0.i12 = phi ptr [ inttoptr (i32 -12 to ptr), %vfio_info_cap_add.exit.thread ], [ %add.ptr.i, %vfio_info_cap_add.exit.if.then_crit_edge ]
  %24 = ptrtoint ptr %retval.0.i12 to i32
  br label %cleanup

if.end:                                           ; preds = %vfio_info_cap_add.exit
  call void @__sanitizer_cov_trace_pc() #17
  %add.ptr = getelementptr %struct.vfio_info_cap_header, ptr %add.ptr.i, i32 1
  %add.ptr3 = getelementptr %struct.vfio_info_cap_header, ptr %cap, i32 1
  %sub = add i32 %size, -8
  %25 = call ptr @memcpy(ptr %add.ptr, ptr %add.ptr3, i32 %sub)
  br label %cleanup

cleanup:                                          ; preds = %if.end, %if.then
  %retval.0 = phi i32 [ %24, %if.then ], [ 0, %if.end ]
  ret i32 %retval.0
}

; Function Attrs: argmemonly mustprogress nofree norecurse nosync nounwind null_pointer_is_valid sanitize_address sspstrong willreturn uwtable(sync)
define dso_local i32 @vfio_set_irqs_validate_and_prepare(ptr nocapture noundef readonly %hdr, i32 noundef %num_irqs, i32 noundef %max_irq_type, ptr noundef writeonly %data_size) #7 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %0 = ptrtoint ptr %hdr to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load i32, ptr %hdr, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 20, i32 %1)
  %cmp = icmp ult i32 %1, 20
  br i1 %cmp, label %entry.cleanup_crit_edge, label %lor.lhs.false

entry.cleanup_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

lor.lhs.false:                                    ; preds = %entry
  %index = getelementptr inbounds %struct.vfio_irq_set, ptr %hdr, i32 0, i32 2
  %2 = ptrtoint ptr %index to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load i32, ptr %index, align 4
  call void @__sanitizer_cov_trace_cmp4(i32 %3, i32 %max_irq_type)
  %cmp1.not = icmp ult i32 %3, %max_irq_type
  br i1 %cmp1.not, label %lor.lhs.false2, label %lor.lhs.false.cleanup_crit_edge

lor.lhs.false.cleanup_crit_edge:                  ; preds = %lor.lhs.false
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

lor.lhs.false2:                                   ; preds = %lor.lhs.false
  %count = getelementptr inbounds %struct.vfio_irq_set, ptr %hdr, i32 0, i32 4
  %4 = ptrtoint ptr %count to i32
  call void @__asan_load4_noabort(i32 %4)
  %5 = load i32, ptr %count, align 4
  %start = getelementptr inbounds %struct.vfio_irq_set, ptr %hdr, i32 0, i32 3
  %6 = ptrtoint ptr %start to i32
  call void @__asan_load4_noabort(i32 %6)
  %7 = load i32, ptr %start, align 4
  %sub = xor i32 %7, -1
  call void @__sanitizer_cov_trace_cmp4(i32 %5, i32 %sub)
  %cmp3.not = icmp ult i32 %5, %sub
  br i1 %cmp3.not, label %lor.lhs.false4, label %lor.lhs.false2.cleanup_crit_edge

lor.lhs.false2.cleanup_crit_edge:                 ; preds = %lor.lhs.false2
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

lor.lhs.false4:                                   ; preds = %lor.lhs.false2
  %flags = getelementptr inbounds %struct.vfio_irq_set, ptr %hdr, i32 0, i32 1
  %8 = ptrtoint ptr %flags to i32
  call void @__asan_load4_noabort(i32 %8)
  %9 = load i32, ptr %flags, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 64, i32 %9)
  %tobool.not = icmp ult i32 %9, 64
  br i1 %tobool.not, label %if.end, label %lor.lhs.false4.cleanup_crit_edge

lor.lhs.false4.cleanup_crit_edge:                 ; preds = %lor.lhs.false4
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end:                                           ; preds = %lor.lhs.false4
  %tobool5.not = icmp eq ptr %data_size, null
  br i1 %tobool5.not, label %if.end.if.end7_crit_edge, label %if.then6

if.end.if.end7_crit_edge:                         ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end7

if.then6:                                         ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  %10 = ptrtoint ptr %data_size to i32
  call void @__asan_store4_noabort(i32 %10)
  store i32 0, ptr %data_size, align 4
  br label %if.end7

if.end7:                                          ; preds = %if.then6, %if.end.if.end7_crit_edge
  %11 = ptrtoint ptr %start to i32
  call void @__asan_load4_noabort(i32 %11)
  %12 = load i32, ptr %start, align 4
  call void @__sanitizer_cov_trace_cmp4(i32 %12, i32 %num_irqs)
  %cmp9.not = icmp ult i32 %12, %num_irqs
  br i1 %cmp9.not, label %lor.lhs.false10, label %if.end7.cleanup_crit_edge

if.end7.cleanup_crit_edge:                        ; preds = %if.end7
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

lor.lhs.false10:                                  ; preds = %if.end7
  %13 = ptrtoint ptr %count to i32
  call void @__asan_load4_noabort(i32 %13)
  %14 = load i32, ptr %count, align 4
  %add = add i32 %14, %12
  call void @__sanitizer_cov_trace_cmp4(i32 %add, i32 %num_irqs)
  %cmp13 = icmp ugt i32 %add, %num_irqs
  br i1 %cmp13, label %lor.lhs.false10.cleanup_crit_edge, label %if.end15

lor.lhs.false10.cleanup_crit_edge:                ; preds = %lor.lhs.false10
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end15:                                         ; preds = %lor.lhs.false10
  %15 = ptrtoint ptr %flags to i32
  call void @__asan_load4_noabort(i32 %15)
  %16 = load i32, ptr %flags, align 4
  %and17 = and i32 %16, 7
  %17 = zext i32 %and17 to i64
  call void @__sanitizer_cov_trace_switch(i64 %17, ptr @__sancov_gen_cov_switch_values)
  switch i32 %and17, label %if.end15.cleanup_crit_edge [
    i32 1, label %sw.epilog
    i32 2, label %if.end15.if.then21_crit_edge
    i32 4, label %sw.bb19
  ]

if.end15.if.then21_crit_edge:                     ; preds = %if.end15
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.then21

if.end15.cleanup_crit_edge:                       ; preds = %if.end15
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

sw.bb19:                                          ; preds = %if.end15
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.then21

sw.epilog:                                        ; preds = %if.end15
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.then21:                                        ; preds = %sw.bb19, %if.end15.if.then21_crit_edge
  %size.0.ph = phi i32 [ 4, %sw.bb19 ], [ 1, %if.end15.if.then21_crit_edge ]
  %18 = ptrtoint ptr %hdr to i32
  call void @__asan_load4_noabort(i32 %18)
  %19 = load i32, ptr %hdr, align 4
  %sub23 = add i32 %19, -20
  %mul = mul i32 %size.0.ph, %14
  call void @__sanitizer_cov_trace_cmp4(i32 %sub23, i32 %mul)
  %cmp25 = icmp ult i32 %sub23, %mul
  %brmerge = or i1 %tobool5.not, %cmp25
  br i1 %brmerge, label %if.then21.cleanup_crit_edge, label %if.end30

if.then21.cleanup_crit_edge:                      ; preds = %if.then21
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end30:                                         ; preds = %if.then21
  call void @__sanitizer_cov_trace_pc() #17
  %20 = ptrtoint ptr %data_size to i32
  call void @__asan_store4_noabort(i32 %20)
  store i32 %mul, ptr %data_size, align 4
  br label %cleanup

cleanup:                                          ; preds = %if.end30, %if.then21.cleanup_crit_edge, %sw.epilog, %if.end15.cleanup_crit_edge, %lor.lhs.false10.cleanup_crit_edge, %if.end7.cleanup_crit_edge, %lor.lhs.false4.cleanup_crit_edge, %lor.lhs.false2.cleanup_crit_edge, %lor.lhs.false.cleanup_crit_edge, %entry.cleanup_crit_edge
  %retval.0 = phi i32 [ -22, %lor.lhs.false4.cleanup_crit_edge ], [ -22, %lor.lhs.false2.cleanup_crit_edge ], [ -22, %lor.lhs.false.cleanup_crit_edge ], [ -22, %entry.cleanup_crit_edge ], [ -22, %lor.lhs.false10.cleanup_crit_edge ], [ -22, %if.end7.cleanup_crit_edge ], [ -22, %if.end15.cleanup_crit_edge ], [ -22, %if.then21.cleanup_crit_edge ], [ 0, %if.end30 ], [ 0, %sw.epilog ]
  ret i32 %retval.0
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local i32 @vfio_pin_pages(ptr noundef %dev, ptr noundef %user_pfn, i32 noundef %npage, i32 noundef %prot, ptr noundef %phys_pfn) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %tobool.not = icmp eq ptr %dev, null
  %tobool1.not = icmp eq ptr %user_pfn, null
  %or.cond = or i1 %tobool.not, %tobool1.not
  %tobool3.not = icmp eq ptr %phys_pfn, null
  %or.cond46 = or i1 %or.cond, %tobool3.not
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %npage)
  %tobool5.not = icmp eq i32 %npage, 0
  %or.cond47 = or i1 %tobool5.not, %or.cond46
  br i1 %or.cond47, label %entry.cleanup_crit_edge, label %if.end

entry.cleanup_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end:                                           ; preds = %entry
  call void @__sanitizer_cov_trace_const_cmp4(i32 1024, i32 %npage)
  %cmp = icmp ugt i32 %npage, 1024
  br i1 %cmp, label %if.end.cleanup_crit_edge, label %if.end7

if.end.cleanup_crit_edge:                         ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end7:                                          ; preds = %if.end
  %call = tail call fastcc ptr @vfio_group_get_from_dev(ptr noundef nonnull %dev)
  %tobool8.not = icmp eq ptr %call, null
  br i1 %tobool8.not, label %if.end7.cleanup_crit_edge, label %if.end10

if.end7.cleanup_crit_edge:                        ; preds = %if.end7
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end10:                                         ; preds = %if.end7
  %dev_counter = getelementptr inbounds %struct.vfio_group, ptr %call, i32 0, i32 16
  %0 = ptrtoint ptr %dev_counter to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load i32, ptr %dev_counter, align 8
  call void @__sanitizer_cov_trace_const_cmp4(i32 1, i32 %1)
  %cmp11 = icmp ugt i32 %1, 1
  br i1 %cmp11, label %if.end10.err_pin_pages_crit_edge, label %if.end13

if.end10.err_pin_pages_crit_edge:                 ; preds = %if.end10
  call void @__sanitizer_cov_trace_pc() #17
  br label %err_pin_pages

if.end13:                                         ; preds = %if.end10
  %call14 = tail call fastcc i32 @vfio_group_add_container_user(ptr noundef nonnull %call)
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call14)
  %tobool15.not = icmp eq i32 %call14, 0
  br i1 %tobool15.not, label %if.end17, label %if.end13.err_pin_pages_crit_edge

if.end13.err_pin_pages_crit_edge:                 ; preds = %if.end13
  call void @__sanitizer_cov_trace_pc() #17
  br label %err_pin_pages

if.end17:                                         ; preds = %if.end13
  %container18 = getelementptr inbounds %struct.vfio_group, ptr %call, i32 0, i32 5
  %2 = ptrtoint ptr %container18 to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load ptr, ptr %container18, align 4
  %iommu_driver = getelementptr inbounds %struct.vfio_container, ptr %3, i32 0, i32 3
  %4 = ptrtoint ptr %iommu_driver to i32
  call void @__asan_load4_noabort(i32 %4)
  %5 = load ptr, ptr %iommu_driver, align 4
  %tobool19.not = icmp eq ptr %5, null
  br i1 %tobool19.not, label %if.end17.if.end27_crit_edge, label %land.rhs, !prof !220

if.end17.if.end27_crit_edge:                      ; preds = %if.end17
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end27

land.rhs:                                         ; preds = %if.end17
  %6 = ptrtoint ptr %5 to i32
  call void @__asan_load4_noabort(i32 %6)
  %7 = load ptr, ptr %5, align 4
  %pin_pages = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %7, i32 0, i32 7
  %8 = ptrtoint ptr %pin_pages to i32
  call void @__asan_load4_noabort(i32 %8)
  %9 = load ptr, ptr %pin_pages, align 4
  %tobool20.not = icmp eq ptr %9, null
  br i1 %tobool20.not, label %land.rhs.if.end27_crit_edge, label %if.then23, !prof !220

land.rhs.if.end27_crit_edge:                      ; preds = %land.rhs
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end27

if.then23:                                        ; preds = %land.rhs
  call void @__sanitizer_cov_trace_pc() #17
  %iommu_data = getelementptr inbounds %struct.vfio_container, ptr %3, i32 0, i32 4
  %10 = ptrtoint ptr %iommu_data to i32
  call void @__asan_load4_noabort(i32 %10)
  %11 = load ptr, ptr %iommu_data, align 4
  %iommu_group = getelementptr inbounds %struct.vfio_group, ptr %call, i32 0, i32 4
  %12 = ptrtoint ptr %iommu_group to i32
  call void @__asan_load4_noabort(i32 %12)
  %13 = load ptr, ptr %iommu_group, align 8
  %call26 = tail call i32 %9(ptr noundef %11, ptr noundef %13, ptr noundef nonnull %user_pfn, i32 noundef %npage, i32 noundef %prot, ptr noundef nonnull %phys_pfn) #15
  br label %if.end27

if.end27:                                         ; preds = %if.then23, %land.rhs.if.end27_crit_edge, %if.end17.if.end27_crit_edge
  %ret.0 = phi i32 [ %call26, %if.then23 ], [ -25, %if.end17.if.end27_crit_edge ], [ -25, %land.rhs.if.end27_crit_edge ]
  %container_users.i = getelementptr inbounds %struct.vfio_group, ptr %call, i32 0, i32 3
  %call.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %container_users.i, i32 noundef 4) #15
  %14 = ptrtoint ptr %container_users.i to i32
  call void @__asan_load4_noabort(i32 %14)
  %15 = load volatile i32, ptr %container_users.i, align 4
  br label %do.body1.i.i.i

do.body1.i.i.i:                                   ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i.do.body1.i.i.i_crit_edge, %if.end27
  %c.0.i.i.i = phi i32 [ %15, %if.end27 ], [ %asmresult3.i.i.i.i.i.i, %arch_atomic_cmpxchg.exit.i.i.i.i.do.body1.i.i.i_crit_edge ]
  %sub.i.i.i = add i32 %c.0.i.i.i, -1
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %sub.i.i.i)
  %cmp.i.i.i = icmp slt i32 %sub.i.i.i, 0
  br i1 %cmp.i.i.i, label %do.body1.i.i.i.err_pin_pages_crit_edge, label %do.cond3.i.i.i, !prof !220

do.body1.i.i.i.err_pin_pages_crit_edge:           ; preds = %do.body1.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %err_pin_pages

do.cond3.i.i.i:                                   ; preds = %do.body1.i.i.i
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !231
  tail call void @llvm.prefetch.p0(ptr %container_users.i, i32 1, i32 3, i32 1) #15
  br label %do.body.i.i.i.i.i.i

do.body.i.i.i.i.i.i:                              ; preds = %do.body.i.i.i.i.i.i.do.body.i.i.i.i.i.i_crit_edge, %do.cond3.i.i.i
  %16 = tail call { i32, i32 } asm sideeffect "@ atomic_cmpxchg\0Aldrex\09$1, [$3]\0Amov\09$0, #0\0Ateq\09$1, $4\0Astrexeq $0, $5, [$3]\0A", "=&r,=&r,=*Qo,r,Ir,r,*Qo,~{cc}"(ptr elementtype(i32) %container_users.i, ptr %container_users.i, i32 %c.0.i.i.i, i32 %sub.i.i.i, ptr elementtype(i32) %container_users.i) #15, !srcloc !232
  %asmresult.i.i.i.i.i.i = extractvalue { i32, i32 } %16, 0
  %tobool.not.i.i.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i.i.i, 0
  br i1 %tobool.not.i.i.i.i.i.i, label %arch_atomic_cmpxchg.exit.i.i.i.i, label %do.body.i.i.i.i.i.i.do.body.i.i.i.i.i.i_crit_edge

do.body.i.i.i.i.i.i.do.body.i.i.i.i.i.i_crit_edge: ; preds = %do.body.i.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body.i.i.i.i.i.i

arch_atomic_cmpxchg.exit.i.i.i.i:                 ; preds = %do.body.i.i.i.i.i.i
  %asmresult3.i.i.i.i.i.i = extractvalue { i32, i32 } %16, 1
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !233
  %cmp.not.i.i.i.i = icmp eq i32 %asmresult3.i.i.i.i.i.i, %c.0.i.i.i
  br i1 %cmp.not.i.i.i.i, label %atomic_dec_if_positive.exit.i, label %arch_atomic_cmpxchg.exit.i.i.i.i.do.body1.i.i.i_crit_edge, !prof !223

arch_atomic_cmpxchg.exit.i.i.i.i.do.body1.i.i.i_crit_edge: ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body1.i.i.i

atomic_dec_if_positive.exit.i:                    ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %sub.i.i.i)
  %cmp.i = icmp eq i32 %sub.i.i.i, 0
  br i1 %cmp.i, label %if.then.i, label %atomic_dec_if_positive.exit.i.err_pin_pages_crit_edge

atomic_dec_if_positive.exit.i.err_pin_pages_crit_edge: ; preds = %atomic_dec_if_positive.exit.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %err_pin_pages

if.then.i:                                        ; preds = %atomic_dec_if_positive.exit.i
  call void @__sanitizer_cov_trace_pc() #17
  tail call fastcc void @__vfio_group_unset_container(ptr noundef nonnull %call) #15
  br label %err_pin_pages

err_pin_pages:                                    ; preds = %if.then.i, %atomic_dec_if_positive.exit.i.err_pin_pages_crit_edge, %do.body1.i.i.i.err_pin_pages_crit_edge, %if.end13.err_pin_pages_crit_edge, %if.end10.err_pin_pages_crit_edge
  %ret.1 = phi i32 [ %call14, %if.end13.err_pin_pages_crit_edge ], [ -22, %if.end10.err_pin_pages_crit_edge ], [ %ret.0, %atomic_dec_if_positive.exit.i.err_pin_pages_crit_edge ], [ %ret.0, %if.then.i ], [ %ret.0, %do.body1.i.i.i.err_pin_pages_crit_edge ]
  tail call fastcc void @vfio_group_put(ptr noundef nonnull %call)
  br label %cleanup

cleanup:                                          ; preds = %err_pin_pages, %if.end7.cleanup_crit_edge, %if.end.cleanup_crit_edge, %entry.cleanup_crit_edge
  %retval.0 = phi i32 [ %ret.1, %err_pin_pages ], [ -22, %entry.cleanup_crit_edge ], [ -7, %if.end.cleanup_crit_edge ], [ -19, %if.end7.cleanup_crit_edge ]
  ret i32 %retval.0
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local i32 @vfio_unpin_pages(ptr noundef %dev, ptr noundef %user_pfn, i32 noundef %npage) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %tobool.not = icmp eq ptr %dev, null
  %tobool1.not = icmp eq ptr %user_pfn, null
  %or.cond = or i1 %tobool.not, %tobool1.not
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %npage)
  %tobool3.not = icmp eq i32 %npage, 0
  %or.cond38 = or i1 %or.cond, %tobool3.not
  br i1 %or.cond38, label %entry.cleanup_crit_edge, label %if.end

entry.cleanup_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end:                                           ; preds = %entry
  call void @__sanitizer_cov_trace_const_cmp4(i32 1024, i32 %npage)
  %cmp = icmp ugt i32 %npage, 1024
  br i1 %cmp, label %if.end.cleanup_crit_edge, label %if.end5

if.end.cleanup_crit_edge:                         ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end5:                                          ; preds = %if.end
  %call = tail call fastcc ptr @vfio_group_get_from_dev(ptr noundef nonnull %dev)
  %tobool6.not = icmp eq ptr %call, null
  br i1 %tobool6.not, label %if.end5.cleanup_crit_edge, label %if.end8

if.end5.cleanup_crit_edge:                        ; preds = %if.end5
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end8:                                          ; preds = %if.end5
  %call9 = tail call fastcc i32 @vfio_group_add_container_user(ptr noundef nonnull %call)
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call9)
  %tobool10.not = icmp eq i32 %call9, 0
  br i1 %tobool10.not, label %if.end12, label %if.end8.err_unpin_pages_crit_edge

if.end8.err_unpin_pages_crit_edge:                ; preds = %if.end8
  call void @__sanitizer_cov_trace_pc() #17
  br label %err_unpin_pages

if.end12:                                         ; preds = %if.end8
  %container13 = getelementptr inbounds %struct.vfio_group, ptr %call, i32 0, i32 5
  %0 = ptrtoint ptr %container13 to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %container13, align 4
  %iommu_driver = getelementptr inbounds %struct.vfio_container, ptr %1, i32 0, i32 3
  %2 = ptrtoint ptr %iommu_driver to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load ptr, ptr %iommu_driver, align 4
  %tobool14.not = icmp eq ptr %3, null
  br i1 %tobool14.not, label %if.end12.if.end22_crit_edge, label %land.rhs, !prof !220

if.end12.if.end22_crit_edge:                      ; preds = %if.end12
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end22

land.rhs:                                         ; preds = %if.end12
  %4 = ptrtoint ptr %3 to i32
  call void @__asan_load4_noabort(i32 %4)
  %5 = load ptr, ptr %3, align 4
  %unpin_pages = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %5, i32 0, i32 8
  %6 = ptrtoint ptr %unpin_pages to i32
  call void @__asan_load4_noabort(i32 %6)
  %7 = load ptr, ptr %unpin_pages, align 4
  %tobool15.not = icmp eq ptr %7, null
  br i1 %tobool15.not, label %land.rhs.if.end22_crit_edge, label %if.then18, !prof !220

land.rhs.if.end22_crit_edge:                      ; preds = %land.rhs
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end22

if.then18:                                        ; preds = %land.rhs
  call void @__sanitizer_cov_trace_pc() #17
  %iommu_data = getelementptr inbounds %struct.vfio_container, ptr %1, i32 0, i32 4
  %8 = ptrtoint ptr %iommu_data to i32
  call void @__asan_load4_noabort(i32 %8)
  %9 = load ptr, ptr %iommu_data, align 4
  %call21 = tail call i32 %7(ptr noundef %9, ptr noundef nonnull %user_pfn, i32 noundef %npage) #15
  br label %if.end22

if.end22:                                         ; preds = %if.then18, %land.rhs.if.end22_crit_edge, %if.end12.if.end22_crit_edge
  %ret.0 = phi i32 [ %call21, %if.then18 ], [ -25, %if.end12.if.end22_crit_edge ], [ -25, %land.rhs.if.end22_crit_edge ]
  %container_users.i = getelementptr inbounds %struct.vfio_group, ptr %call, i32 0, i32 3
  %call.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %container_users.i, i32 noundef 4) #15
  %10 = ptrtoint ptr %container_users.i to i32
  call void @__asan_load4_noabort(i32 %10)
  %11 = load volatile i32, ptr %container_users.i, align 4
  br label %do.body1.i.i.i

do.body1.i.i.i:                                   ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i.do.body1.i.i.i_crit_edge, %if.end22
  %c.0.i.i.i = phi i32 [ %11, %if.end22 ], [ %asmresult3.i.i.i.i.i.i, %arch_atomic_cmpxchg.exit.i.i.i.i.do.body1.i.i.i_crit_edge ]
  %sub.i.i.i = add i32 %c.0.i.i.i, -1
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %sub.i.i.i)
  %cmp.i.i.i = icmp slt i32 %sub.i.i.i, 0
  br i1 %cmp.i.i.i, label %do.body1.i.i.i.err_unpin_pages_crit_edge, label %do.cond3.i.i.i, !prof !220

do.body1.i.i.i.err_unpin_pages_crit_edge:         ; preds = %do.body1.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %err_unpin_pages

do.cond3.i.i.i:                                   ; preds = %do.body1.i.i.i
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !231
  tail call void @llvm.prefetch.p0(ptr %container_users.i, i32 1, i32 3, i32 1) #15
  br label %do.body.i.i.i.i.i.i

do.body.i.i.i.i.i.i:                              ; preds = %do.body.i.i.i.i.i.i.do.body.i.i.i.i.i.i_crit_edge, %do.cond3.i.i.i
  %12 = tail call { i32, i32 } asm sideeffect "@ atomic_cmpxchg\0Aldrex\09$1, [$3]\0Amov\09$0, #0\0Ateq\09$1, $4\0Astrexeq $0, $5, [$3]\0A", "=&r,=&r,=*Qo,r,Ir,r,*Qo,~{cc}"(ptr elementtype(i32) %container_users.i, ptr %container_users.i, i32 %c.0.i.i.i, i32 %sub.i.i.i, ptr elementtype(i32) %container_users.i) #15, !srcloc !232
  %asmresult.i.i.i.i.i.i = extractvalue { i32, i32 } %12, 0
  %tobool.not.i.i.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i.i.i, 0
  br i1 %tobool.not.i.i.i.i.i.i, label %arch_atomic_cmpxchg.exit.i.i.i.i, label %do.body.i.i.i.i.i.i.do.body.i.i.i.i.i.i_crit_edge

do.body.i.i.i.i.i.i.do.body.i.i.i.i.i.i_crit_edge: ; preds = %do.body.i.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body.i.i.i.i.i.i

arch_atomic_cmpxchg.exit.i.i.i.i:                 ; preds = %do.body.i.i.i.i.i.i
  %asmresult3.i.i.i.i.i.i = extractvalue { i32, i32 } %12, 1
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !233
  %cmp.not.i.i.i.i = icmp eq i32 %asmresult3.i.i.i.i.i.i, %c.0.i.i.i
  br i1 %cmp.not.i.i.i.i, label %atomic_dec_if_positive.exit.i, label %arch_atomic_cmpxchg.exit.i.i.i.i.do.body1.i.i.i_crit_edge, !prof !223

arch_atomic_cmpxchg.exit.i.i.i.i.do.body1.i.i.i_crit_edge: ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body1.i.i.i

atomic_dec_if_positive.exit.i:                    ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %sub.i.i.i)
  %cmp.i = icmp eq i32 %sub.i.i.i, 0
  br i1 %cmp.i, label %if.then.i, label %atomic_dec_if_positive.exit.i.err_unpin_pages_crit_edge

atomic_dec_if_positive.exit.i.err_unpin_pages_crit_edge: ; preds = %atomic_dec_if_positive.exit.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %err_unpin_pages

if.then.i:                                        ; preds = %atomic_dec_if_positive.exit.i
  call void @__sanitizer_cov_trace_pc() #17
  tail call fastcc void @__vfio_group_unset_container(ptr noundef nonnull %call) #15
  br label %err_unpin_pages

err_unpin_pages:                                  ; preds = %if.then.i, %atomic_dec_if_positive.exit.i.err_unpin_pages_crit_edge, %do.body1.i.i.i.err_unpin_pages_crit_edge, %if.end8.err_unpin_pages_crit_edge
  %ret.1 = phi i32 [ %call9, %if.end8.err_unpin_pages_crit_edge ], [ %ret.0, %atomic_dec_if_positive.exit.i.err_unpin_pages_crit_edge ], [ %ret.0, %if.then.i ], [ %ret.0, %do.body1.i.i.i.err_unpin_pages_crit_edge ]
  tail call fastcc void @vfio_group_put(ptr noundef nonnull %call)
  br label %cleanup

cleanup:                                          ; preds = %err_unpin_pages, %if.end5.cleanup_crit_edge, %if.end.cleanup_crit_edge, %entry.cleanup_crit_edge
  %retval.0 = phi i32 [ %ret.1, %err_unpin_pages ], [ -22, %entry.cleanup_crit_edge ], [ -7, %if.end.cleanup_crit_edge ], [ -19, %if.end5.cleanup_crit_edge ]
  ret i32 %retval.0
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local i32 @vfio_group_pin_pages(ptr noundef readonly %group, ptr noundef %user_iova_pfn, i32 noundef %npage, i32 noundef %prot, ptr noundef %phys_pfn) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %tobool.not = icmp eq ptr %group, null
  %tobool1.not = icmp eq ptr %user_iova_pfn, null
  %or.cond = or i1 %tobool.not, %tobool1.not
  %tobool3.not = icmp eq ptr %phys_pfn, null
  %or.cond32 = or i1 %or.cond, %tobool3.not
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %npage)
  %tobool5.not = icmp eq i32 %npage, 0
  %or.cond33 = or i1 %tobool5.not, %or.cond32
  br i1 %or.cond33, label %entry.cleanup_crit_edge, label %if.end

entry.cleanup_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end:                                           ; preds = %entry
  %dev_counter = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 16
  %0 = ptrtoint ptr %dev_counter to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load i32, ptr %dev_counter, align 8
  call void @__sanitizer_cov_trace_const_cmp4(i32 1, i32 %1)
  %cmp = icmp ugt i32 %1, 1
  br i1 %cmp, label %if.end.cleanup_crit_edge, label %if.end7

if.end.cleanup_crit_edge:                         ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end7:                                          ; preds = %if.end
  call void @__sanitizer_cov_trace_const_cmp4(i32 1024, i32 %npage)
  %cmp8 = icmp ugt i32 %npage, 1024
  br i1 %cmp8, label %if.end7.cleanup_crit_edge, label %if.end10

if.end7.cleanup_crit_edge:                        ; preds = %if.end7
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end10:                                         ; preds = %if.end7
  %container11 = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 5
  %2 = ptrtoint ptr %container11 to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load ptr, ptr %container11, align 4
  %iommu_driver = getelementptr inbounds %struct.vfio_container, ptr %3, i32 0, i32 3
  %4 = ptrtoint ptr %iommu_driver to i32
  call void @__asan_load4_noabort(i32 %4)
  %5 = load ptr, ptr %iommu_driver, align 4
  %tobool12.not = icmp eq ptr %5, null
  br i1 %tobool12.not, label %if.end10.cleanup_crit_edge, label %land.rhs, !prof !220

if.end10.cleanup_crit_edge:                       ; preds = %if.end10
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

land.rhs:                                         ; preds = %if.end10
  %6 = ptrtoint ptr %5 to i32
  call void @__asan_load4_noabort(i32 %6)
  %7 = load ptr, ptr %5, align 4
  %pin_pages = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %7, i32 0, i32 7
  %8 = ptrtoint ptr %pin_pages to i32
  call void @__asan_load4_noabort(i32 %8)
  %9 = load ptr, ptr %pin_pages, align 4
  %tobool13.not = icmp eq ptr %9, null
  br i1 %tobool13.not, label %land.rhs.cleanup_crit_edge, label %if.then16, !prof !220

land.rhs.cleanup_crit_edge:                       ; preds = %land.rhs
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.then16:                                        ; preds = %land.rhs
  call void @__sanitizer_cov_trace_pc() #17
  %iommu_data = getelementptr inbounds %struct.vfio_container, ptr %3, i32 0, i32 4
  %10 = ptrtoint ptr %iommu_data to i32
  call void @__asan_load4_noabort(i32 %10)
  %11 = load ptr, ptr %iommu_data, align 4
  %iommu_group = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 4
  %12 = ptrtoint ptr %iommu_group to i32
  call void @__asan_load4_noabort(i32 %12)
  %13 = load ptr, ptr %iommu_group, align 8
  %call = tail call i32 %9(ptr noundef %11, ptr noundef %13, ptr noundef nonnull %user_iova_pfn, i32 noundef %npage, i32 noundef %prot, ptr noundef nonnull %phys_pfn) #15
  br label %cleanup

cleanup:                                          ; preds = %if.then16, %land.rhs.cleanup_crit_edge, %if.end10.cleanup_crit_edge, %if.end7.cleanup_crit_edge, %if.end.cleanup_crit_edge, %entry.cleanup_crit_edge
  %retval.0 = phi i32 [ -22, %entry.cleanup_crit_edge ], [ -22, %if.end.cleanup_crit_edge ], [ -7, %if.end7.cleanup_crit_edge ], [ %call, %if.then16 ], [ -25, %if.end10.cleanup_crit_edge ], [ -25, %land.rhs.cleanup_crit_edge ]
  ret i32 %retval.0
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local i32 @vfio_group_unpin_pages(ptr noundef readonly %group, ptr noundef %user_iova_pfn, i32 noundef %npage) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %tobool.not = icmp eq ptr %group, null
  %tobool1.not = icmp eq ptr %user_iova_pfn, null
  %or.cond = or i1 %tobool.not, %tobool1.not
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %npage)
  %tobool3.not = icmp eq i32 %npage, 0
  %or.cond24 = or i1 %or.cond, %tobool3.not
  br i1 %or.cond24, label %entry.cleanup_crit_edge, label %if.end

entry.cleanup_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end:                                           ; preds = %entry
  call void @__sanitizer_cov_trace_const_cmp4(i32 1024, i32 %npage)
  %cmp = icmp ugt i32 %npage, 1024
  br i1 %cmp, label %if.end.cleanup_crit_edge, label %if.end5

if.end.cleanup_crit_edge:                         ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end5:                                          ; preds = %if.end
  %container6 = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 5
  %0 = ptrtoint ptr %container6 to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %container6, align 4
  %iommu_driver = getelementptr inbounds %struct.vfio_container, ptr %1, i32 0, i32 3
  %2 = ptrtoint ptr %iommu_driver to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load ptr, ptr %iommu_driver, align 4
  %tobool7.not = icmp eq ptr %3, null
  br i1 %tobool7.not, label %if.end5.cleanup_crit_edge, label %land.rhs, !prof !220

if.end5.cleanup_crit_edge:                        ; preds = %if.end5
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

land.rhs:                                         ; preds = %if.end5
  %4 = ptrtoint ptr %3 to i32
  call void @__asan_load4_noabort(i32 %4)
  %5 = load ptr, ptr %3, align 4
  %unpin_pages = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %5, i32 0, i32 8
  %6 = ptrtoint ptr %unpin_pages to i32
  call void @__asan_load4_noabort(i32 %6)
  %7 = load ptr, ptr %unpin_pages, align 4
  %tobool8.not = icmp eq ptr %7, null
  br i1 %tobool8.not, label %land.rhs.cleanup_crit_edge, label %if.then11, !prof !220

land.rhs.cleanup_crit_edge:                       ; preds = %land.rhs
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.then11:                                        ; preds = %land.rhs
  call void @__sanitizer_cov_trace_pc() #17
  %iommu_data = getelementptr inbounds %struct.vfio_container, ptr %1, i32 0, i32 4
  %8 = ptrtoint ptr %iommu_data to i32
  call void @__asan_load4_noabort(i32 %8)
  %9 = load ptr, ptr %iommu_data, align 4
  %call = tail call i32 %7(ptr noundef %9, ptr noundef nonnull %user_iova_pfn, i32 noundef %npage) #15
  br label %cleanup

cleanup:                                          ; preds = %if.then11, %land.rhs.cleanup_crit_edge, %if.end5.cleanup_crit_edge, %if.end.cleanup_crit_edge, %entry.cleanup_crit_edge
  %retval.0 = phi i32 [ -22, %entry.cleanup_crit_edge ], [ -7, %if.end.cleanup_crit_edge ], [ %call, %if.then11 ], [ -25, %if.end5.cleanup_crit_edge ], [ -25, %land.rhs.cleanup_crit_edge ]
  ret i32 %retval.0
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local i32 @vfio_dma_rw(ptr noundef readonly %group, i32 noundef %user_iova, ptr noundef %data, i32 noundef %len, i1 noundef zeroext %write) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %tobool.not = icmp eq ptr %group, null
  %tobool1.not = icmp eq ptr %data, null
  %or.cond = or i1 %tobool.not, %tobool1.not
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %len)
  %cmp = icmp eq i32 %len, 0
  %or.cond21 = or i1 %or.cond, %cmp
  br i1 %or.cond21, label %entry.cleanup_crit_edge, label %if.end

entry.cleanup_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end:                                           ; preds = %entry
  %container3 = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 5
  %0 = ptrtoint ptr %container3 to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %container3, align 4
  %iommu_driver = getelementptr inbounds %struct.vfio_container, ptr %1, i32 0, i32 3
  %2 = ptrtoint ptr %iommu_driver to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load ptr, ptr %iommu_driver, align 4
  %tobool4.not = icmp eq ptr %3, null
  br i1 %tobool4.not, label %if.end.cleanup_crit_edge, label %land.rhs, !prof !220

if.end.cleanup_crit_edge:                         ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

land.rhs:                                         ; preds = %if.end
  %4 = ptrtoint ptr %3 to i32
  call void @__asan_load4_noabort(i32 %4)
  %5 = load ptr, ptr %3, align 4
  %dma_rw = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %5, i32 0, i32 11
  %6 = ptrtoint ptr %dma_rw to i32
  call void @__asan_load4_noabort(i32 %6)
  %7 = load ptr, ptr %dma_rw, align 4
  %tobool5.not = icmp eq ptr %7, null
  br i1 %tobool5.not, label %land.rhs.cleanup_crit_edge, label %if.then8, !prof !220

land.rhs.cleanup_crit_edge:                       ; preds = %land.rhs
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.then8:                                         ; preds = %land.rhs
  call void @__sanitizer_cov_trace_pc() #17
  %iommu_data = getelementptr inbounds %struct.vfio_container, ptr %1, i32 0, i32 4
  %8 = ptrtoint ptr %iommu_data to i32
  call void @__asan_load4_noabort(i32 %8)
  %9 = load ptr, ptr %iommu_data, align 4
  %call = tail call i32 %7(ptr noundef %9, i32 noundef %user_iova, ptr noundef nonnull %data, i32 noundef %len, i1 noundef zeroext %write) #15
  br label %cleanup

cleanup:                                          ; preds = %if.then8, %land.rhs.cleanup_crit_edge, %if.end.cleanup_crit_edge, %entry.cleanup_crit_edge
  %retval.0 = phi i32 [ -22, %entry.cleanup_crit_edge ], [ %call, %if.then8 ], [ -25, %if.end.cleanup_crit_edge ], [ -25, %land.rhs.cleanup_crit_edge ]
  ret i32 %retval.0
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local void @vfio_group_set_kvm(ptr noundef %group, ptr noundef %kvm) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %kvm1 = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 17
  %0 = ptrtoint ptr %kvm1 to i32
  call void @__asan_store4_noabort(i32 %0)
  store ptr %kvm, ptr %kvm1, align 4
  %notifier = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 18
  %call = tail call i32 @blocking_notifier_call_chain(ptr noundef %notifier, i32 noundef 1, ptr noundef %kvm) #15
  ret void
}

; Function Attrs: null_pointer_is_valid
declare dso_local i32 @blocking_notifier_call_chain(ptr noundef, i32 noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local i32 @vfio_register_notifier(ptr noundef %dev, i32 noundef %type, ptr noundef %events, ptr noundef %nb) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %tobool.not = icmp eq ptr %dev, null
  %tobool1.not = icmp eq ptr %nb, null
  %or.cond = or i1 %tobool.not, %tobool1.not
  %tobool3.not = icmp eq ptr %events, null
  %or.cond21 = or i1 %tobool3.not, %or.cond
  br i1 %or.cond21, label %entry.cleanup_crit_edge, label %lor.lhs.false4

entry.cleanup_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

lor.lhs.false4:                                   ; preds = %entry
  %0 = ptrtoint ptr %events to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load i32, ptr %events, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %1)
  %cmp = icmp eq i32 %1, 0
  br i1 %cmp, label %lor.lhs.false4.cleanup_crit_edge, label %if.end

lor.lhs.false4.cleanup_crit_edge:                 ; preds = %lor.lhs.false4
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end:                                           ; preds = %lor.lhs.false4
  %call = tail call fastcc ptr @vfio_group_get_from_dev(ptr noundef nonnull %dev)
  %tobool5.not = icmp eq ptr %call, null
  br i1 %tobool5.not, label %if.end.cleanup_crit_edge, label %if.end7

if.end.cleanup_crit_edge:                         ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end7:                                          ; preds = %if.end
  %2 = zext i32 %type to i64
  call void @__sanitizer_cov_trace_switch(i64 %2, ptr @__sancov_gen_cov_switch_values.51)
  switch i32 %type, label %if.end7.sw.epilog_crit_edge [
    i32 0, label %sw.bb
    i32 1, label %sw.bb9
  ]

if.end7.sw.epilog_crit_edge:                      ; preds = %if.end7
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

sw.bb:                                            ; preds = %if.end7
  %call.i = tail call fastcc i32 @vfio_group_add_container_user(ptr noundef nonnull %call) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call.i)
  %tobool.not.i = icmp eq i32 %call.i, 0
  br i1 %tobool.not.i, label %if.end.i, label %sw.bb.sw.epilog_crit_edge

sw.bb.sw.epilog_crit_edge:                        ; preds = %sw.bb
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

if.end.i:                                         ; preds = %sw.bb
  %container1.i = getelementptr inbounds %struct.vfio_group, ptr %call, i32 0, i32 5
  %3 = ptrtoint ptr %container1.i to i32
  call void @__asan_load4_noabort(i32 %3)
  %4 = load ptr, ptr %container1.i, align 4
  %iommu_driver.i = getelementptr inbounds %struct.vfio_container, ptr %4, i32 0, i32 3
  %5 = ptrtoint ptr %iommu_driver.i to i32
  call void @__asan_load4_noabort(i32 %5)
  %6 = load ptr, ptr %iommu_driver.i, align 4
  %tobool2.not.i = icmp eq ptr %6, null
  br i1 %tobool2.not.i, label %if.end.i.if.end10.i_crit_edge, label %land.rhs.i, !prof !220

if.end.i.if.end10.i_crit_edge:                    ; preds = %if.end.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end10.i

land.rhs.i:                                       ; preds = %if.end.i
  %7 = ptrtoint ptr %6 to i32
  call void @__asan_load4_noabort(i32 %7)
  %8 = load ptr, ptr %6, align 4
  %register_notifier.i = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %8, i32 0, i32 9
  %9 = ptrtoint ptr %register_notifier.i to i32
  call void @__asan_load4_noabort(i32 %9)
  %10 = load ptr, ptr %register_notifier.i, align 4
  %tobool3.not.i = icmp eq ptr %10, null
  br i1 %tobool3.not.i, label %land.rhs.i.if.end10.i_crit_edge, label %if.then6.i, !prof !220

land.rhs.i.if.end10.i_crit_edge:                  ; preds = %land.rhs.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end10.i

if.then6.i:                                       ; preds = %land.rhs.i
  call void @__sanitizer_cov_trace_pc() #17
  %iommu_data.i = getelementptr inbounds %struct.vfio_container, ptr %4, i32 0, i32 4
  %11 = ptrtoint ptr %iommu_data.i to i32
  call void @__asan_load4_noabort(i32 %11)
  %12 = load ptr, ptr %iommu_data.i, align 4
  %call9.i = tail call i32 %10(ptr noundef %12, ptr noundef nonnull %events, ptr noundef nonnull %nb) #15
  br label %if.end10.i

if.end10.i:                                       ; preds = %if.then6.i, %land.rhs.i.if.end10.i_crit_edge, %if.end.i.if.end10.i_crit_edge
  %ret.0.i = phi i32 [ %call9.i, %if.then6.i ], [ -25, %if.end.i.if.end10.i_crit_edge ], [ -25, %land.rhs.i.if.end10.i_crit_edge ]
  %container_users.i.i = getelementptr inbounds %struct.vfio_group, ptr %call, i32 0, i32 3
  %call.i.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %container_users.i.i, i32 noundef 4) #15
  %13 = ptrtoint ptr %container_users.i.i to i32
  call void @__asan_load4_noabort(i32 %13)
  %14 = load volatile i32, ptr %container_users.i.i, align 4
  br label %do.body1.i.i.i.i

do.body1.i.i.i.i:                                 ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i.i.do.body1.i.i.i.i_crit_edge, %if.end10.i
  %c.0.i.i.i.i = phi i32 [ %14, %if.end10.i ], [ %asmresult3.i.i.i.i.i.i.i, %arch_atomic_cmpxchg.exit.i.i.i.i.i.do.body1.i.i.i.i_crit_edge ]
  %sub.i.i.i.i = add i32 %c.0.i.i.i.i, -1
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %sub.i.i.i.i)
  %cmp.i.i.i.i = icmp slt i32 %sub.i.i.i.i, 0
  br i1 %cmp.i.i.i.i, label %do.body1.i.i.i.i.sw.epilog_crit_edge, label %do.cond3.i.i.i.i, !prof !220

do.body1.i.i.i.i.sw.epilog_crit_edge:             ; preds = %do.body1.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

do.cond3.i.i.i.i:                                 ; preds = %do.body1.i.i.i.i
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !231
  tail call void @llvm.prefetch.p0(ptr %container_users.i.i, i32 1, i32 3, i32 1) #15
  br label %do.body.i.i.i.i.i.i.i

do.body.i.i.i.i.i.i.i:                            ; preds = %do.body.i.i.i.i.i.i.i.do.body.i.i.i.i.i.i.i_crit_edge, %do.cond3.i.i.i.i
  %15 = tail call { i32, i32 } asm sideeffect "@ atomic_cmpxchg\0Aldrex\09$1, [$3]\0Amov\09$0, #0\0Ateq\09$1, $4\0Astrexeq $0, $5, [$3]\0A", "=&r,=&r,=*Qo,r,Ir,r,*Qo,~{cc}"(ptr elementtype(i32) %container_users.i.i, ptr %container_users.i.i, i32 %c.0.i.i.i.i, i32 %sub.i.i.i.i, ptr elementtype(i32) %container_users.i.i) #15, !srcloc !232
  %asmresult.i.i.i.i.i.i.i = extractvalue { i32, i32 } %15, 0
  %tobool.not.i.i.i.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i.i.i.i, 0
  br i1 %tobool.not.i.i.i.i.i.i.i, label %arch_atomic_cmpxchg.exit.i.i.i.i.i, label %do.body.i.i.i.i.i.i.i.do.body.i.i.i.i.i.i.i_crit_edge

do.body.i.i.i.i.i.i.i.do.body.i.i.i.i.i.i.i_crit_edge: ; preds = %do.body.i.i.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body.i.i.i.i.i.i.i

arch_atomic_cmpxchg.exit.i.i.i.i.i:               ; preds = %do.body.i.i.i.i.i.i.i
  %asmresult3.i.i.i.i.i.i.i = extractvalue { i32, i32 } %15, 1
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !233
  %cmp.not.i.i.i.i.i = icmp eq i32 %asmresult3.i.i.i.i.i.i.i, %c.0.i.i.i.i
  br i1 %cmp.not.i.i.i.i.i, label %atomic_dec_if_positive.exit.i.i, label %arch_atomic_cmpxchg.exit.i.i.i.i.i.do.body1.i.i.i.i_crit_edge, !prof !223

arch_atomic_cmpxchg.exit.i.i.i.i.i.do.body1.i.i.i.i_crit_edge: ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body1.i.i.i.i

atomic_dec_if_positive.exit.i.i:                  ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i.i
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %sub.i.i.i.i)
  %cmp.i.i = icmp eq i32 %sub.i.i.i.i, 0
  br i1 %cmp.i.i, label %atomic_dec_if_positive.exit.i.i.sw.epilog.sink.split_crit_edge, label %atomic_dec_if_positive.exit.i.i.sw.epilog_crit_edge

atomic_dec_if_positive.exit.i.i.sw.epilog_crit_edge: ; preds = %atomic_dec_if_positive.exit.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

atomic_dec_if_positive.exit.i.i.sw.epilog.sink.split_crit_edge: ; preds = %atomic_dec_if_positive.exit.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog.sink.split

sw.bb9:                                           ; preds = %if.end7
  %16 = ptrtoint ptr %events to i32
  call void @__asan_load4_noabort(i32 %16)
  %17 = load i32, ptr %events, align 4
  %and.i = and i32 %17, 1
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %and.i)
  %tobool.not.not.i = icmp eq i32 %and.i, 0
  %and1.i = and i32 %17, -2
  %18 = ptrtoint ptr %events to i32
  call void @__asan_store4_noabort(i32 %18)
  store i32 %and1.i, ptr %events, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %and1.i)
  %tobool2.not.i22 = icmp eq i32 %and1.i, 0
  br i1 %tobool2.not.i22, label %if.end4.i, label %sw.bb9.sw.epilog_crit_edge

sw.bb9.sw.epilog_crit_edge:                       ; preds = %sw.bb9
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

if.end4.i:                                        ; preds = %sw.bb9
  %call.i23 = tail call fastcc i32 @vfio_group_add_container_user(ptr noundef nonnull %call) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call.i23)
  %tobool5.not.i = icmp eq i32 %call.i23, 0
  br i1 %tobool5.not.i, label %if.end7.i, label %if.end4.i.sw.epilog_crit_edge

if.end4.i.sw.epilog_crit_edge:                    ; preds = %if.end4.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

if.end7.i:                                        ; preds = %if.end4.i
  %notifier.i = getelementptr inbounds %struct.vfio_group, ptr %call, i32 0, i32 18
  %call8.i = tail call i32 @blocking_notifier_chain_register(ptr noundef %notifier.i, ptr noundef nonnull %nb) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call8.i)
  %tobool9.not.i = icmp ne i32 %call8.i, 0
  %brmerge.i = select i1 %tobool9.not.i, i1 true, i1 %tobool.not.not.i
  br i1 %brmerge.i, label %if.end7.i.if.end17.i_crit_edge, label %land.lhs.true11.i

if.end7.i.if.end17.i_crit_edge:                   ; preds = %if.end7.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end17.i

land.lhs.true11.i:                                ; preds = %if.end7.i
  %kvm.i = getelementptr inbounds %struct.vfio_group, ptr %call, i32 0, i32 17
  %19 = ptrtoint ptr %kvm.i to i32
  call void @__asan_load4_noabort(i32 %19)
  %20 = load ptr, ptr %kvm.i, align 4
  %tobool12.not.i = icmp eq ptr %20, null
  br i1 %tobool12.not.i, label %land.lhs.true11.i.if.end17.i_crit_edge, label %if.then13.i

land.lhs.true11.i.if.end17.i_crit_edge:           ; preds = %land.lhs.true11.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end17.i

if.then13.i:                                      ; preds = %land.lhs.true11.i
  call void @__sanitizer_cov_trace_pc() #17
  %call16.i = tail call i32 @blocking_notifier_call_chain(ptr noundef %notifier.i, i32 noundef 1, ptr noundef nonnull %20) #15
  br label %if.end17.i

if.end17.i:                                       ; preds = %if.then13.i, %land.lhs.true11.i.if.end17.i_crit_edge, %if.end7.i.if.end17.i_crit_edge
  %container_users.i.i24 = getelementptr inbounds %struct.vfio_group, ptr %call, i32 0, i32 3
  %call.i.i.i.i25 = tail call zeroext i1 @__kasan_check_write(ptr noundef %container_users.i.i24, i32 noundef 4) #15
  %21 = ptrtoint ptr %container_users.i.i24 to i32
  call void @__asan_load4_noabort(i32 %21)
  %22 = load volatile i32, ptr %container_users.i.i24, align 4
  br label %do.body1.i.i.i.i29

do.body1.i.i.i.i29:                               ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i.i36.do.body1.i.i.i.i29_crit_edge, %if.end17.i
  %c.0.i.i.i.i26 = phi i32 [ %22, %if.end17.i ], [ %asmresult3.i.i.i.i.i.i.i34, %arch_atomic_cmpxchg.exit.i.i.i.i.i36.do.body1.i.i.i.i29_crit_edge ]
  %sub.i.i.i.i27 = add i32 %c.0.i.i.i.i26, -1
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %sub.i.i.i.i27)
  %cmp.i.i.i.i28 = icmp slt i32 %sub.i.i.i.i27, 0
  br i1 %cmp.i.i.i.i28, label %do.body1.i.i.i.i29.sw.epilog_crit_edge, label %do.cond3.i.i.i.i30, !prof !220

do.body1.i.i.i.i29.sw.epilog_crit_edge:           ; preds = %do.body1.i.i.i.i29
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

do.cond3.i.i.i.i30:                               ; preds = %do.body1.i.i.i.i29
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !231
  tail call void @llvm.prefetch.p0(ptr %container_users.i.i24, i32 1, i32 3, i32 1) #15
  br label %do.body.i.i.i.i.i.i.i33

do.body.i.i.i.i.i.i.i33:                          ; preds = %do.body.i.i.i.i.i.i.i33.do.body.i.i.i.i.i.i.i33_crit_edge, %do.cond3.i.i.i.i30
  %23 = tail call { i32, i32 } asm sideeffect "@ atomic_cmpxchg\0Aldrex\09$1, [$3]\0Amov\09$0, #0\0Ateq\09$1, $4\0Astrexeq $0, $5, [$3]\0A", "=&r,=&r,=*Qo,r,Ir,r,*Qo,~{cc}"(ptr elementtype(i32) %container_users.i.i24, ptr %container_users.i.i24, i32 %c.0.i.i.i.i26, i32 %sub.i.i.i.i27, ptr elementtype(i32) %container_users.i.i24) #15, !srcloc !232
  %asmresult.i.i.i.i.i.i.i31 = extractvalue { i32, i32 } %23, 0
  %tobool.not.i.i.i.i.i.i.i32 = icmp eq i32 %asmresult.i.i.i.i.i.i.i31, 0
  br i1 %tobool.not.i.i.i.i.i.i.i32, label %arch_atomic_cmpxchg.exit.i.i.i.i.i36, label %do.body.i.i.i.i.i.i.i33.do.body.i.i.i.i.i.i.i33_crit_edge

do.body.i.i.i.i.i.i.i33.do.body.i.i.i.i.i.i.i33_crit_edge: ; preds = %do.body.i.i.i.i.i.i.i33
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body.i.i.i.i.i.i.i33

arch_atomic_cmpxchg.exit.i.i.i.i.i36:             ; preds = %do.body.i.i.i.i.i.i.i33
  %asmresult3.i.i.i.i.i.i.i34 = extractvalue { i32, i32 } %23, 1
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !233
  %cmp.not.i.i.i.i.i35 = icmp eq i32 %asmresult3.i.i.i.i.i.i.i34, %c.0.i.i.i.i26
  br i1 %cmp.not.i.i.i.i.i35, label %atomic_dec_if_positive.exit.i.i38, label %arch_atomic_cmpxchg.exit.i.i.i.i.i36.do.body1.i.i.i.i29_crit_edge, !prof !223

arch_atomic_cmpxchg.exit.i.i.i.i.i36.do.body1.i.i.i.i29_crit_edge: ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i.i36
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body1.i.i.i.i29

atomic_dec_if_positive.exit.i.i38:                ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i.i36
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %sub.i.i.i.i27)
  %cmp.i.i37 = icmp eq i32 %sub.i.i.i.i27, 0
  br i1 %cmp.i.i37, label %atomic_dec_if_positive.exit.i.i38.sw.epilog.sink.split_crit_edge, label %atomic_dec_if_positive.exit.i.i38.sw.epilog_crit_edge

atomic_dec_if_positive.exit.i.i38.sw.epilog_crit_edge: ; preds = %atomic_dec_if_positive.exit.i.i38
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

atomic_dec_if_positive.exit.i.i38.sw.epilog.sink.split_crit_edge: ; preds = %atomic_dec_if_positive.exit.i.i38
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog.sink.split

sw.epilog.sink.split:                             ; preds = %atomic_dec_if_positive.exit.i.i38.sw.epilog.sink.split_crit_edge, %atomic_dec_if_positive.exit.i.i.sw.epilog.sink.split_crit_edge
  %ret.0.ph = phi i32 [ %ret.0.i, %atomic_dec_if_positive.exit.i.i.sw.epilog.sink.split_crit_edge ], [ %call8.i, %atomic_dec_if_positive.exit.i.i38.sw.epilog.sink.split_crit_edge ]
  tail call fastcc void @__vfio_group_unset_container(ptr noundef nonnull %call) #15
  br label %sw.epilog

sw.epilog:                                        ; preds = %sw.epilog.sink.split, %atomic_dec_if_positive.exit.i.i38.sw.epilog_crit_edge, %do.body1.i.i.i.i29.sw.epilog_crit_edge, %if.end4.i.sw.epilog_crit_edge, %sw.bb9.sw.epilog_crit_edge, %atomic_dec_if_positive.exit.i.i.sw.epilog_crit_edge, %do.body1.i.i.i.i.sw.epilog_crit_edge, %sw.bb.sw.epilog_crit_edge, %if.end7.sw.epilog_crit_edge
  %ret.0 = phi i32 [ -22, %if.end7.sw.epilog_crit_edge ], [ -22, %sw.bb.sw.epilog_crit_edge ], [ %ret.0.i, %atomic_dec_if_positive.exit.i.i.sw.epilog_crit_edge ], [ -22, %sw.bb9.sw.epilog_crit_edge ], [ -22, %if.end4.i.sw.epilog_crit_edge ], [ %call8.i, %atomic_dec_if_positive.exit.i.i38.sw.epilog_crit_edge ], [ %ret.0.ph, %sw.epilog.sink.split ], [ %ret.0.i, %do.body1.i.i.i.i.sw.epilog_crit_edge ], [ %call8.i, %do.body1.i.i.i.i29.sw.epilog_crit_edge ]
  tail call fastcc void @vfio_group_put(ptr noundef nonnull %call)
  br label %cleanup

cleanup:                                          ; preds = %sw.epilog, %if.end.cleanup_crit_edge, %lor.lhs.false4.cleanup_crit_edge, %entry.cleanup_crit_edge
  %retval.0 = phi i32 [ %ret.0, %sw.epilog ], [ -22, %lor.lhs.false4.cleanup_crit_edge ], [ -22, %entry.cleanup_crit_edge ], [ -19, %if.end.cleanup_crit_edge ]
  ret i32 %retval.0
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local i32 @vfio_unregister_notifier(ptr noundef %dev, i32 noundef %type, ptr noundef %nb) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %tobool.not = icmp eq ptr %dev, null
  %tobool1.not = icmp eq ptr %nb, null
  %or.cond = or i1 %tobool.not, %tobool1.not
  br i1 %or.cond, label %entry.cleanup_crit_edge, label %if.end

entry.cleanup_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end:                                           ; preds = %entry
  %call = tail call fastcc ptr @vfio_group_get_from_dev(ptr noundef nonnull %dev)
  %tobool2.not = icmp eq ptr %call, null
  br i1 %tobool2.not, label %if.end.cleanup_crit_edge, label %if.end4

if.end.cleanup_crit_edge:                         ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end4:                                          ; preds = %if.end
  %0 = zext i32 %type to i64
  call void @__sanitizer_cov_trace_switch(i64 %0, ptr @__sancov_gen_cov_switch_values.52)
  switch i32 %type, label %if.end4.sw.epilog_crit_edge [
    i32 0, label %sw.bb
    i32 1, label %sw.bb6
  ]

if.end4.sw.epilog_crit_edge:                      ; preds = %if.end4
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

sw.bb:                                            ; preds = %if.end4
  %call.i = tail call fastcc i32 @vfio_group_add_container_user(ptr noundef nonnull %call) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call.i)
  %tobool.not.i = icmp eq i32 %call.i, 0
  br i1 %tobool.not.i, label %if.end.i, label %sw.bb.sw.epilog_crit_edge

sw.bb.sw.epilog_crit_edge:                        ; preds = %sw.bb
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

if.end.i:                                         ; preds = %sw.bb
  %container1.i = getelementptr inbounds %struct.vfio_group, ptr %call, i32 0, i32 5
  %1 = ptrtoint ptr %container1.i to i32
  call void @__asan_load4_noabort(i32 %1)
  %2 = load ptr, ptr %container1.i, align 4
  %iommu_driver.i = getelementptr inbounds %struct.vfio_container, ptr %2, i32 0, i32 3
  %3 = ptrtoint ptr %iommu_driver.i to i32
  call void @__asan_load4_noabort(i32 %3)
  %4 = load ptr, ptr %iommu_driver.i, align 4
  %tobool2.not.i = icmp eq ptr %4, null
  br i1 %tobool2.not.i, label %if.end.i.if.end10.i_crit_edge, label %land.rhs.i, !prof !220

if.end.i.if.end10.i_crit_edge:                    ; preds = %if.end.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end10.i

land.rhs.i:                                       ; preds = %if.end.i
  %5 = ptrtoint ptr %4 to i32
  call void @__asan_load4_noabort(i32 %5)
  %6 = load ptr, ptr %4, align 4
  %unregister_notifier.i = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %6, i32 0, i32 10
  %7 = ptrtoint ptr %unregister_notifier.i to i32
  call void @__asan_load4_noabort(i32 %7)
  %8 = load ptr, ptr %unregister_notifier.i, align 4
  %tobool3.not.i = icmp eq ptr %8, null
  br i1 %tobool3.not.i, label %land.rhs.i.if.end10.i_crit_edge, label %if.then6.i, !prof !220

land.rhs.i.if.end10.i_crit_edge:                  ; preds = %land.rhs.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end10.i

if.then6.i:                                       ; preds = %land.rhs.i
  call void @__sanitizer_cov_trace_pc() #17
  %iommu_data.i = getelementptr inbounds %struct.vfio_container, ptr %2, i32 0, i32 4
  %9 = ptrtoint ptr %iommu_data.i to i32
  call void @__asan_load4_noabort(i32 %9)
  %10 = load ptr, ptr %iommu_data.i, align 4
  %call9.i = tail call i32 %8(ptr noundef %10, ptr noundef nonnull %nb) #15
  br label %if.end10.i

if.end10.i:                                       ; preds = %if.then6.i, %land.rhs.i.if.end10.i_crit_edge, %if.end.i.if.end10.i_crit_edge
  %ret.0.i = phi i32 [ %call9.i, %if.then6.i ], [ -25, %if.end.i.if.end10.i_crit_edge ], [ -25, %land.rhs.i.if.end10.i_crit_edge ]
  %container_users.i.i = getelementptr inbounds %struct.vfio_group, ptr %call, i32 0, i32 3
  %call.i.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %container_users.i.i, i32 noundef 4) #15
  %11 = ptrtoint ptr %container_users.i.i to i32
  call void @__asan_load4_noabort(i32 %11)
  %12 = load volatile i32, ptr %container_users.i.i, align 4
  br label %do.body1.i.i.i.i

do.body1.i.i.i.i:                                 ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i.i.do.body1.i.i.i.i_crit_edge, %if.end10.i
  %c.0.i.i.i.i = phi i32 [ %12, %if.end10.i ], [ %asmresult3.i.i.i.i.i.i.i, %arch_atomic_cmpxchg.exit.i.i.i.i.i.do.body1.i.i.i.i_crit_edge ]
  %sub.i.i.i.i = add i32 %c.0.i.i.i.i, -1
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %sub.i.i.i.i)
  %cmp.i.i.i.i = icmp slt i32 %sub.i.i.i.i, 0
  br i1 %cmp.i.i.i.i, label %do.body1.i.i.i.i.sw.epilog_crit_edge, label %do.cond3.i.i.i.i, !prof !220

do.body1.i.i.i.i.sw.epilog_crit_edge:             ; preds = %do.body1.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

do.cond3.i.i.i.i:                                 ; preds = %do.body1.i.i.i.i
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !231
  tail call void @llvm.prefetch.p0(ptr %container_users.i.i, i32 1, i32 3, i32 1) #15
  br label %do.body.i.i.i.i.i.i.i

do.body.i.i.i.i.i.i.i:                            ; preds = %do.body.i.i.i.i.i.i.i.do.body.i.i.i.i.i.i.i_crit_edge, %do.cond3.i.i.i.i
  %13 = tail call { i32, i32 } asm sideeffect "@ atomic_cmpxchg\0Aldrex\09$1, [$3]\0Amov\09$0, #0\0Ateq\09$1, $4\0Astrexeq $0, $5, [$3]\0A", "=&r,=&r,=*Qo,r,Ir,r,*Qo,~{cc}"(ptr elementtype(i32) %container_users.i.i, ptr %container_users.i.i, i32 %c.0.i.i.i.i, i32 %sub.i.i.i.i, ptr elementtype(i32) %container_users.i.i) #15, !srcloc !232
  %asmresult.i.i.i.i.i.i.i = extractvalue { i32, i32 } %13, 0
  %tobool.not.i.i.i.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i.i.i.i, 0
  br i1 %tobool.not.i.i.i.i.i.i.i, label %arch_atomic_cmpxchg.exit.i.i.i.i.i, label %do.body.i.i.i.i.i.i.i.do.body.i.i.i.i.i.i.i_crit_edge

do.body.i.i.i.i.i.i.i.do.body.i.i.i.i.i.i.i_crit_edge: ; preds = %do.body.i.i.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body.i.i.i.i.i.i.i

arch_atomic_cmpxchg.exit.i.i.i.i.i:               ; preds = %do.body.i.i.i.i.i.i.i
  %asmresult3.i.i.i.i.i.i.i = extractvalue { i32, i32 } %13, 1
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !233
  %cmp.not.i.i.i.i.i = icmp eq i32 %asmresult3.i.i.i.i.i.i.i, %c.0.i.i.i.i
  br i1 %cmp.not.i.i.i.i.i, label %atomic_dec_if_positive.exit.i.i, label %arch_atomic_cmpxchg.exit.i.i.i.i.i.do.body1.i.i.i.i_crit_edge, !prof !223

arch_atomic_cmpxchg.exit.i.i.i.i.i.do.body1.i.i.i.i_crit_edge: ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body1.i.i.i.i

atomic_dec_if_positive.exit.i.i:                  ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i.i
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %sub.i.i.i.i)
  %cmp.i.i = icmp eq i32 %sub.i.i.i.i, 0
  br i1 %cmp.i.i, label %atomic_dec_if_positive.exit.i.i.sw.epilog.sink.split_crit_edge, label %atomic_dec_if_positive.exit.i.i.sw.epilog_crit_edge

atomic_dec_if_positive.exit.i.i.sw.epilog_crit_edge: ; preds = %atomic_dec_if_positive.exit.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

atomic_dec_if_positive.exit.i.i.sw.epilog.sink.split_crit_edge: ; preds = %atomic_dec_if_positive.exit.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog.sink.split

sw.bb6:                                           ; preds = %if.end4
  %call.i15 = tail call fastcc i32 @vfio_group_add_container_user(ptr noundef nonnull %call) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call.i15)
  %tobool.not.i16 = icmp eq i32 %call.i15, 0
  br i1 %tobool.not.i16, label %if.end.i19, label %sw.bb6.sw.epilog_crit_edge

sw.bb6.sw.epilog_crit_edge:                       ; preds = %sw.bb6
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

if.end.i19:                                       ; preds = %sw.bb6
  %notifier.i = getelementptr inbounds %struct.vfio_group, ptr %call, i32 0, i32 18
  %call1.i = tail call i32 @blocking_notifier_chain_unregister(ptr noundef %notifier.i, ptr noundef nonnull %nb) #15
  %container_users.i.i17 = getelementptr inbounds %struct.vfio_group, ptr %call, i32 0, i32 3
  %call.i.i.i.i18 = tail call zeroext i1 @__kasan_check_write(ptr noundef %container_users.i.i17, i32 noundef 4) #15
  %14 = ptrtoint ptr %container_users.i.i17 to i32
  call void @__asan_load4_noabort(i32 %14)
  %15 = load volatile i32, ptr %container_users.i.i17, align 4
  br label %do.body1.i.i.i.i23

do.body1.i.i.i.i23:                               ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i.i30.do.body1.i.i.i.i23_crit_edge, %if.end.i19
  %c.0.i.i.i.i20 = phi i32 [ %15, %if.end.i19 ], [ %asmresult3.i.i.i.i.i.i.i28, %arch_atomic_cmpxchg.exit.i.i.i.i.i30.do.body1.i.i.i.i23_crit_edge ]
  %sub.i.i.i.i21 = add i32 %c.0.i.i.i.i20, -1
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %sub.i.i.i.i21)
  %cmp.i.i.i.i22 = icmp slt i32 %sub.i.i.i.i21, 0
  br i1 %cmp.i.i.i.i22, label %do.body1.i.i.i.i23.sw.epilog_crit_edge, label %do.cond3.i.i.i.i24, !prof !220

do.body1.i.i.i.i23.sw.epilog_crit_edge:           ; preds = %do.body1.i.i.i.i23
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

do.cond3.i.i.i.i24:                               ; preds = %do.body1.i.i.i.i23
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !231
  tail call void @llvm.prefetch.p0(ptr %container_users.i.i17, i32 1, i32 3, i32 1) #15
  br label %do.body.i.i.i.i.i.i.i27

do.body.i.i.i.i.i.i.i27:                          ; preds = %do.body.i.i.i.i.i.i.i27.do.body.i.i.i.i.i.i.i27_crit_edge, %do.cond3.i.i.i.i24
  %16 = tail call { i32, i32 } asm sideeffect "@ atomic_cmpxchg\0Aldrex\09$1, [$3]\0Amov\09$0, #0\0Ateq\09$1, $4\0Astrexeq $0, $5, [$3]\0A", "=&r,=&r,=*Qo,r,Ir,r,*Qo,~{cc}"(ptr elementtype(i32) %container_users.i.i17, ptr %container_users.i.i17, i32 %c.0.i.i.i.i20, i32 %sub.i.i.i.i21, ptr elementtype(i32) %container_users.i.i17) #15, !srcloc !232
  %asmresult.i.i.i.i.i.i.i25 = extractvalue { i32, i32 } %16, 0
  %tobool.not.i.i.i.i.i.i.i26 = icmp eq i32 %asmresult.i.i.i.i.i.i.i25, 0
  br i1 %tobool.not.i.i.i.i.i.i.i26, label %arch_atomic_cmpxchg.exit.i.i.i.i.i30, label %do.body.i.i.i.i.i.i.i27.do.body.i.i.i.i.i.i.i27_crit_edge

do.body.i.i.i.i.i.i.i27.do.body.i.i.i.i.i.i.i27_crit_edge: ; preds = %do.body.i.i.i.i.i.i.i27
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body.i.i.i.i.i.i.i27

arch_atomic_cmpxchg.exit.i.i.i.i.i30:             ; preds = %do.body.i.i.i.i.i.i.i27
  %asmresult3.i.i.i.i.i.i.i28 = extractvalue { i32, i32 } %16, 1
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !233
  %cmp.not.i.i.i.i.i29 = icmp eq i32 %asmresult3.i.i.i.i.i.i.i28, %c.0.i.i.i.i20
  br i1 %cmp.not.i.i.i.i.i29, label %atomic_dec_if_positive.exit.i.i32, label %arch_atomic_cmpxchg.exit.i.i.i.i.i30.do.body1.i.i.i.i23_crit_edge, !prof !223

arch_atomic_cmpxchg.exit.i.i.i.i.i30.do.body1.i.i.i.i23_crit_edge: ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i.i30
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body1.i.i.i.i23

atomic_dec_if_positive.exit.i.i32:                ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i.i30
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %sub.i.i.i.i21)
  %cmp.i.i31 = icmp eq i32 %sub.i.i.i.i21, 0
  br i1 %cmp.i.i31, label %atomic_dec_if_positive.exit.i.i32.sw.epilog.sink.split_crit_edge, label %atomic_dec_if_positive.exit.i.i32.sw.epilog_crit_edge

atomic_dec_if_positive.exit.i.i32.sw.epilog_crit_edge: ; preds = %atomic_dec_if_positive.exit.i.i32
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

atomic_dec_if_positive.exit.i.i32.sw.epilog.sink.split_crit_edge: ; preds = %atomic_dec_if_positive.exit.i.i32
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog.sink.split

sw.epilog.sink.split:                             ; preds = %atomic_dec_if_positive.exit.i.i32.sw.epilog.sink.split_crit_edge, %atomic_dec_if_positive.exit.i.i.sw.epilog.sink.split_crit_edge
  %ret.0.ph = phi i32 [ %ret.0.i, %atomic_dec_if_positive.exit.i.i.sw.epilog.sink.split_crit_edge ], [ %call1.i, %atomic_dec_if_positive.exit.i.i32.sw.epilog.sink.split_crit_edge ]
  tail call fastcc void @__vfio_group_unset_container(ptr noundef nonnull %call) #15
  br label %sw.epilog

sw.epilog:                                        ; preds = %sw.epilog.sink.split, %atomic_dec_if_positive.exit.i.i32.sw.epilog_crit_edge, %do.body1.i.i.i.i23.sw.epilog_crit_edge, %sw.bb6.sw.epilog_crit_edge, %atomic_dec_if_positive.exit.i.i.sw.epilog_crit_edge, %do.body1.i.i.i.i.sw.epilog_crit_edge, %sw.bb.sw.epilog_crit_edge, %if.end4.sw.epilog_crit_edge
  %ret.0 = phi i32 [ -22, %if.end4.sw.epilog_crit_edge ], [ -22, %sw.bb.sw.epilog_crit_edge ], [ %ret.0.i, %atomic_dec_if_positive.exit.i.i.sw.epilog_crit_edge ], [ -22, %sw.bb6.sw.epilog_crit_edge ], [ %call1.i, %atomic_dec_if_positive.exit.i.i32.sw.epilog_crit_edge ], [ %ret.0.ph, %sw.epilog.sink.split ], [ %ret.0.i, %do.body1.i.i.i.i.sw.epilog_crit_edge ], [ %call1.i, %do.body1.i.i.i.i23.sw.epilog_crit_edge ]
  tail call fastcc void @vfio_group_put(ptr noundef nonnull %call)
  br label %cleanup

cleanup:                                          ; preds = %sw.epilog, %if.end.cleanup_crit_edge, %entry.cleanup_crit_edge
  %retval.0 = phi i32 [ %ret.0, %sw.epilog ], [ -22, %entry.cleanup_crit_edge ], [ -19, %if.end.cleanup_crit_edge ]
  ret i32 %retval.0
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define dso_local ptr @vfio_group_iommu_domain(ptr noundef readonly %group) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %tobool.not = icmp eq ptr %group, null
  br i1 %tobool.not, label %entry.cleanup_crit_edge, label %if.end

entry.cleanup_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end:                                           ; preds = %entry
  %container1 = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 5
  %0 = ptrtoint ptr %container1 to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %container1, align 4
  %iommu_driver = getelementptr inbounds %struct.vfio_container, ptr %1, i32 0, i32 3
  %2 = ptrtoint ptr %iommu_driver to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load ptr, ptr %iommu_driver, align 4
  %tobool2.not = icmp eq ptr %3, null
  br i1 %tobool2.not, label %if.end.cleanup_crit_edge, label %land.rhs, !prof !220

if.end.cleanup_crit_edge:                         ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

land.rhs:                                         ; preds = %if.end
  %4 = ptrtoint ptr %3 to i32
  call void @__asan_load4_noabort(i32 %4)
  %5 = load ptr, ptr %3, align 4
  %group_iommu_domain = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %5, i32 0, i32 12
  %6 = ptrtoint ptr %group_iommu_domain to i32
  call void @__asan_load4_noabort(i32 %6)
  %7 = load ptr, ptr %group_iommu_domain, align 4
  %tobool3.not = icmp eq ptr %7, null
  br i1 %tobool3.not, label %land.rhs.cleanup_crit_edge, label %if.then6, !prof !220

land.rhs.cleanup_crit_edge:                       ; preds = %land.rhs
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.then6:                                         ; preds = %land.rhs
  call void @__sanitizer_cov_trace_pc() #17
  %iommu_data = getelementptr inbounds %struct.vfio_container, ptr %1, i32 0, i32 4
  %8 = ptrtoint ptr %iommu_data to i32
  call void @__asan_load4_noabort(i32 %8)
  %9 = load ptr, ptr %iommu_data, align 4
  %iommu_group = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 4
  %10 = ptrtoint ptr %iommu_group to i32
  call void @__asan_load4_noabort(i32 %10)
  %11 = load ptr, ptr %iommu_group, align 8
  %call9 = tail call ptr %7(ptr noundef %9, ptr noundef %11) #15
  br label %cleanup

cleanup:                                          ; preds = %if.then6, %land.rhs.cleanup_crit_edge, %if.end.cleanup_crit_edge, %entry.cleanup_crit_edge
  %retval.0 = phi ptr [ %call9, %if.then6 ], [ inttoptr (i32 -22 to ptr), %entry.cleanup_crit_edge ], [ inttoptr (i32 -25 to ptr), %if.end.cleanup_crit_edge ], [ inttoptr (i32 -25 to ptr), %land.rhs.cleanup_crit_edge ]
  ret ptr %retval.0
}

; Function Attrs: cold nounwind null_pointer_is_valid optsize sanitize_address sspstrong uwtable(sync)
define internal void @vfio_cleanup() #8 section ".exit.text" align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  %0 = load volatile ptr, ptr getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 3), align 4
  %cmp.i.not = icmp eq ptr %0, getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 3)
  br i1 %cmp.i.not, label %entry.if.end_crit_edge, label %do.end, !prof !223

entry.if.end_crit_edge:                           ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end

do.end:                                           ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  tail call void (ptr, i32, i32, ptr, ...) @warn_slowpath_fmt(ptr noundef nonnull @.str, i32 noundef 2337, i32 noundef 9, ptr noundef null) #15
  br label %if.end

if.end:                                           ; preds = %do.end, %entry.if.end_crit_edge
  tail call void @vfio_unregister_iommu_driver(ptr noundef nonnull @vfio_noiommu_ops)
  tail call void @ida_destroy(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 5)) #15
  %1 = load i32, ptr getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 6), align 4
  tail call void @unregister_chrdev_region(i32 noundef %1, i32 noundef 1048576) #15
  %2 = load ptr, ptr @vfio, align 4
  tail call void @class_destroy(ptr noundef %2) #15
  store ptr null, ptr @vfio, align 4
  tail call void @misc_deregister(ptr noundef nonnull @vfio_dev) #15
  tail call void @xa_destroy(ptr noundef nonnull @vfio_device_set_xa) #15
  ret void
}

; Function Attrs: null_pointer_is_valid
declare dso_local void @ida_destroy(ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @unregister_chrdev_region(i32 noundef, i32 noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @class_destroy(ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @misc_deregister(ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @xa_destroy(ptr noundef) local_unnamed_addr #2

; Function Attrs: cold nounwind null_pointer_is_valid optsize sanitize_address sspstrong uwtable(sync)
define internal i32 @vfio_init() #8 section ".init.text" align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  tail call void @__raw_spin_lock_init(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 5), ptr noundef nonnull @.str.49, ptr noundef nonnull @xa_init_flags.__key, i16 noundef signext 3) #15
  store i32 67108869, ptr getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 5, i32 0, i32 1), align 4
  store ptr null, ptr getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 5, i32 0, i32 2), align 4
  tail call void @__mutex_init(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 4), ptr noundef nonnull @.str.40, ptr noundef nonnull @vfio_init.__key) #15
  tail call void @__mutex_init(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 2), ptr noundef nonnull @.str.42, ptr noundef nonnull @vfio_init.__key.41) #15
  store volatile ptr getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 3), ptr getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 3), align 4
  store ptr getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 3), ptr getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 3, i32 1), align 4
  store volatile ptr getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 1), ptr getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 1), align 4
  store ptr getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 1), ptr getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 1, i32 1), align 4
  %call = tail call i32 @misc_register(ptr noundef nonnull @vfio_dev) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call)
  %tobool.not = icmp eq i32 %call, 0
  br i1 %tobool.not, label %if.end, label %do.end6

do.end6:                                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  %call7 = tail call i32 (ptr, ...) @_printk(ptr noundef nonnull @.str.43) #19
  br label %cleanup

if.end:                                           ; preds = %entry
  %call9 = tail call ptr @__class_create(ptr noundef null, ptr noundef nonnull @.str.7, ptr noundef nonnull @vfio_init.__key.45) #15
  store ptr %call9, ptr @vfio, align 4
  %cmp.i = icmp ugt ptr %call9, inttoptr (i32 -4096 to ptr)
  br i1 %cmp.i, label %if.then11, label %if.end13

if.then11:                                        ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  %0 = ptrtoint ptr %call9 to i32
  br label %err_class

if.end13:                                         ; preds = %if.end
  %devnode = getelementptr inbounds %struct.class, ptr %call9, i32 0, i32 6
  %1 = ptrtoint ptr %devnode to i32
  call void @__asan_store4_noabort(i32 %1)
  store ptr @vfio_devnode, ptr %devnode, align 4
  %call14 = tail call i32 @alloc_chrdev_region(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 6), i32 noundef 0, i32 noundef 1048576, ptr noundef nonnull @.str.7) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call14)
  %tobool15.not = icmp eq i32 %call14, 0
  br i1 %tobool15.not, label %do.end20, label %err_alloc_chrdev

do.end20:                                         ; preds = %if.end13
  call void @__sanitizer_cov_trace_pc() #17
  %call22 = tail call i32 (ptr, ...) @_printk(ptr noundef nonnull @.str.47) #19
  %call23 = tail call i32 @vfio_register_iommu_driver(ptr noundef nonnull @vfio_noiommu_ops)
  br label %cleanup

err_alloc_chrdev:                                 ; preds = %if.end13
  call void @__sanitizer_cov_trace_pc() #17
  %2 = load ptr, ptr @vfio, align 4
  tail call void @class_destroy(ptr noundef %2) #15
  store ptr null, ptr @vfio, align 4
  br label %err_class

err_class:                                        ; preds = %err_alloc_chrdev, %if.then11
  %ret.0 = phi i32 [ %0, %if.then11 ], [ %call14, %err_alloc_chrdev ]
  tail call void @misc_deregister(ptr noundef nonnull @vfio_dev) #15
  br label %cleanup

cleanup:                                          ; preds = %err_class, %do.end20, %do.end6
  %retval.0 = phi i32 [ %call, %do.end6 ], [ %ret.0, %err_class ], [ 0, %do.end20 ]
  ret i32 %retval.0
}

; Function Attrs: null_pointer_is_valid
declare dso_local i32 @__modver_version_show(ptr noundef, ptr noundef, ptr noundef) #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @_raw_spin_lock(ptr noundef) local_unnamed_addr #2 section ".spinlock.text"

; Function Attrs: null_pointer_is_valid
declare dso_local void @_raw_spin_unlock(ptr noundef) local_unnamed_addr #2 section ".spinlock.text"

; Function Attrs: null_pointer_is_valid allocsize(2)
declare dso_local noalias ptr @kmem_cache_alloc_trace(ptr noundef, i32 noundef, i32 noundef) local_unnamed_addr #9

; Function Attrs: null_pointer_is_valid
declare dso_local zeroext i1 @__list_add_valid(ptr noundef, ptr noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local zeroext i1 @__list_del_entry_valid(ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @refcount_warn_saturate(ptr noundef, i32 noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local zeroext i1 @__kasan_check_write(ptr noundef, i32 noundef) local_unnamed_addr #2

; Function Attrs: inaccessiblemem_or_argmemonly nocallback nofree nosync nounwind willreturn
declare void @llvm.prefetch.p0(ptr nocapture readonly, i32 immarg, i32 immarg, i32) #10

; Function Attrs: null_pointer_is_valid
declare dso_local void @__init_swait_queue_head(ptr noundef, ptr noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local ptr @__xa_erase(ptr noundef, i32 noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @mutex_destroy(ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local ptr @dev_driver_string(ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local ptr @iommu_group_get(ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local zeroext i1 @iommu_present(ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @add_taint(i32 noundef, i32 noundef) local_unnamed_addr #2

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal fastcc ptr @vfio_create_group(ptr noundef %iommu_group, i32 noundef %type) unnamed_addr #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  call void @__asan_load4_noabort(i32 ptrtoint (ptr getelementptr inbounds ([4 x [14 x ptr]], ptr @kmalloc_caches, i32 0, i32 0, i32 11) to i32))
  %0 = load ptr, ptr getelementptr inbounds ([4 x [14 x ptr]], ptr @kmalloc_caches, i32 0, i32 0, i32 11), align 4
  %call7.i.i.i = tail call noalias align 8 ptr @kmem_cache_alloc_trace(ptr noundef %0, i32 noundef 3520, i32 noundef 1504) #18
  %tobool.not.i = icmp eq ptr %call7.i.i.i, null
  br i1 %tobool.not.i, label %entry.cleanup_crit_edge, label %if.end.i

entry.cleanup_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end.i:                                         ; preds = %entry
  %call.i.i = tail call i32 @ida_alloc_range(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 5), i32 noundef 0, i32 noundef 1048575, i32 noundef 3264) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call.i.i)
  %cmp.i = icmp slt i32 %call.i.i, 0
  br i1 %cmp.i, label %if.then3.i, label %if.end5.i

if.then3.i:                                       ; preds = %if.end.i
  call void @__sanitizer_cov_trace_pc() #17
  tail call void @kfree(ptr noundef nonnull %call7.i.i.i) #15
  %1 = inttoptr i32 %call.i.i to ptr
  br label %vfio_group_alloc.exit

if.end5.i:                                        ; preds = %if.end.i
  call void @__sanitizer_cov_trace_pc() #17
  tail call void @device_initialize(ptr noundef nonnull %call7.i.i.i) #15
  %2 = load i32, ptr getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 6), align 4
  %shr.i = and i32 %2, -1048576
  %or.i = or i32 %shr.i, %call.i.i
  %devt.i = getelementptr inbounds %struct.device, ptr %call7.i.i.i, i32 0, i32 29
  %3 = ptrtoint ptr %devt.i to i32
  call void @__asan_store4_noabort(i32 %3)
  store i32 %or.i, ptr %devt.i, align 8
  %4 = load ptr, ptr @vfio, align 4
  %class.i = getelementptr inbounds %struct.device, ptr %call7.i.i.i, i32 0, i32 33
  %5 = ptrtoint ptr %class.i to i32
  call void @__asan_store4_noabort(i32 %5)
  store ptr %4, ptr %class.i, align 4
  %release.i = getelementptr inbounds %struct.device, ptr %call7.i.i.i, i32 0, i32 35
  %6 = ptrtoint ptr %release.i to i32
  call void @__asan_store4_noabort(i32 %6)
  store ptr @vfio_group_release, ptr %release.i, align 4
  %cdev.i = getelementptr inbounds %struct.vfio_group, ptr %call7.i.i.i, i32 0, i32 1
  tail call void @cdev_init(ptr noundef %cdev.i, ptr noundef nonnull @vfio_group_fops) #15
  %owner.i = getelementptr inbounds %struct.vfio_group, ptr %call7.i.i.i, i32 0, i32 1, i32 1
  %7 = ptrtoint ptr %owner.i to i32
  call void @__asan_store4_noabort(i32 %7)
  store ptr null, ptr %owner.i, align 8
  %users.i = getelementptr inbounds %struct.vfio_group, ptr %call7.i.i.i, i32 0, i32 2
  %call.i.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %users.i, i32 noundef 4) #15
  %8 = ptrtoint ptr %users.i to i32
  call void @__asan_store4_noabort(i32 %8)
  store volatile i32 1, ptr %users.i, align 8
  %device_list.i = getelementptr inbounds %struct.vfio_group, ptr %call7.i.i.i, i32 0, i32 6
  %9 = ptrtoint ptr %device_list.i to i32
  call void @__asan_store4_noabort(i32 %9)
  store volatile ptr %device_list.i, ptr %device_list.i, align 8
  %prev.i.i = getelementptr inbounds %struct.vfio_group, ptr %call7.i.i.i, i32 0, i32 6, i32 1
  %10 = ptrtoint ptr %prev.i.i to i32
  call void @__asan_store4_noabort(i32 %10)
  store ptr %device_list.i, ptr %prev.i.i, align 4
  %device_lock.i = getelementptr inbounds %struct.vfio_group, ptr %call7.i.i.i, i32 0, i32 7
  tail call void @__mutex_init(ptr noundef %device_lock.i, ptr noundef nonnull @.str.17, ptr noundef nonnull @vfio_group_alloc.__key) #15
  %unbound_list.i = getelementptr inbounds %struct.vfio_group, ptr %call7.i.i.i, i32 0, i32 11
  %11 = ptrtoint ptr %unbound_list.i to i32
  call void @__asan_store4_noabort(i32 %11)
  store volatile ptr %unbound_list.i, ptr %unbound_list.i, align 8
  %prev.i48.i = getelementptr inbounds %struct.vfio_group, ptr %call7.i.i.i, i32 0, i32 11, i32 1
  %12 = ptrtoint ptr %prev.i48.i to i32
  call void @__asan_store4_noabort(i32 %12)
  store ptr %unbound_list.i, ptr %prev.i48.i, align 4
  %unbound_lock.i = getelementptr inbounds %struct.vfio_group, ptr %call7.i.i.i, i32 0, i32 12
  tail call void @__mutex_init(ptr noundef %unbound_lock.i, ptr noundef nonnull @.str.19, ptr noundef nonnull @vfio_group_alloc.__key.18) #15
  %container_q.i = getelementptr inbounds %struct.vfio_group, ptr %call7.i.i.i, i32 0, i32 14
  tail call void @__init_waitqueue_head(ptr noundef %container_q.i, ptr noundef nonnull @.str.21, ptr noundef nonnull @vfio_group_alloc.__key.20) #15
  %iommu_group16.i = getelementptr inbounds %struct.vfio_group, ptr %call7.i.i.i, i32 0, i32 4
  %13 = ptrtoint ptr %iommu_group16.i to i32
  call void @__asan_store4_noabort(i32 %13)
  store ptr %iommu_group, ptr %iommu_group16.i, align 8
  %call17.i = tail call ptr @iommu_group_ref_get(ptr noundef %iommu_group) #15
  %type18.i = getelementptr inbounds %struct.vfio_group, ptr %call7.i.i.i, i32 0, i32 15
  %14 = ptrtoint ptr %type18.i to i32
  call void @__asan_store4_noabort(i32 %14)
  store i32 %type, ptr %type18.i, align 4
  %notifier.i = getelementptr inbounds %struct.vfio_group, ptr %call7.i.i.i, i32 0, i32 18
  tail call void @__init_rwsem(ptr noundef %notifier.i, ptr noundef nonnull @.str.23, ptr noundef nonnull @vfio_group_alloc.__key.22) #15
  %head.i = getelementptr inbounds %struct.vfio_group, ptr %call7.i.i.i, i32 0, i32 18, i32 1
  %15 = ptrtoint ptr %head.i to i32
  call void @__asan_store4_noabort(i32 %15)
  store ptr null, ptr %head.i, align 8
  br label %vfio_group_alloc.exit

vfio_group_alloc.exit:                            ; preds = %if.end5.i, %if.then3.i
  %retval.0.i = phi ptr [ %1, %if.then3.i ], [ %call7.i.i.i, %if.end5.i ]
  %cmp.i51 = icmp ugt ptr %retval.0.i, inttoptr (i32 -4096 to ptr)
  br i1 %cmp.i51, label %vfio_group_alloc.exit.cleanup_crit_edge, label %if.end

vfio_group_alloc.exit.cleanup_crit_edge:          ; preds = %vfio_group_alloc.exit
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end:                                           ; preds = %vfio_group_alloc.exit
  %type2 = getelementptr inbounds %struct.vfio_group, ptr %retval.0.i, i32 0, i32 15
  %16 = ptrtoint ptr %type2 to i32
  call void @__asan_load4_noabort(i32 %16)
  %17 = load i32, ptr %type2, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 2, i32 %17)
  %cmp = icmp eq i32 %17, 2
  %cond = select i1 %cmp, ptr @.str.15, ptr @.str.16
  %call3 = tail call i32 @iommu_group_id(ptr noundef %iommu_group) #15
  %call4 = tail call i32 (ptr, ptr, ...) @dev_set_name(ptr noundef %retval.0.i, ptr noundef nonnull @.str.14, ptr noundef nonnull %cond, i32 noundef %call3) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call4)
  %tobool.not = icmp eq i32 %call4, 0
  br i1 %tobool.not, label %if.end7, label %if.then5

if.then5:                                         ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  %18 = inttoptr i32 %call4 to ptr
  br label %err_put

if.end7:                                          ; preds = %if.end
  %nb = getelementptr inbounds %struct.vfio_group, ptr %retval.0.i, i32 0, i32 8
  %19 = ptrtoint ptr %nb to i32
  call void @__asan_store4_noabort(i32 %19)
  store ptr @vfio_iommu_group_notifier, ptr %nb, align 4
  %call9 = tail call i32 @iommu_group_register_notifier(ptr noundef %iommu_group, ptr noundef %nb) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call9)
  %tobool10.not = icmp eq i32 %call9, 0
  br i1 %tobool10.not, label %if.end13, label %if.then11

if.then11:                                        ; preds = %if.end7
  call void @__sanitizer_cov_trace_pc() #17
  %20 = inttoptr i32 %call9 to ptr
  br label %err_put

if.end13:                                         ; preds = %if.end7
  tail call void @mutex_lock_nested(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 4), i32 noundef 0) #15
  br label %for.cond.i

for.cond.i:                                       ; preds = %for.body.i.for.cond.i_crit_edge, %if.end13
  %.pn.in.i = phi ptr [ getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 3), %if.end13 ], [ %.pn.i, %for.body.i.for.cond.i_crit_edge ]
  %21 = ptrtoint ptr %.pn.in.i to i32
  call void @__asan_load4_noabort(i32 %21)
  %.pn.i = load ptr, ptr %.pn.in.i, align 4
  %cmp.not.i = icmp eq ptr %.pn.i, getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 3)
  br i1 %cmp.not.i, label %for.cond.i.if.end17_crit_edge, label %for.body.i

for.cond.i.if.end17_crit_edge:                    ; preds = %for.cond.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end17

for.body.i:                                       ; preds = %for.cond.i
  %iommu_group1.i = getelementptr i8, ptr %.pn.i, i32 -120
  %22 = ptrtoint ptr %iommu_group1.i to i32
  call void @__asan_load4_noabort(i32 %22)
  %23 = load ptr, ptr %iommu_group1.i, align 8
  %cmp2.i = icmp eq ptr %23, %iommu_group
  br i1 %cmp2.i, label %if.then.i, label %for.body.i.for.cond.i_crit_edge

for.body.i.for.cond.i_crit_edge:                  ; preds = %for.body.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.cond.i

if.then.i:                                        ; preds = %for.body.i
  %group.0.le.i = getelementptr i8, ptr %.pn.i, i32 -1216
  %users.i.i = getelementptr i8, ptr %.pn.i, i32 -128
  %call.i.i.i.i.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %users.i.i, i32 noundef 4) #15
  tail call void @llvm.prefetch.p0(ptr %users.i.i, i32 1, i32 3, i32 1) #15
  %24 = tail call { i32, i32, i32 } asm sideeffect "@ atomic_fetch_add\0A1:\09ldrex\09$0, [$4]\0A\09add\09$1, $0, $5\0A\09strex\09$2, $1, [$4]\0A\09teq\09$2, #0\0A\09bne\091b", "=&r,=&r,=&r,=*Qo,r,Ir,*Qo,~{cc}"(ptr elementtype(i32) %users.i.i, ptr %users.i.i, i32 1, ptr elementtype(i32) %users.i.i) #15, !srcloc !226
  %asmresult.i.i.i.i.i.i.i = extractvalue { i32, i32, i32 } %24, 0
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %asmresult.i.i.i.i.i.i.i)
  %tobool1.not.i.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i.i.i.i, 0
  br i1 %tobool1.not.i.i.i.i.i, label %if.then.i.if.end15.sink.split.i.i.i.i.i_crit_edge, label %if.else.i.i.i.i.i, !prof !220

if.then.i.if.end15.sink.split.i.i.i.i.i_crit_edge: ; preds = %if.then.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end15.sink.split.i.i.i.i.i

if.else.i.i.i.i.i:                                ; preds = %if.then.i
  %add.i.i.i.i.i = add i32 %asmresult.i.i.i.i.i.i.i, 1
  %25 = or i32 %add.i.i.i.i.i, %asmresult.i.i.i.i.i.i.i
  call void @__sanitizer_cov_trace_const_cmp4(i32 -1, i32 %25)
  %.not.i.i.i.i.i = icmp sgt i32 %25, -1
  br i1 %.not.i.i.i.i.i, label %if.else.i.i.i.i.i.__vfio_group_get_from_iommu.exit_crit_edge, label %if.else.i.i.i.i.i.if.end15.sink.split.i.i.i.i.i_crit_edge, !prof !223

if.else.i.i.i.i.i.if.end15.sink.split.i.i.i.i.i_crit_edge: ; preds = %if.else.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end15.sink.split.i.i.i.i.i

if.else.i.i.i.i.i.__vfio_group_get_from_iommu.exit_crit_edge: ; preds = %if.else.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %__vfio_group_get_from_iommu.exit

if.end15.sink.split.i.i.i.i.i:                    ; preds = %if.else.i.i.i.i.i.if.end15.sink.split.i.i.i.i.i_crit_edge, %if.then.i.if.end15.sink.split.i.i.i.i.i_crit_edge
  %.sink.i.i.i.i.i = phi i32 [ 2, %if.then.i.if.end15.sink.split.i.i.i.i.i_crit_edge ], [ 1, %if.else.i.i.i.i.i.if.end15.sink.split.i.i.i.i.i_crit_edge ]
  tail call void @refcount_warn_saturate(ptr noundef %users.i.i, i32 noundef %.sink.i.i.i.i.i) #15
  br label %__vfio_group_get_from_iommu.exit

__vfio_group_get_from_iommu.exit:                 ; preds = %if.end15.sink.split.i.i.i.i.i, %if.else.i.i.i.i.i.__vfio_group_get_from_iommu.exit_crit_edge
  %tobool15.not = icmp eq ptr %group.0.le.i, null
  br i1 %tobool15.not, label %__vfio_group_get_from_iommu.exit.if.end17_crit_edge, label %__vfio_group_get_from_iommu.exit.err_unlock_crit_edge

__vfio_group_get_from_iommu.exit.err_unlock_crit_edge: ; preds = %__vfio_group_get_from_iommu.exit
  call void @__sanitizer_cov_trace_pc() #17
  br label %err_unlock

__vfio_group_get_from_iommu.exit.if.end17_crit_edge: ; preds = %__vfio_group_get_from_iommu.exit
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end17

if.end17:                                         ; preds = %__vfio_group_get_from_iommu.exit.if.end17_crit_edge, %for.cond.i.if.end17_crit_edge
  %cdev = getelementptr inbounds %struct.vfio_group, ptr %retval.0.i, i32 0, i32 1
  %call19 = tail call i32 @cdev_device_add(ptr noundef %cdev, ptr noundef %retval.0.i) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call19)
  %tobool20.not = icmp eq i32 %call19, 0
  br i1 %tobool20.not, label %if.end23, label %if.then21

if.then21:                                        ; preds = %if.end17
  call void @__sanitizer_cov_trace_pc() #17
  %26 = inttoptr i32 %call19 to ptr
  br label %err_unlock

if.end23:                                         ; preds = %if.end17
  %vfio_next = getelementptr inbounds %struct.vfio_group, ptr %retval.0.i, i32 0, i32 9
  %27 = load ptr, ptr getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 3), align 4
  %call.i.i53 = tail call zeroext i1 @__list_add_valid(ptr noundef %vfio_next, ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 3), ptr noundef %27) #15
  br i1 %call.i.i53, label %if.end.i.i, label %if.end23.list_add.exit_crit_edge

if.end23.list_add.exit_crit_edge:                 ; preds = %if.end23
  call void @__sanitizer_cov_trace_pc() #17
  br label %list_add.exit

if.end.i.i:                                       ; preds = %if.end23
  call void @__sanitizer_cov_trace_pc() #17
  %prev1.i.i = getelementptr inbounds %struct.list_head, ptr %27, i32 0, i32 1
  %28 = ptrtoint ptr %prev1.i.i to i32
  call void @__asan_store4_noabort(i32 %28)
  store ptr %vfio_next, ptr %prev1.i.i, align 4
  %29 = ptrtoint ptr %vfio_next to i32
  call void @__asan_store4_noabort(i32 %29)
  store ptr %27, ptr %vfio_next, align 4
  %prev3.i.i = getelementptr inbounds %struct.vfio_group, ptr %retval.0.i, i32 0, i32 9, i32 1
  %30 = ptrtoint ptr %prev3.i.i to i32
  call void @__asan_store4_noabort(i32 %30)
  store ptr getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 3), ptr %prev3.i.i, align 4
  store volatile ptr %vfio_next, ptr getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 3), align 4
  br label %list_add.exit

list_add.exit:                                    ; preds = %if.end.i.i, %if.end23.list_add.exit_crit_edge
  tail call void @mutex_unlock(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 4)) #15
  br label %cleanup

err_unlock:                                       ; preds = %if.then21, %__vfio_group_get_from_iommu.exit.err_unlock_crit_edge
  %ret.0 = phi ptr [ %group.0.le.i, %__vfio_group_get_from_iommu.exit.err_unlock_crit_edge ], [ %26, %if.then21 ]
  tail call void @mutex_unlock(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 4)) #15
  %iommu_group24 = getelementptr inbounds %struct.vfio_group, ptr %retval.0.i, i32 0, i32 4
  %31 = ptrtoint ptr %iommu_group24 to i32
  call void @__asan_load4_noabort(i32 %31)
  %32 = load ptr, ptr %iommu_group24, align 8
  %call26 = tail call i32 @iommu_group_unregister_notifier(ptr noundef %32, ptr noundef %nb) #15
  br label %err_put

err_put:                                          ; preds = %err_unlock, %if.then11, %if.then5
  %ret.1 = phi ptr [ %18, %if.then5 ], [ %20, %if.then11 ], [ %ret.0, %err_unlock ]
  tail call void @put_device(ptr noundef %retval.0.i) #15
  br label %cleanup

cleanup:                                          ; preds = %err_put, %list_add.exit, %vfio_group_alloc.exit.cleanup_crit_edge, %entry.cleanup_crit_edge
  %retval.0 = phi ptr [ %ret.1, %err_put ], [ %retval.0.i, %list_add.exit ], [ %retval.0.i, %vfio_group_alloc.exit.cleanup_crit_edge ], [ inttoptr (i32 -12 to ptr), %entry.cleanup_crit_edge ]
  ret ptr %retval.0
}

; Function Attrs: null_pointer_is_valid
declare dso_local void @iommu_group_put(ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local i32 @dev_set_name(ptr noundef, ptr noundef, ...) local_unnamed_addr #2

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal i32 @vfio_iommu_group_notifier(ptr noundef %nb, i32 noundef %action, ptr noundef %data) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %add.ptr = getelementptr i8, ptr %nb, i32 -1204
  %0 = zext i32 %action to i64
  call void @__sanitizer_cov_trace_switch(i64 %0, ptr @__sancov_gen_cov_switch_values.53)
  switch i32 %action, label %entry.sw.epilog_crit_edge [
    i32 1, label %sw.bb
    i32 6, label %do.body67
    i32 3, label %do.body
    i32 4, label %do.body8
    i32 5, label %do.body46
  ]

entry.sw.epilog_crit_edge:                        ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

sw.bb:                                            ; preds = %entry
  %device_lock.i.i = getelementptr i8, ptr %nb, i32 -92
  tail call void @mutex_lock_nested(ptr noundef %device_lock.i.i, i32 noundef 0) #15
  %device_list.i.i = getelementptr i8, ptr %nb, i32 -100
  %1 = ptrtoint ptr %device_list.i.i to i32
  call void @__asan_load4_noabort(i32 %1)
  %.pn20.i.i = load ptr, ptr %device_list.i.i, align 4
  %cmp.not22.i.i = icmp eq ptr %.pn20.i.i, %device_list.i.i
  br i1 %cmp.not22.i.i, label %sw.bb.vfio_group_get_device.exit.thread.i_crit_edge, label %sw.bb.for.body.i.i_crit_edge

sw.bb.for.body.i.i_crit_edge:                     ; preds = %sw.bb
  br label %for.body.i.i

sw.bb.vfio_group_get_device.exit.thread.i_crit_edge: ; preds = %sw.bb
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_group_get_device.exit.thread.i

for.body.i.i:                                     ; preds = %for.inc.i.i.for.body.i.i_crit_edge, %sw.bb.for.body.i.i_crit_edge
  %.pn23.i.i = phi ptr [ %.pn.i.i, %for.inc.i.i.for.body.i.i_crit_edge ], [ %.pn20.i.i, %sw.bb.for.body.i.i_crit_edge ]
  %device.024.i.i = getelementptr i8, ptr %.pn23.i.i, i32 -88
  %2 = ptrtoint ptr %device.024.i.i to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load ptr, ptr %device.024.i.i, align 4
  %cmp3.i.i = icmp eq ptr %3, %data
  br i1 %cmp3.i.i, label %land.lhs.true.i.i, label %for.body.i.i.for.inc.i.i_crit_edge

for.body.i.i.for.inc.i.i_crit_edge:               ; preds = %for.body.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.inc.i.i

land.lhs.true.i.i:                                ; preds = %for.body.i.i
  %call.i.i = tail call fastcc zeroext i1 @vfio_device_try_get(ptr noundef %device.024.i.i) #15
  br i1 %call.i.i, label %vfio_group_get_device.exit.i, label %land.lhs.true.i.i.for.inc.i.i_crit_edge

land.lhs.true.i.i.for.inc.i.i_crit_edge:          ; preds = %land.lhs.true.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.inc.i.i

for.inc.i.i:                                      ; preds = %land.lhs.true.i.i.for.inc.i.i_crit_edge, %for.body.i.i.for.inc.i.i_crit_edge
  %4 = ptrtoint ptr %.pn23.i.i to i32
  call void @__asan_load4_noabort(i32 %4)
  %.pn.i.i = load ptr, ptr %.pn23.i.i, align 4
  %cmp.not.i.i = icmp eq ptr %.pn.i.i, %device_list.i.i
  br i1 %cmp.not.i.i, label %for.inc.i.i.vfio_group_get_device.exit.thread.i_crit_edge, label %for.inc.i.i.for.body.i.i_crit_edge

for.inc.i.i.for.body.i.i_crit_edge:               ; preds = %for.inc.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.body.i.i

for.inc.i.i.vfio_group_get_device.exit.thread.i_crit_edge: ; preds = %for.inc.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_group_get_device.exit.thread.i

vfio_group_get_device.exit.thread.i:              ; preds = %for.inc.i.i.vfio_group_get_device.exit.thread.i_crit_edge, %sw.bb.vfio_group_get_device.exit.thread.i_crit_edge
  tail call void @mutex_unlock(ptr noundef %device_lock.i.i) #15
  br label %if.end38.i

vfio_group_get_device.exit.i:                     ; preds = %land.lhs.true.i.i
  tail call void @mutex_unlock(ptr noundef %device_lock.i.i) #15
  %tobool.not.i = icmp eq ptr %device.024.i.i, null
  br i1 %tobool.not.i, label %vfio_group_get_device.exit.i.if.end38.i_crit_edge, label %land.rhs.i

vfio_group_get_device.exit.i.if.end38.i_crit_edge: ; preds = %vfio_group_get_device.exit.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end38.i

land.rhs.i:                                       ; preds = %vfio_group_get_device.exit.i
  %.b1.i = load i1, ptr @vfio_group_nb_add_dev.__already_done, align 1
  br i1 %.b1.i, label %land.rhs.i.if.then37.i_crit_edge, label %if.then.i, !prof !223

land.rhs.i.if.then37.i_crit_edge:                 ; preds = %land.rhs.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.then37.i

if.then.i:                                        ; preds = %land.rhs.i
  call void @__sanitizer_cov_trace_pc() #17
  store i1 true, ptr @vfio_group_nb_add_dev.__already_done, align 1
  tail call void (ptr, i32, i32, ptr, ...) @warn_slowpath_fmt(ptr noundef nonnull @.str, i32 noundef 607, i32 noundef 9, ptr noundef null) #15
  br label %if.then37.i

if.then37.i:                                      ; preds = %if.then.i, %land.rhs.i.if.then37.i_crit_edge
  %refcount.i.i = getelementptr i8, ptr %.pn23.i.i, i32 -64
  %call.i.i.i.i.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %refcount.i.i, i32 noundef 4) #15
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !221
  tail call void @llvm.prefetch.p0(ptr %refcount.i.i, i32 1, i32 3, i32 1) #15
  %5 = tail call { i32, i32, i32 } asm sideeffect "@ atomic_fetch_sub\0A1:\09ldrex\09$0, [$4]\0A\09sub\09$1, $0, $5\0A\09strex\09$2, $1, [$4]\0A\09teq\09$2, #0\0A\09bne\091b", "=&r,=&r,=&r,=*Qo,r,Ir,*Qo,~{cc}"(ptr elementtype(i32) %refcount.i.i, ptr %refcount.i.i, i32 1, ptr elementtype(i32) %refcount.i.i) #15, !srcloc !222
  %asmresult.i.i.i.i.i.i.i.i = extractvalue { i32, i32, i32 } %5, 0
  call void @__sanitizer_cov_trace_const_cmp4(i32 1, i32 %asmresult.i.i.i.i.i.i.i.i)
  %cmp.i.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i, label %if.then.i.i, label %if.end5.i.i.i.i.i

if.end5.i.i.i.i.i:                                ; preds = %if.then37.i
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %asmresult.i.i.i.i.i.i.i.i)
  %.not.i.i.i.i.i = icmp sgt i32 %asmresult.i.i.i.i.i.i.i.i, 0
  br i1 %.not.i.i.i.i.i, label %if.end5.i.i.i.i.i.sw.epilog_crit_edge, label %if.then10.i.i.i.i.i, !prof !223

if.end5.i.i.i.i.i.sw.epilog_crit_edge:            ; preds = %if.end5.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

if.then10.i.i.i.i.i:                              ; preds = %if.end5.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  tail call void @refcount_warn_saturate(ptr noundef %refcount.i.i, i32 noundef 3) #15
  br label %sw.epilog

if.then.i.i:                                      ; preds = %if.then37.i
  call void @__sanitizer_cov_trace_pc() #17
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !224
  %comp.i.i = getelementptr i8, ptr %.pn23.i.i, i32 -56
  tail call void @complete(ptr noundef %comp.i.i) #15
  br label %sw.epilog

if.end38.i:                                       ; preds = %vfio_group_get_device.exit.i.if.end38.i_crit_edge, %vfio_group_get_device.exit.thread.i
  %container_users.i = getelementptr i8, ptr %nb, i32 -112
  %call.i.i.i = tail call zeroext i1 @__kasan_check_read(ptr noundef %container_users.i, i32 noundef 4) #15
  %6 = ptrtoint ptr %container_users.i to i32
  call void @__asan_load4_noabort(i32 %6)
  %7 = load volatile i32, ptr %container_users.i, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %7)
  %tobool40.not.i = icmp eq i32 %7, 0
  br i1 %tobool40.not.i, label %if.end38.i.sw.epilog_crit_edge, label %do.end55.i

if.end38.i.sw.epilog_crit_edge:                   ; preds = %if.end38.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

do.end55.i:                                       ; preds = %if.end38.i
  %call56.i = tail call ptr @dev_driver_string(ptr noundef %data) #15
  %init_name.i.i = getelementptr inbounds %struct.device, ptr %data, i32 0, i32 3
  %8 = ptrtoint ptr %init_name.i.i to i32
  call void @__asan_load4_noabort(i32 %8)
  %9 = load ptr, ptr %init_name.i.i, align 8
  %tobool.not.i.i = icmp eq ptr %9, null
  br i1 %tobool.not.i.i, label %if.end.i.i, label %do.end55.i.dev_name.exit.i_crit_edge

do.end55.i.dev_name.exit.i_crit_edge:             ; preds = %do.end55.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %dev_name.exit.i

if.end.i.i:                                       ; preds = %do.end55.i
  call void @__sanitizer_cov_trace_pc() #17
  %10 = ptrtoint ptr %data to i32
  call void @__asan_load4_noabort(i32 %10)
  %11 = load ptr, ptr %data, align 4
  br label %dev_name.exit.i

dev_name.exit.i:                                  ; preds = %if.end.i.i, %do.end55.i.dev_name.exit.i_crit_edge
  %retval.0.i3.i = phi ptr [ %11, %if.end.i.i ], [ %9, %do.end55.i.dev_name.exit.i_crit_edge ]
  %iommu_group.i = getelementptr i8, ptr %nb, i32 -108
  %12 = ptrtoint ptr %iommu_group.i to i32
  call void @__asan_load4_noabort(i32 %12)
  %13 = load ptr, ptr %iommu_group.i, align 8
  %call58.i = tail call i32 @iommu_group_id(ptr noundef %13) #15
  tail call void (ptr, i32, i32, ptr, ...) @warn_slowpath_fmt(ptr noundef nonnull @.str, i32 noundef 618, i32 noundef 9, ptr noundef nonnull @.str.29, ptr noundef %call56.i, ptr noundef %retval.0.i3.i, i32 noundef %call58.i) #15
  br label %sw.epilog

do.body:                                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  callbr void asm sideeffect "1:\0A\09nop\0A\09.pushsection __jump_table,  \22aw\22\0A\09.word 1b, ${1:l}, ${0:c}\0A\09.popsection\0A\09", "i,i"(ptr getelementptr inbounds ({ ptr, ptr, ptr, ptr, i8, i8, i8, i8, { { { %struct.atomic_t, { ptr } } } }, [4 x i8] }, ptr @vfio_iommu_group_notifier.__UNIQUE_ID_ddebug241, i32 0, i32 8, i32 0, i32 0, i32 0, i32 0), ptr blockaddress(@vfio_iommu_group_notifier, %if.then)) #15
          to label %sw.epilog [label %if.then], !srcloc !234

if.then:                                          ; preds = %do.body
  call void @__sanitizer_cov_trace_pc() #17
  %iommu_group = getelementptr i8, ptr %nb, i32 -108
  %14 = ptrtoint ptr %iommu_group to i32
  call void @__asan_load4_noabort(i32 %14)
  %15 = load ptr, ptr %iommu_group, align 8
  %call6 = tail call i32 @iommu_group_id(ptr noundef %15) #15
  tail call void (ptr, ptr, ptr, ...) @__dynamic_dev_dbg(ptr noundef nonnull @vfio_iommu_group_notifier.__UNIQUE_ID_ddebug241, ptr noundef %data, ptr noundef nonnull @.str.25, ptr noundef nonnull @.str.24, i32 noundef %call6) #15
  br label %sw.epilog

do.body8:                                         ; preds = %entry
  callbr void asm sideeffect "1:\0A\09nop\0A\09.pushsection __jump_table,  \22aw\22\0A\09.word 1b, ${1:l}, ${0:c}\0A\09.popsection\0A\09", "i,i"(ptr getelementptr inbounds ({ ptr, ptr, ptr, ptr, i8, i8, i8, i8, { { { %struct.atomic_t, { ptr } } } }, [4 x i8] }, ptr @vfio_iommu_group_notifier.__UNIQUE_ID_ddebug242, i32 0, i32 8, i32 0, i32 0, i32 0, i32 0), ptr blockaddress(@vfio_iommu_group_notifier, %if.then20)) #15
          to label %do.body26 [label %if.then20], !srcloc !234

if.then20:                                        ; preds = %do.body8
  call void @__sanitizer_cov_trace_pc() #17
  %iommu_group21 = getelementptr i8, ptr %nb, i32 -108
  %16 = ptrtoint ptr %iommu_group21 to i32
  call void @__asan_load4_noabort(i32 %16)
  %17 = load ptr, ptr %iommu_group21, align 8
  %call22 = tail call i32 @iommu_group_id(ptr noundef %17) #15
  %driver = getelementptr inbounds %struct.device, ptr %data, i32 0, i32 6
  %18 = ptrtoint ptr %driver to i32
  call void @__asan_load4_noabort(i32 %18)
  %19 = load ptr, ptr %driver, align 4
  %20 = ptrtoint ptr %19 to i32
  call void @__asan_load4_noabort(i32 %20)
  %21 = load ptr, ptr %19, align 4
  tail call void (ptr, ptr, ptr, ...) @__dynamic_dev_dbg(ptr noundef nonnull @vfio_iommu_group_notifier.__UNIQUE_ID_ddebug242, ptr noundef %data, ptr noundef nonnull @.str.26, ptr noundef nonnull @.str.24, i32 noundef %call22, ptr noundef %21) #15
  br label %do.body26

do.body26:                                        ; preds = %if.then20, %do.body8
  %container_users.i132 = getelementptr i8, ptr %nb, i32 -112
  %call.i.i.i133 = tail call zeroext i1 @__kasan_check_read(ptr noundef %container_users.i132, i32 noundef 4) #15
  %22 = ptrtoint ptr %container_users.i132 to i32
  call void @__asan_load4_noabort(i32 %22)
  %23 = load volatile i32, ptr %container_users.i132, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %23)
  %tobool.not.i134 = icmp eq i32 %23, 0
  br i1 %tobool.not.i134, label %do.body26.sw.epilog_crit_edge, label %vfio_group_nb_verify.exit

do.body26.sw.epilog_crit_edge:                    ; preds = %do.body26
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

vfio_group_nb_verify.exit:                        ; preds = %do.body26
  %call1.i = tail call i32 @vfio_dev_viable(ptr noundef %data, ptr noundef %add.ptr) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call1.i)
  %tobool28.not = icmp eq i32 %call1.i, 0
  br i1 %tobool28.not, label %vfio_group_nb_verify.exit.sw.epilog_crit_edge, label %do.body36, !prof !223

vfio_group_nb_verify.exit.sw.epilog_crit_edge:    ; preds = %vfio_group_nb_verify.exit
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

do.body36:                                        ; preds = %vfio_group_nb_verify.exit
  call void @__sanitizer_cov_trace_pc() #17
  tail call void asm sideeffect "1:\09.long ( (((0xe7f001f2) << 24) & 0xFF000000) | (((0xe7f001f2) << 8) & 0x00FF0000) | (((0xe7f001f2) >> 8) & 0x0000FF00) | (((0xe7f001f2) >> 24) & 0x000000FF) )\0A\09\0A.pushsection .rodata.str, \22aMS\22, %progbits, 1\0A2:\09.asciz \22drivers/vfio/vfio.c\22\0A.popsection\0A.pushsection __bug_table,\22aw\22\0A.align 2\0A3:\09.word 1b, 2b\0A\09.hword 659, 0\0A.popsection", ""() #15, !srcloc !235
  unreachable

do.body46:                                        ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  callbr void asm sideeffect "1:\0A\09nop\0A\09.pushsection __jump_table,  \22aw\22\0A\09.word 1b, ${1:l}, ${0:c}\0A\09.popsection\0A\09", "i,i"(ptr getelementptr inbounds ({ ptr, ptr, ptr, ptr, i8, i8, i8, i8, { { { %struct.atomic_t, { ptr } } } }, [4 x i8] }, ptr @vfio_iommu_group_notifier.__UNIQUE_ID_ddebug243, i32 0, i32 8, i32 0, i32 0, i32 0, i32 0), ptr blockaddress(@vfio_iommu_group_notifier, %if.then58)) #15
          to label %sw.epilog [label %if.then58], !srcloc !234

if.then58:                                        ; preds = %do.body46
  call void @__sanitizer_cov_trace_pc() #17
  %iommu_group59 = getelementptr i8, ptr %nb, i32 -108
  %24 = ptrtoint ptr %iommu_group59 to i32
  call void @__asan_load4_noabort(i32 %24)
  %25 = load ptr, ptr %iommu_group59, align 8
  %call60 = tail call i32 @iommu_group_id(ptr noundef %25) #15
  %driver61 = getelementptr inbounds %struct.device, ptr %data, i32 0, i32 6
  %26 = ptrtoint ptr %driver61 to i32
  call void @__asan_load4_noabort(i32 %26)
  %27 = load ptr, ptr %driver61, align 4
  %28 = ptrtoint ptr %27 to i32
  call void @__asan_load4_noabort(i32 %28)
  %29 = load ptr, ptr %27, align 4
  tail call void (ptr, ptr, ptr, ...) @__dynamic_dev_dbg(ptr noundef nonnull @vfio_iommu_group_notifier.__UNIQUE_ID_ddebug243, ptr noundef %data, ptr noundef nonnull @.str.27, ptr noundef nonnull @.str.24, i32 noundef %call60, ptr noundef %29) #15
  br label %sw.epilog

do.body67:                                        ; preds = %entry
  callbr void asm sideeffect "1:\0A\09nop\0A\09.pushsection __jump_table,  \22aw\22\0A\09.word 1b, ${1:l}, ${0:c}\0A\09.popsection\0A\09", "i,i"(ptr getelementptr inbounds ({ ptr, ptr, ptr, ptr, i8, i8, i8, i8, { { { %struct.atomic_t, { ptr } } } }, [4 x i8] }, ptr @vfio_iommu_group_notifier.__UNIQUE_ID_ddebug244, i32 0, i32 8, i32 0, i32 0, i32 0, i32 0), ptr blockaddress(@vfio_iommu_group_notifier, %if.then79)) #15
          to label %do.end84 [label %if.then79], !srcloc !234

if.then79:                                        ; preds = %do.body67
  call void @__sanitizer_cov_trace_pc() #17
  %iommu_group80 = getelementptr i8, ptr %nb, i32 -108
  %30 = ptrtoint ptr %iommu_group80 to i32
  call void @__asan_load4_noabort(i32 %30)
  %31 = load ptr, ptr %iommu_group80, align 8
  %call81 = tail call i32 @iommu_group_id(ptr noundef %31) #15
  tail call void (ptr, ptr, ptr, ...) @__dynamic_dev_dbg(ptr noundef nonnull @vfio_iommu_group_notifier.__UNIQUE_ID_ddebug244, ptr noundef %data, ptr noundef nonnull @.str.28, ptr noundef nonnull @.str.24, i32 noundef %call81) #15
  br label %do.end84

do.end84:                                         ; preds = %if.then79, %do.body67
  %unbound_lock = getelementptr i8, ptr %nb, i32 36
  tail call void @mutex_lock_nested(ptr noundef %unbound_lock, i32 noundef 0) #15
  %unbound_list = getelementptr i8, ptr %nb, i32 28
  br label %for.cond

for.cond:                                         ; preds = %for.body.for.cond_crit_edge, %do.end84
  %.pn.in = phi ptr [ %unbound_list, %do.end84 ], [ %.pn, %for.body.for.cond_crit_edge ]
  %32 = ptrtoint ptr %.pn.in to i32
  call void @__asan_load4_noabort(i32 %32)
  %.pn = load ptr, ptr %.pn.in, align 4
  %cmp.not = icmp eq ptr %.pn, %unbound_list
  br i1 %cmp.not, label %for.cond.for.end_crit_edge, label %for.body

for.cond.for.end_crit_edge:                       ; preds = %for.cond
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.end

for.body:                                         ; preds = %for.cond
  %unbound.0 = getelementptr i8, ptr %.pn, i32 -4
  %33 = ptrtoint ptr %unbound.0 to i32
  call void @__asan_load4_noabort(i32 %33)
  %34 = load ptr, ptr %unbound.0, align 4
  %cmp92 = icmp eq ptr %34, %data
  br i1 %cmp92, label %if.then93, label %for.body.for.cond_crit_edge

for.body.for.cond_crit_edge:                      ; preds = %for.body
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.cond

if.then93:                                        ; preds = %for.body
  %unbound.0.le = getelementptr i8, ptr %.pn, i32 -4
  %call.i.i136 = tail call zeroext i1 @__list_del_entry_valid(ptr noundef %.pn) #15
  br i1 %call.i.i136, label %if.end.i.i137, label %if.then93.list_del.exit_crit_edge

if.then93.list_del.exit_crit_edge:                ; preds = %if.then93
  call void @__sanitizer_cov_trace_pc() #17
  br label %list_del.exit

if.end.i.i137:                                    ; preds = %if.then93
  call void @__sanitizer_cov_trace_pc() #17
  %prev.i.i = getelementptr inbounds %struct.list_head, ptr %.pn, i32 0, i32 1
  %35 = ptrtoint ptr %prev.i.i to i32
  call void @__asan_load4_noabort(i32 %35)
  %36 = load ptr, ptr %prev.i.i, align 4
  %37 = ptrtoint ptr %.pn to i32
  call void @__asan_load4_noabort(i32 %37)
  %38 = load ptr, ptr %.pn, align 4
  %prev1.i.i.i = getelementptr inbounds %struct.list_head, ptr %38, i32 0, i32 1
  %39 = ptrtoint ptr %prev1.i.i.i to i32
  call void @__asan_store4_noabort(i32 %39)
  store ptr %36, ptr %prev1.i.i.i, align 4
  %40 = ptrtoint ptr %36 to i32
  call void @__asan_store4_noabort(i32 %40)
  store volatile ptr %38, ptr %36, align 4
  br label %list_del.exit

list_del.exit:                                    ; preds = %if.end.i.i137, %if.then93.list_del.exit_crit_edge
  %41 = ptrtoint ptr %.pn to i32
  call void @__asan_store4_noabort(i32 %41)
  store ptr inttoptr (i32 256 to ptr), ptr %.pn, align 4
  %prev.i = getelementptr inbounds %struct.list_head, ptr %.pn, i32 0, i32 1
  %42 = ptrtoint ptr %prev.i to i32
  call void @__asan_store4_noabort(i32 %42)
  store ptr inttoptr (i32 290 to ptr), ptr %prev.i, align 4
  tail call void @kfree(ptr noundef %unbound.0.le) #15
  br label %for.end

for.end:                                          ; preds = %list_del.exit, %for.cond.for.end_crit_edge
  tail call void @mutex_unlock(ptr noundef %unbound_lock) #15
  br label %sw.epilog

sw.epilog:                                        ; preds = %for.end, %if.then58, %do.body46, %vfio_group_nb_verify.exit.sw.epilog_crit_edge, %do.body26.sw.epilog_crit_edge, %if.then, %do.body, %dev_name.exit.i, %if.end38.i.sw.epilog_crit_edge, %if.then.i.i, %if.then10.i.i.i.i.i, %if.end5.i.i.i.i.i.sw.epilog_crit_edge, %entry.sw.epilog_crit_edge
  ret i32 1
}

; Function Attrs: null_pointer_is_valid
declare dso_local i32 @iommu_group_register_notifier(ptr noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local i32 @cdev_device_add(ptr noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local i32 @iommu_group_unregister_notifier(ptr noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @put_device(ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @device_initialize(ptr noundef) local_unnamed_addr #2

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal void @vfio_group_release(ptr noundef %dev) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %unbound_list = getelementptr inbounds %struct.vfio_group, ptr %dev, i32 0, i32 11
  %0 = ptrtoint ptr %unbound_list to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %unbound_list, align 8
  %cmp.not29 = icmp eq ptr %1, %unbound_list
  br i1 %cmp.not29, label %entry.for.end_crit_edge, label %entry.for.body_crit_edge

entry.for.body_crit_edge:                         ; preds = %entry
  br label %for.body

entry.for.end_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.end

for.body:                                         ; preds = %list_del.exit.for.body_crit_edge, %entry.for.body_crit_edge
  %.pn.in30 = phi ptr [ %.pn, %list_del.exit.for.body_crit_edge ], [ %1, %entry.for.body_crit_edge ]
  %unbound.0 = getelementptr i8, ptr %.pn.in30, i32 -4
  %2 = ptrtoint ptr %.pn.in30 to i32
  call void @__asan_load4_noabort(i32 %2)
  %.pn = load ptr, ptr %.pn.in30, align 4
  %call.i.i = tail call zeroext i1 @__list_del_entry_valid(ptr noundef %.pn.in30) #15
  br i1 %call.i.i, label %if.end.i.i, label %for.body.list_del.exit_crit_edge

for.body.list_del.exit_crit_edge:                 ; preds = %for.body
  call void @__sanitizer_cov_trace_pc() #17
  br label %list_del.exit

if.end.i.i:                                       ; preds = %for.body
  call void @__sanitizer_cov_trace_pc() #17
  %prev.i.i = getelementptr inbounds %struct.list_head, ptr %.pn.in30, i32 0, i32 1
  %3 = ptrtoint ptr %prev.i.i to i32
  call void @__asan_load4_noabort(i32 %3)
  %4 = load ptr, ptr %prev.i.i, align 4
  %5 = ptrtoint ptr %.pn.in30 to i32
  call void @__asan_load4_noabort(i32 %5)
  %6 = load ptr, ptr %.pn.in30, align 4
  %prev1.i.i.i = getelementptr inbounds %struct.list_head, ptr %6, i32 0, i32 1
  %7 = ptrtoint ptr %prev1.i.i.i to i32
  call void @__asan_store4_noabort(i32 %7)
  store ptr %4, ptr %prev1.i.i.i, align 4
  %8 = ptrtoint ptr %4 to i32
  call void @__asan_store4_noabort(i32 %8)
  store volatile ptr %6, ptr %4, align 4
  br label %list_del.exit

list_del.exit:                                    ; preds = %if.end.i.i, %for.body.list_del.exit_crit_edge
  %9 = ptrtoint ptr %.pn.in30 to i32
  call void @__asan_store4_noabort(i32 %9)
  store ptr inttoptr (i32 256 to ptr), ptr %.pn.in30, align 4
  %prev.i = getelementptr inbounds %struct.list_head, ptr %.pn.in30, i32 0, i32 1
  %10 = ptrtoint ptr %prev.i to i32
  call void @__asan_store4_noabort(i32 %10)
  store ptr inttoptr (i32 290 to ptr), ptr %prev.i, align 4
  tail call void @kfree(ptr noundef %unbound.0) #15
  %cmp.not = icmp eq ptr %.pn, %unbound_list
  br i1 %cmp.not, label %list_del.exit.for.end_crit_edge, label %list_del.exit.for.body_crit_edge

list_del.exit.for.body_crit_edge:                 ; preds = %list_del.exit
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.body

list_del.exit.for.end_crit_edge:                  ; preds = %list_del.exit
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.end

for.end:                                          ; preds = %list_del.exit.for.end_crit_edge, %entry.for.end_crit_edge
  %device_lock = getelementptr inbounds %struct.vfio_group, ptr %dev, i32 0, i32 7
  tail call void @mutex_destroy(ptr noundef %device_lock) #15
  %unbound_lock = getelementptr inbounds %struct.vfio_group, ptr %dev, i32 0, i32 12
  tail call void @mutex_destroy(ptr noundef %unbound_lock) #15
  %iommu_group = getelementptr inbounds %struct.vfio_group, ptr %dev, i32 0, i32 4
  %11 = ptrtoint ptr %iommu_group to i32
  call void @__asan_load4_noabort(i32 %11)
  %12 = load ptr, ptr %iommu_group, align 8
  tail call void @iommu_group_put(ptr noundef %12) #15
  %devt = getelementptr inbounds %struct.device, ptr %dev, i32 0, i32 29
  %13 = ptrtoint ptr %devt to i32
  call void @__asan_load4_noabort(i32 %13)
  %14 = load i32, ptr %devt, align 8
  %and = and i32 %14, 1048575
  tail call void @ida_free(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 5), i32 noundef %and) #15
  tail call void @kfree(ptr noundef %dev) #15
  ret void
}

; Function Attrs: null_pointer_is_valid
declare dso_local void @cdev_init(ptr noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @__init_waitqueue_head(ptr noundef, ptr noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local ptr @iommu_group_ref_get(ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @__init_rwsem(ptr noundef, ptr noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local i32 @ida_alloc_range(ptr noundef, i32 noundef, i32 noundef, i32 noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @ida_free(ptr noundef, i32 noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @__dynamic_dev_dbg(ptr noundef, ptr noundef, ptr noundef, ...) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local zeroext i1 @__kasan_check_read(ptr noundef, i32 noundef) local_unnamed_addr #2

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal i32 @vfio_dev_viable(ptr noundef %dev, ptr noundef %data) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %driver = getelementptr inbounds %struct.device, ptr %dev, i32 0, i32 6
  %0 = ptrtoint ptr %driver to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load volatile ptr, ptr %driver, align 4
  %unbound_lock = getelementptr inbounds %struct.vfio_group, ptr %data, i32 0, i32 12
  tail call void @mutex_lock_nested(ptr noundef %unbound_lock, i32 noundef 0) #15
  %unbound_list = getelementptr inbounds %struct.vfio_group, ptr %data, i32 0, i32 11
  br label %for.cond

for.cond:                                         ; preds = %for.body.for.cond_crit_edge, %entry
  %.pn.in = phi ptr [ %unbound_list, %entry ], [ %.pn, %for.body.for.cond_crit_edge ]
  %2 = ptrtoint ptr %.pn.in to i32
  call void @__asan_load4_noabort(i32 %2)
  %.pn = load ptr, ptr %.pn.in, align 4
  %cmp.not = icmp eq ptr %.pn, %unbound_list
  br i1 %cmp.not, label %for.cond.for.end_crit_edge, label %for.body

for.cond.for.end_crit_edge:                       ; preds = %for.cond
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.end

for.body:                                         ; preds = %for.cond
  %unbound.0 = getelementptr i8, ptr %.pn, i32 -4
  %3 = ptrtoint ptr %unbound.0 to i32
  call void @__asan_load4_noabort(i32 %3)
  %4 = load ptr, ptr %unbound.0, align 4
  %cmp4 = icmp eq ptr %4, %dev
  br i1 %cmp4, label %for.body.for.end_crit_edge, label %for.body.for.cond_crit_edge

for.body.for.cond_crit_edge:                      ; preds = %for.body
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.cond

for.body.for.end_crit_edge:                       ; preds = %for.body
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.end

for.end:                                          ; preds = %for.body.for.end_crit_edge, %for.cond.for.end_crit_edge
  %ret.0 = phi i32 [ -22, %for.cond.for.end_crit_edge ], [ 0, %for.body.for.end_crit_edge ]
  tail call void @mutex_unlock(ptr noundef %unbound_lock) #15
  %cmp.not.not = xor i1 %cmp.not, true
  %tobool11.not = icmp eq ptr %1, null
  %or.cond = select i1 %cmp.not.not, i1 true, i1 %tobool11.not
  br i1 %or.cond, label %for.end.cleanup_crit_edge, label %lor.lhs.false12

for.end.cleanup_crit_edge:                        ; preds = %for.end
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

lor.lhs.false12:                                  ; preds = %for.end
  %bus.i = getelementptr inbounds %struct.device, ptr %dev, i32 0, i32 5
  %5 = ptrtoint ptr %bus.i to i32
  call void @__asan_load4_noabort(i32 %5)
  %6 = load ptr, ptr %bus.i, align 8
  %cmp.i = icmp eq ptr %6, @pci_bus_type
  br i1 %cmp.i, label %if.then.i, label %lor.lhs.false12.vfio_dev_driver_allowed.exit_crit_edge

lor.lhs.false12.vfio_dev_driver_allowed.exit_crit_edge: ; preds = %lor.lhs.false12
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_dev_driver_allowed.exit

if.then.i:                                        ; preds = %lor.lhs.false12
  %hdr_type.i = getelementptr i8, ptr %dev, i32 -91
  %7 = ptrtoint ptr %hdr_type.i to i32
  call void @__asan_load1_noabort(i32 %7)
  %8 = load i8, ptr %hdr_type.i, align 1
  call void @__sanitizer_cov_trace_const_cmp1(i8 0, i8 %8)
  %cmp1.not.i = icmp eq i8 %8, 0
  br i1 %cmp1.not.i, label %if.then.i.vfio_dev_driver_allowed.exit_crit_edge, label %if.then.i.cleanup_crit_edge

if.then.i.cleanup_crit_edge:                      ; preds = %if.then.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.then.i.vfio_dev_driver_allowed.exit_crit_edge: ; preds = %if.then.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_dev_driver_allowed.exit

vfio_dev_driver_allowed.exit:                     ; preds = %if.then.i.vfio_dev_driver_allowed.exit_crit_edge, %lor.lhs.false12.vfio_dev_driver_allowed.exit_crit_edge
  %9 = ptrtoint ptr %1 to i32
  call void @__asan_load4_noabort(i32 %9)
  %10 = load ptr, ptr %1, align 4
  %call.i = tail call i32 @match_string(ptr noundef nonnull @vfio_driver_allowed, i32 noundef 1, ptr noundef %10) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 -1, i32 %call.i)
  %cmp5.i = icmp sgt i32 %call.i, -1
  br i1 %cmp5.i, label %vfio_dev_driver_allowed.exit.cleanup_crit_edge, label %if.end14

vfio_dev_driver_allowed.exit.cleanup_crit_edge:   ; preds = %vfio_dev_driver_allowed.exit
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end14:                                         ; preds = %vfio_dev_driver_allowed.exit
  %device_lock.i = getelementptr inbounds %struct.vfio_group, ptr %data, i32 0, i32 7
  tail call void @mutex_lock_nested(ptr noundef %device_lock.i, i32 noundef 0) #15
  %device_list.i = getelementptr inbounds %struct.vfio_group, ptr %data, i32 0, i32 6
  %11 = ptrtoint ptr %device_list.i to i32
  call void @__asan_load4_noabort(i32 %11)
  %.pn20.i = load ptr, ptr %device_list.i, align 4
  %cmp.not22.i = icmp eq ptr %.pn20.i, %device_list.i
  br i1 %cmp.not22.i, label %if.end14.vfio_group_get_device.exit.thread_crit_edge, label %if.end14.for.body.i_crit_edge

if.end14.for.body.i_crit_edge:                    ; preds = %if.end14
  br label %for.body.i

if.end14.vfio_group_get_device.exit.thread_crit_edge: ; preds = %if.end14
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_group_get_device.exit.thread

for.body.i:                                       ; preds = %for.inc.i.for.body.i_crit_edge, %if.end14.for.body.i_crit_edge
  %.pn23.i = phi ptr [ %.pn.i, %for.inc.i.for.body.i_crit_edge ], [ %.pn20.i, %if.end14.for.body.i_crit_edge ]
  %device.024.i = getelementptr i8, ptr %.pn23.i, i32 -88
  %12 = ptrtoint ptr %device.024.i to i32
  call void @__asan_load4_noabort(i32 %12)
  %13 = load ptr, ptr %device.024.i, align 4
  %cmp3.i = icmp eq ptr %13, %dev
  br i1 %cmp3.i, label %land.lhs.true.i, label %for.body.i.for.inc.i_crit_edge

for.body.i.for.inc.i_crit_edge:                   ; preds = %for.body.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.inc.i

land.lhs.true.i:                                  ; preds = %for.body.i
  %call.i35 = tail call fastcc zeroext i1 @vfio_device_try_get(ptr noundef %device.024.i) #15
  br i1 %call.i35, label %vfio_group_get_device.exit, label %land.lhs.true.i.for.inc.i_crit_edge

land.lhs.true.i.for.inc.i_crit_edge:              ; preds = %land.lhs.true.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.inc.i

for.inc.i:                                        ; preds = %land.lhs.true.i.for.inc.i_crit_edge, %for.body.i.for.inc.i_crit_edge
  %14 = ptrtoint ptr %.pn23.i to i32
  call void @__asan_load4_noabort(i32 %14)
  %.pn.i = load ptr, ptr %.pn23.i, align 4
  %cmp.not.i = icmp eq ptr %.pn.i, %device_list.i
  br i1 %cmp.not.i, label %for.inc.i.vfio_group_get_device.exit.thread_crit_edge, label %for.inc.i.for.body.i_crit_edge

for.inc.i.for.body.i_crit_edge:                   ; preds = %for.inc.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.body.i

for.inc.i.vfio_group_get_device.exit.thread_crit_edge: ; preds = %for.inc.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_group_get_device.exit.thread

vfio_group_get_device.exit.thread:                ; preds = %for.inc.i.vfio_group_get_device.exit.thread_crit_edge, %if.end14.vfio_group_get_device.exit.thread_crit_edge
  tail call void @mutex_unlock(ptr noundef %device_lock.i) #15
  br label %cleanup

vfio_group_get_device.exit:                       ; preds = %land.lhs.true.i
  tail call void @mutex_unlock(ptr noundef %device_lock.i) #15
  %tobool16.not = icmp eq ptr %device.024.i, null
  br i1 %tobool16.not, label %vfio_group_get_device.exit.cleanup_crit_edge, label %if.then17

vfio_group_get_device.exit.cleanup_crit_edge:     ; preds = %vfio_group_get_device.exit
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.then17:                                        ; preds = %vfio_group_get_device.exit
  %refcount.i = getelementptr i8, ptr %.pn23.i, i32 -64
  %call.i.i.i.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %refcount.i, i32 noundef 4) #15
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !221
  tail call void @llvm.prefetch.p0(ptr %refcount.i, i32 1, i32 3, i32 1) #15
  %15 = tail call { i32, i32, i32 } asm sideeffect "@ atomic_fetch_sub\0A1:\09ldrex\09$0, [$4]\0A\09sub\09$1, $0, $5\0A\09strex\09$2, $1, [$4]\0A\09teq\09$2, #0\0A\09bne\091b", "=&r,=&r,=&r,=*Qo,r,Ir,*Qo,~{cc}"(ptr elementtype(i32) %refcount.i, ptr %refcount.i, i32 1, ptr elementtype(i32) %refcount.i) #15, !srcloc !222
  %asmresult.i.i.i.i.i.i.i = extractvalue { i32, i32, i32 } %15, 0
  call void @__sanitizer_cov_trace_const_cmp4(i32 1, i32 %asmresult.i.i.i.i.i.i.i)
  %cmp.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i, label %if.then.i36, label %if.end5.i.i.i.i

if.end5.i.i.i.i:                                  ; preds = %if.then17
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %asmresult.i.i.i.i.i.i.i)
  %.not.i.i.i.i = icmp sgt i32 %asmresult.i.i.i.i.i.i.i, 0
  br i1 %.not.i.i.i.i, label %if.end5.i.i.i.i.cleanup_crit_edge, label %if.then10.i.i.i.i, !prof !223

if.end5.i.i.i.i.cleanup_crit_edge:                ; preds = %if.end5.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.then10.i.i.i.i:                                ; preds = %if.end5.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  tail call void @refcount_warn_saturate(ptr noundef %refcount.i, i32 noundef 3) #15
  br label %cleanup

if.then.i36:                                      ; preds = %if.then17
  call void @__sanitizer_cov_trace_pc() #17
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !224
  %comp.i = getelementptr i8, ptr %.pn23.i, i32 -56
  tail call void @complete(ptr noundef %comp.i) #15
  br label %cleanup

cleanup:                                          ; preds = %if.then.i36, %if.then10.i.i.i.i, %if.end5.i.i.i.i.cleanup_crit_edge, %vfio_group_get_device.exit.cleanup_crit_edge, %vfio_group_get_device.exit.thread, %vfio_dev_driver_allowed.exit.cleanup_crit_edge, %if.then.i.cleanup_crit_edge, %for.end.cleanup_crit_edge
  %retval.0 = phi i32 [ 0, %vfio_dev_driver_allowed.exit.cleanup_crit_edge ], [ 0, %for.end.cleanup_crit_edge ], [ %ret.0, %vfio_group_get_device.exit.cleanup_crit_edge ], [ %ret.0, %vfio_group_get_device.exit.thread ], [ 0, %if.end5.i.i.i.i.cleanup_crit_edge ], [ 0, %if.then10.i.i.i.i ], [ 0, %if.then.i36 ], [ 0, %if.then.i.cleanup_crit_edge ]
  ret i32 %retval.0
}

; Function Attrs: null_pointer_is_valid
declare dso_local i32 @match_string(ptr noundef, i32 noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local ptr @iommu_group_alloc() local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local i32 @iommu_group_set_name(ptr noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local i32 @iommu_group_add_device(ptr noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal fastcc zeroext i1 @vfio_device_try_get(ptr noundef %device) unnamed_addr #0 align 64 {
entry:
  %old.i.i.i = alloca i32, align 4
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %refcount = getelementptr inbounds %struct.vfio_device, ptr %device, i32 0, i32 5
  call void @llvm.lifetime.start.p0(i64 4, ptr nonnull %old.i.i.i) #15
  %call.i.i.i.i.i.i = tail call zeroext i1 @__kasan_check_read(ptr noundef %refcount, i32 noundef 4) #15
  %0 = ptrtoint ptr %refcount to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load volatile i32, ptr %refcount, align 4
  br label %do.body.i.i.i

do.body.i.i.i:                                    ; preds = %arch_atomic_cmpxchg_relaxed.exit.i.i.i.i.i.do.body.i.i.i_crit_edge, %entry
  %2 = phi i32 [ %1, %entry ], [ %asmresult3.i.i.i.i.i.i, %arch_atomic_cmpxchg_relaxed.exit.i.i.i.i.i.do.body.i.i.i_crit_edge ]
  %3 = ptrtoint ptr %old.i.i.i to i32
  call void @__asan_store4_noabort(i32 %3)
  store i32 %2, ptr %old.i.i.i, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %2)
  %tobool.not.i.i.i = icmp eq i32 %2, 0
  br i1 %tobool.not.i.i.i, label %do.body.i.i.i.if.end4.i.i.i_crit_edge, label %do.cond.i.i.i

do.body.i.i.i.if.end4.i.i.i_crit_edge:            ; preds = %do.body.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end4.i.i.i

do.cond.i.i.i:                                    ; preds = %do.body.i.i.i
  %add.i.i.i = add i32 %2, 1
  %call.i.i.i.i.i = call zeroext i1 @__kasan_check_write(ptr noundef %refcount, i32 noundef 4) #15
  %call.i3.i.i.i.i = call zeroext i1 @__kasan_check_write(ptr noundef nonnull %old.i.i.i, i32 noundef 4) #15
  %4 = ptrtoint ptr %old.i.i.i to i32
  call void @__asan_load4_noabort(i32 %4)
  %5 = load i32, ptr %old.i.i.i, align 4
  call void @llvm.prefetch.p0(ptr %refcount, i32 1, i32 3, i32 1) #15
  br label %do.body.i.i.i.i.i.i

do.body.i.i.i.i.i.i:                              ; preds = %do.body.i.i.i.i.i.i.do.body.i.i.i.i.i.i_crit_edge, %do.cond.i.i.i
  %6 = call { i32, i32 } asm sideeffect "@ atomic_cmpxchg\0Aldrex\09$1, [$3]\0Amov\09$0, #0\0Ateq\09$1, $4\0Astrexeq $0, $5, [$3]\0A", "=&r,=&r,=*Qo,r,Ir,r,*Qo,~{cc}"(ptr elementtype(i32) %refcount, ptr %refcount, i32 %5, i32 %add.i.i.i, ptr elementtype(i32) %refcount) #15, !srcloc !232
  %asmresult.i.i.i.i.i.i = extractvalue { i32, i32 } %6, 0
  %tobool.not.i.i.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i.i.i, 0
  br i1 %tobool.not.i.i.i.i.i.i, label %arch_atomic_cmpxchg_relaxed.exit.i.i.i.i.i, label %do.body.i.i.i.i.i.i.do.body.i.i.i.i.i.i_crit_edge

do.body.i.i.i.i.i.i.do.body.i.i.i.i.i.i_crit_edge: ; preds = %do.body.i.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body.i.i.i.i.i.i

arch_atomic_cmpxchg_relaxed.exit.i.i.i.i.i:       ; preds = %do.body.i.i.i.i.i.i
  %asmresult3.i.i.i.i.i.i = extractvalue { i32, i32 } %6, 1
  %cmp.not.i.i.i.i.i = icmp eq i32 %asmresult3.i.i.i.i.i.i, %5
  br i1 %cmp.not.i.i.i.i.i, label %arch_atomic_cmpxchg_relaxed.exit.i.i.i.i.i.if.end4.i.i.i_crit_edge, label %arch_atomic_cmpxchg_relaxed.exit.i.i.i.i.i.do.body.i.i.i_crit_edge, !prof !223

arch_atomic_cmpxchg_relaxed.exit.i.i.i.i.i.do.body.i.i.i_crit_edge: ; preds = %arch_atomic_cmpxchg_relaxed.exit.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body.i.i.i

arch_atomic_cmpxchg_relaxed.exit.i.i.i.i.i.if.end4.i.i.i_crit_edge: ; preds = %arch_atomic_cmpxchg_relaxed.exit.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end4.i.i.i

if.end4.i.i.i:                                    ; preds = %arch_atomic_cmpxchg_relaxed.exit.i.i.i.i.i.if.end4.i.i.i_crit_edge, %do.body.i.i.i.if.end4.i.i.i_crit_edge
  %7 = ptrtoint ptr %old.i.i.i to i32
  call void @__asan_load4_noabort(i32 %7)
  %8 = load i32, ptr %old.i.i.i, align 4
  %add5.i.i.i = add i32 %8, 1
  %9 = or i32 %add5.i.i.i, %8
  call void @__sanitizer_cov_trace_const_cmp4(i32 -1, i32 %9)
  %.not.i.i.i = icmp sgt i32 %9, -1
  br i1 %.not.i.i.i, label %if.end4.i.i.i.refcount_inc_not_zero.exit_crit_edge, label %if.then10.i.i.i, !prof !223

if.end4.i.i.i.refcount_inc_not_zero.exit_crit_edge: ; preds = %if.end4.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %refcount_inc_not_zero.exit

if.then10.i.i.i:                                  ; preds = %if.end4.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  call void @refcount_warn_saturate(ptr noundef %refcount, i32 noundef 0) #15
  br label %refcount_inc_not_zero.exit

refcount_inc_not_zero.exit:                       ; preds = %if.then10.i.i.i, %if.end4.i.i.i.refcount_inc_not_zero.exit_crit_edge
  %10 = ptrtoint ptr %old.i.i.i to i32
  call void @__asan_load4_noabort(i32 %10)
  %11 = load i32, ptr %old.i.i.i, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %11)
  %tobool12.i.i.i = icmp ne i32 %11, 0
  call void @llvm.lifetime.end.p0(i64 4, ptr nonnull %old.i.i.i) #15
  ret i1 %tobool12.i.i.i
}

; Function Attrs: null_pointer_is_valid
declare dso_local zeroext i1 @refcount_dec_and_mutex_lock(ptr noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @cdev_device_del(ptr noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: nounwind readonly
declare i32 @llvm.read_register.i32(metadata) #11

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal i32 @vfio_group_fops_unl_ioctl(ptr nocapture noundef readonly %filep, i32 noundef %cmd, i32 noundef %arg) #0 align 64 {
entry:
  %status = alloca %struct.vfio_group_status, align 4
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %private_data = getelementptr inbounds %struct.file, ptr %filep, i32 0, i32 16
  %0 = ptrtoint ptr %private_data to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %private_data, align 4
  %2 = zext i32 %cmd to i64
  call void @__sanitizer_cov_trace_switch(i64 %2, ptr @__sancov_gen_cov_switch_values.54)
  switch i32 %cmd, label %entry.sw.epilog_crit_edge [
    i32 15207, label %sw.bb
    i32 15208, label %sw.bb17
    i32 15209, label %sw.bb30
    i32 15210, label %sw.bb32
  ]

entry.sw.epilog_crit_edge:                        ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

sw.bb:                                            ; preds = %entry
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %status) #15
  %3 = ptrtoint ptr %status to i32
  call void @__asan_store4_noabort(i32 %3)
  store i32 -1, ptr %status, align 4, !annotation !236
  %4 = getelementptr inbounds %struct.vfio_group_status, ptr %status, i32 0, i32 1
  %5 = ptrtoint ptr %4 to i32
  call void @__asan_store4_noabort(i32 %5)
  store i32 -1, ptr %4, align 4, !annotation !236
  %6 = inttoptr i32 %arg to ptr
  tail call void @__might_fault(ptr noundef nonnull @.str.34, i32 noundef 156) #15
  %call.i.i = tail call zeroext i1 @should_fail_usercopy() #15
  br i1 %call.i.i, label %sw.bb.if.then11.i.i_crit_edge, label %land.lhs.true.i.i

sw.bb.if.then11.i.i_crit_edge:                    ; preds = %sw.bb
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.then11.i.i

land.lhs.true.i.i:                                ; preds = %sw.bb
  %7 = tail call { i32, i32 } asm ".syntax unified\0Aadds $1, $2, $3; sbcscc $1, $1, $0; movcc $0, #0", "=&r,=&r,r,Ir,0,~{cc}"(ptr %6, i32 8, i32 -1226833920) #21
  %asmresult.i.i = extractvalue { i32, i32 } %7, 0
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %asmresult.i.i)
  %cmp.i.i = icmp eq i32 %asmresult.i.i, 0
  br i1 %cmp.i.i, label %if.end.i.i, label %land.lhs.true.i.i.if.then11.i.i_crit_edge, !prof !223

land.lhs.true.i.i.if.then11.i.i_crit_edge:        ; preds = %land.lhs.true.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.then11.i.i

if.end.i.i:                                       ; preds = %land.lhs.true.i.i
  %call.i.i.i = call zeroext i1 @__kasan_check_write(ptr noundef nonnull %status, i32 noundef 8) #15
  %8 = call i32 @llvm.read_register.i32(metadata !210) #15
  %and.i.i.i.i.i.i = and i32 %8, -16384
  %9 = inttoptr i32 %and.i.i.i.i.i.i to ptr
  %cpu_domain.i.i.i.i.i = getelementptr inbounds %struct.thread_info, ptr %9, i32 0, i32 4
  %10 = call i32 asm "mrc\09p15, 0, $0, c3, c0\09@ get domain", "=r,*m"(ptr elementtype(i32) %cpu_domain.i.i.i.i.i) #11, !srcloc !237
  %and.i.i.i.i = and i32 %10, -13
  %or.i.i.i.i = or i32 %and.i.i.i.i, 4
  call void asm sideeffect "mcr\09p15, 0, $0, c3, c0\09@ set domain", "r,~{memory}"(i32 %or.i.i.i.i) #15, !srcloc !238
  call void asm sideeffect "mcr p15, 0, $0, c7, c5, 4", "r,~{memory}"(i32 0) #15, !srcloc !239
  %call1.i.i.i = call i32 @arm_copy_from_user(ptr noundef nonnull %status, ptr noundef %6, i32 noundef 8) #15
  call void asm sideeffect "mcr\09p15, 0, $0, c3, c0\09@ set domain", "r,~{memory}"(i32 %10) #15, !srcloc !238
  call void asm sideeffect "mcr p15, 0, $0, c7, c5, 4", "r,~{memory}"(i32 0) #15, !srcloc !239
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call1.i.i.i)
  %tobool4.not.i.i = icmp eq i32 %call1.i.i.i, 0
  br i1 %tobool4.not.i.i, label %if.end, label %if.end.i.i.if.then11.i.i_crit_edge, !prof !223

if.end.i.i.if.then11.i.i_crit_edge:               ; preds = %if.end.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.then11.i.i

if.then11.i.i:                                    ; preds = %if.end.i.i.if.then11.i.i_crit_edge, %land.lhs.true.i.i.if.then11.i.i_crit_edge, %sw.bb.if.then11.i.i_crit_edge
  %res.03.i.i = phi i32 [ %call1.i.i.i, %if.end.i.i.if.then11.i.i_crit_edge ], [ 8, %sw.bb.if.then11.i.i_crit_edge ], [ 8, %land.lhs.true.i.i.if.then11.i.i_crit_edge ]
  %sub.i.i = sub i32 8, %res.03.i.i
  %add.ptr.i.i = getelementptr i8, ptr %status, i32 %sub.i.i
  %11 = call ptr @memset(ptr %add.ptr.i.i, i32 0, i32 %res.03.i.i)
  br label %cleanup.thread

if.end:                                           ; preds = %if.end.i.i
  %12 = ptrtoint ptr %status to i32
  call void @__asan_load4_noabort(i32 %12)
  %13 = load i32, ptr %status, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 8, i32 %13)
  %cmp = icmp ult i32 %13, 8
  br i1 %cmp, label %if.end.cleanup.thread_crit_edge, label %if.end2

if.end.cleanup.thread_crit_edge:                  ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup.thread

if.end2:                                          ; preds = %if.end
  %14 = ptrtoint ptr %4 to i32
  call void @__asan_store4_noabort(i32 %14)
  store i32 0, ptr %4, align 4
  %iommu_group.i = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 4
  %15 = ptrtoint ptr %iommu_group.i to i32
  call void @__asan_load4_noabort(i32 %15)
  %16 = load ptr, ptr %iommu_group.i, align 8
  %call.i = call i32 @iommu_group_for_each_dev(ptr noundef %16, ptr noundef %1, ptr noundef nonnull @vfio_dev_viable) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call.i)
  %cmp.i = icmp eq i32 %call.i, 0
  br i1 %cmp.i, label %if.then4, label %if.end2.if.end6_crit_edge

if.end2.if.end6_crit_edge:                        ; preds = %if.end2
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end6

if.then4:                                         ; preds = %if.end2
  call void @__sanitizer_cov_trace_pc() #17
  %17 = ptrtoint ptr %4 to i32
  call void @__asan_load4_noabort(i32 %17)
  %18 = load i32, ptr %4, align 4
  %or = or i32 %18, 1
  store i32 %or, ptr %4, align 4
  br label %if.end6

if.end6:                                          ; preds = %if.then4, %if.end2.if.end6_crit_edge
  %container = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 5
  %19 = ptrtoint ptr %container to i32
  call void @__asan_load4_noabort(i32 %19)
  %20 = load ptr, ptr %container, align 4
  %tobool7.not = icmp eq ptr %20, null
  br i1 %tobool7.not, label %if.end6.if.then.i65_crit_edge, label %if.then8

if.end6.if.then.i65_crit_edge:                    ; preds = %if.end6
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.then.i65

if.then8:                                         ; preds = %if.end6
  call void @__sanitizer_cov_trace_pc() #17
  %21 = ptrtoint ptr %4 to i32
  call void @__asan_load4_noabort(i32 %21)
  %22 = load i32, ptr %4, align 4
  %or10 = or i32 %22, 2
  store i32 %or10, ptr %4, align 4
  br label %if.then.i65

if.then.i65:                                      ; preds = %if.then8, %if.end6.if.then.i65_crit_edge
  call void @__might_fault(ptr noundef nonnull @.str.34, i32 noundef 174) #15
  %call.i.i64 = call zeroext i1 @should_fail_usercopy() #15
  br i1 %call.i.i64, label %cleanup.thread107, label %cleanup

cleanup.thread:                                   ; preds = %if.end.cleanup.thread_crit_edge, %if.then11.i.i
  %retval.0.ph = phi i32 [ -22, %if.end.cleanup.thread_crit_edge ], [ -14, %if.then11.i.i ]
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %status) #15
  br label %cleanup41

cleanup.thread107:                                ; preds = %if.then.i65
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %status) #15
  br label %cleanup41

cleanup:                                          ; preds = %if.then.i65
  %call.i.i.i69 = call zeroext i1 @__kasan_check_read(ptr noundef nonnull %status, i32 noundef 8) #15
  %call.i1.i.i = call i32 @arm_copy_to_user(ptr noundef %6, ptr noundef nonnull %status, i32 noundef 8) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call.i1.i.i)
  %tobool13.not = icmp eq i32 %call.i1.i.i, 0
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %status) #15
  br i1 %tobool13.not, label %cleanup.sw.epilog_crit_edge, label %cleanup.cleanup41_crit_edge

cleanup.cleanup41_crit_edge:                      ; preds = %cleanup
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup41

cleanup.sw.epilog_crit_edge:                      ; preds = %cleanup
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

sw.bb17:                                          ; preds = %entry
  tail call void @__might_fault(ptr noundef nonnull @.str, i32 noundef 1449) #15
  %23 = inttoptr i32 %arg to ptr
  %24 = tail call i32 @llvm.read_register.i32(metadata !210) #15
  %and.i.i.i = and i32 %24, -16384
  %25 = inttoptr i32 %and.i.i.i to ptr
  %cpu_domain.i.i = getelementptr inbounds %struct.thread_info, ptr %25, i32 0, i32 4
  %26 = tail call i32 asm "mrc\09p15, 0, $0, c3, c0\09@ get domain", "=r,*m"(ptr elementtype(i32) %cpu_domain.i.i) #11, !srcloc !237
  %and.i = and i32 %26, -13
  %or.i = or i32 %and.i, 4
  tail call void asm sideeffect "mcr\09p15, 0, $0, c3, c0\09@ set domain", "r,~{memory}"(i32 %or.i) #15, !srcloc !238
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c5, 4", "r,~{memory}"(i32 0) #15, !srcloc !239
  %27 = tail call { i32, i32 } asm sideeffect ".ifnc $0,r0; .ifnc $0r0,fpr11; .ifnc $0r0,r11fp; .ifnc $0r0,ipr12; .ifnc $0r0,r12ip; .err; .endif; .endif; .endif; .endif; .endif\0A\09.ifnc $1,r2; .ifnc $1r2,fpr11; .ifnc $1r2,r11fp; .ifnc $1r2,ipr12; .ifnc $1r2,r12ip; .err; .endif; .endif; .endif; .endif; .endif\0A\09.ifnc $3,r1; .ifnc $3r1,fpr11; .ifnc $3r1,r11fp; .ifnc $3r1,ipr12; .ifnc $3r1,r12ip; .err; .endif; .endif; .endif; .endif; .endif\0A\09bl\09__get_user_4", "=&{r0},={r2},{r0},{r1},~{lr},~{cc}"(ptr %23, i32 -1226833921) #15, !srcloc !240
  %asmresult = extractvalue { i32, i32 } %27, 0
  %asmresult19 = extractvalue { i32, i32 } %27, 1
  tail call void asm sideeffect "mcr\09p15, 0, $0, c3, c0\09@ set domain", "r,~{memory}"(i32 %26) #15, !srcloc !238
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c5, 4", "r,~{memory}"(i32 0) #15, !srcloc !239
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %asmresult)
  %tobool21.not = icmp eq i32 %asmresult, 0
  br i1 %tobool21.not, label %if.end23, label %sw.bb17.cleanup41_crit_edge

sw.bb17.cleanup41_crit_edge:                      ; preds = %sw.bb17
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup41

if.end23:                                         ; preds = %sw.bb17
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %asmresult19)
  %cmp24 = icmp slt i32 %asmresult19, 0
  br i1 %cmp24, label %if.end23.cleanup41_crit_edge, label %if.end26

if.end23.cleanup41_crit_edge:                     ; preds = %if.end23
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup41

if.end26:                                         ; preds = %if.end23
  %container_users.i = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 3
  %call.i.i.i71 = tail call zeroext i1 @__kasan_check_read(ptr noundef %container_users.i, i32 noundef 4) #15
  %28 = ptrtoint ptr %container_users.i to i32
  call void @__asan_load4_noabort(i32 %28)
  %29 = load volatile i32, ptr %container_users.i, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %29)
  %tobool.not.i = icmp eq i32 %29, 0
  br i1 %tobool.not.i, label %if.end.i, label %if.end26.sw.epilog_crit_edge

if.end26.sw.epilog_crit_edge:                     ; preds = %if.end26
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

if.end.i:                                         ; preds = %if.end26
  %type.i = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 15
  %30 = ptrtoint ptr %type.i to i32
  call void @__asan_load4_noabort(i32 %30)
  %31 = load i32, ptr %type.i, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 2, i32 %31)
  %cmp.i72 = icmp eq i32 %31, 2
  br i1 %cmp.i72, label %land.lhs.true.i, label %if.end.i.if.end3.i_crit_edge

if.end.i.if.end3.i_crit_edge:                     ; preds = %if.end.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end3.i

land.lhs.true.i:                                  ; preds = %if.end.i
  %call1.i = tail call zeroext i1 @capable(i32 noundef 17) #15
  br i1 %call1.i, label %land.lhs.true.i.if.end3.i_crit_edge, label %land.lhs.true.i.sw.epilog_crit_edge

land.lhs.true.i.sw.epilog_crit_edge:              ; preds = %land.lhs.true.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

land.lhs.true.i.if.end3.i_crit_edge:              ; preds = %land.lhs.true.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end3.i

if.end3.i:                                        ; preds = %land.lhs.true.i.if.end3.i_crit_edge, %if.end.i.if.end3.i_crit_edge
  %call.i.i73 = tail call i32 @__fdget(i32 noundef %asmresult19) #15, !noalias !241
  %and.i.i.i74 = and i32 %call.i.i73, -4
  %32 = inttoptr i32 %and.i.i.i74 to ptr
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %and.i.i.i74)
  %tobool4.not.i = icmp eq i32 %and.i.i.i74, 0
  br i1 %tobool4.not.i, label %if.end3.i.sw.epilog_crit_edge, label %if.end6.i

if.end3.i.sw.epilog_crit_edge:                    ; preds = %if.end3.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

if.end6.i:                                        ; preds = %if.end3.i
  %f_op.i = getelementptr inbounds %struct.file, ptr %32, i32 0, i32 3
  %33 = ptrtoint ptr %f_op.i to i32
  call void @__asan_load4_noabort(i32 %33)
  %34 = load ptr, ptr %f_op.i, align 4
  %cmp8.not.i = icmp eq ptr %34, @vfio_fops
  br i1 %cmp8.not.i, label %if.end10.i, label %if.then9.i

if.then9.i:                                       ; preds = %if.end6.i
  %and.i.i = and i32 %call.i.i73, 1
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %and.i.i)
  %tobool.not.i.i = icmp eq i32 %and.i.i, 0
  br i1 %tobool.not.i.i, label %if.then9.i.sw.epilog_crit_edge, label %if.then9.i.cleanup.sink.split.i_crit_edge

if.then9.i.cleanup.sink.split.i_crit_edge:        ; preds = %if.then9.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup.sink.split.i

if.then9.i.sw.epilog_crit_edge:                   ; preds = %if.then9.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

if.end10.i:                                       ; preds = %if.end6.i
  %private_data.i = getelementptr inbounds %struct.file, ptr %32, i32 0, i32 16
  %35 = ptrtoint ptr %private_data.i to i32
  call void @__asan_load4_noabort(i32 %35)
  %36 = load ptr, ptr %private_data.i, align 4
  %tobool12.not.i = icmp eq ptr %36, null
  br i1 %tobool12.not.i, label %do.end.i, label %if.end10.i.if.end28.i_crit_edge, !prof !220

if.end10.i.if.end28.i_crit_edge:                  ; preds = %if.end10.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end28.i

do.end.i:                                         ; preds = %if.end10.i
  call void @__sanitizer_cov_trace_pc() #17
  tail call void (ptr, i32, i32, ptr, ...) @warn_slowpath_fmt(ptr noundef nonnull @.str, i32 noundef 1274, i32 noundef 9, ptr noundef null) #15
  br label %if.end28.i

if.end28.i:                                       ; preds = %do.end.i, %if.end10.i.if.end28.i_crit_edge
  %group_lock.i = getelementptr inbounds %struct.vfio_container, ptr %36, i32 0, i32 2
  tail call void @down_write(ptr noundef %group_lock.i) #15
  %group_list.i = getelementptr inbounds %struct.vfio_container, ptr %36, i32 0, i32 1
  %37 = ptrtoint ptr %group_list.i to i32
  call void @__asan_load4_noabort(i32 %37)
  %38 = load volatile ptr, ptr %group_list.i, align 4
  %cmp.i.not.i = icmp eq ptr %38, %group_list.i
  br i1 %cmp.i.not.i, label %if.end28.i.if.end46.i_crit_edge, label %land.lhs.true38.i

if.end28.i.if.end46.i_crit_edge:                  ; preds = %if.end28.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end46.i

land.lhs.true38.i:                                ; preds = %if.end28.i
  %noiommu.i = getelementptr inbounds %struct.vfio_container, ptr %36, i32 0, i32 5
  %39 = ptrtoint ptr %noiommu.i to i32
  call void @__asan_load1_noabort(i32 %39)
  %40 = load i8, ptr %noiommu.i, align 4, !range !225
  %41 = ptrtoint ptr %type.i to i32
  call void @__asan_load4_noabort(i32 %41)
  %42 = load i32, ptr %type.i, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 2, i32 %42)
  %cmp41.i = icmp eq i32 %42, 2
  %43 = zext i1 %cmp41.i to i8
  call void @__sanitizer_cov_trace_cmp1(i8 %40, i8 %43)
  %cmp43.not.i = icmp eq i8 %40, %43
  br i1 %cmp43.not.i, label %land.lhs.true38.i.if.end46.i_crit_edge, label %land.lhs.true38.i.unlock_out.i_crit_edge

land.lhs.true38.i.unlock_out.i_crit_edge:         ; preds = %land.lhs.true38.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %unlock_out.i

land.lhs.true38.i.if.end46.i_crit_edge:           ; preds = %land.lhs.true38.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end46.i

if.end46.i:                                       ; preds = %land.lhs.true38.i.if.end46.i_crit_edge, %if.end28.i.if.end46.i_crit_edge
  %iommu_driver.i = getelementptr inbounds %struct.vfio_container, ptr %36, i32 0, i32 3
  %44 = ptrtoint ptr %iommu_driver.i to i32
  call void @__asan_load4_noabort(i32 %44)
  %45 = load ptr, ptr %iommu_driver.i, align 4
  %tobool47.not.i = icmp eq ptr %45, null
  br i1 %tobool47.not.i, label %if.end46.i.if.end54.i_crit_edge, label %if.then48.i

if.end46.i.if.end54.i_crit_edge:                  ; preds = %if.end46.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end54.i

if.then48.i:                                      ; preds = %if.end46.i
  %46 = ptrtoint ptr %45 to i32
  call void @__asan_load4_noabort(i32 %46)
  %47 = load ptr, ptr %45, align 4
  %attach_group.i = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %47, i32 0, i32 5
  %48 = ptrtoint ptr %attach_group.i to i32
  call void @__asan_load4_noabort(i32 %48)
  %49 = load ptr, ptr %attach_group.i, align 4
  %iommu_data.i = getelementptr inbounds %struct.vfio_container, ptr %36, i32 0, i32 4
  %50 = ptrtoint ptr %iommu_data.i to i32
  call void @__asan_load4_noabort(i32 %50)
  %51 = load ptr, ptr %iommu_data.i, align 4
  %iommu_group.i75 = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 4
  %52 = ptrtoint ptr %iommu_group.i75 to i32
  call void @__asan_load4_noabort(i32 %52)
  %53 = load ptr, ptr %iommu_group.i75, align 8
  %54 = ptrtoint ptr %type.i to i32
  call void @__asan_load4_noabort(i32 %54)
  %55 = load i32, ptr %type.i, align 4
  %call50.i = tail call i32 %49(ptr noundef %51, ptr noundef %53, i32 noundef %55) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call50.i)
  %tobool51.not.i = icmp eq i32 %call50.i, 0
  br i1 %tobool51.not.i, label %if.then48.i.if.end54.i_crit_edge, label %if.then48.i.unlock_out.i_crit_edge

if.then48.i.unlock_out.i_crit_edge:               ; preds = %if.then48.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %unlock_out.i

if.then48.i.if.end54.i_crit_edge:                 ; preds = %if.then48.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end54.i

if.end54.i:                                       ; preds = %if.then48.i.if.end54.i_crit_edge, %if.end46.i.if.end54.i_crit_edge
  %container55.i = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 5
  %56 = ptrtoint ptr %container55.i to i32
  call void @__asan_store4_noabort(i32 %56)
  store ptr %36, ptr %container55.i, align 4
  %57 = ptrtoint ptr %type.i to i32
  call void @__asan_load4_noabort(i32 %57)
  %58 = load i32, ptr %type.i, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 2, i32 %58)
  %cmp57.i = icmp eq i32 %58, 2
  %noiommu59.i = getelementptr inbounds %struct.vfio_container, ptr %36, i32 0, i32 5
  %frombool.i = zext i1 %cmp57.i to i8
  %59 = ptrtoint ptr %noiommu59.i to i32
  call void @__asan_store1_noabort(i32 %59)
  store i8 %frombool.i, ptr %noiommu59.i, align 4
  %container_next.i = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 10
  %60 = ptrtoint ptr %group_list.i to i32
  call void @__asan_load4_noabort(i32 %60)
  %61 = load ptr, ptr %group_list.i, align 4
  %call.i.i97.i = tail call zeroext i1 @__list_add_valid(ptr noundef %container_next.i, ptr noundef %group_list.i, ptr noundef %61) #15
  br i1 %call.i.i97.i, label %if.end.i.i.i, label %if.end54.i.list_add.exit.i_crit_edge

if.end54.i.list_add.exit.i_crit_edge:             ; preds = %if.end54.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %list_add.exit.i

if.end.i.i.i:                                     ; preds = %if.end54.i
  call void @__sanitizer_cov_trace_pc() #17
  %prev1.i.i.i = getelementptr inbounds %struct.list_head, ptr %61, i32 0, i32 1
  %62 = ptrtoint ptr %prev1.i.i.i to i32
  call void @__asan_store4_noabort(i32 %62)
  store ptr %container_next.i, ptr %prev1.i.i.i, align 4
  %63 = ptrtoint ptr %container_next.i to i32
  call void @__asan_store4_noabort(i32 %63)
  store ptr %61, ptr %container_next.i, align 4
  %prev3.i.i.i = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 10, i32 1
  %64 = ptrtoint ptr %prev3.i.i.i to i32
  call void @__asan_store4_noabort(i32 %64)
  store ptr %group_list.i, ptr %prev3.i.i.i, align 4
  %65 = ptrtoint ptr %group_list.i to i32
  call void @__asan_store4_noabort(i32 %65)
  store volatile ptr %container_next.i, ptr %group_list.i, align 4
  br label %list_add.exit.i

list_add.exit.i:                                  ; preds = %if.end.i.i.i, %if.end54.i.list_add.exit.i_crit_edge
  %call.i.i.i.i.i.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %36, i32 noundef 4) #15
  tail call void @llvm.prefetch.p0(ptr %36, i32 1, i32 3, i32 1) #15
  %66 = tail call { i32, i32, i32 } asm sideeffect "@ atomic_fetch_add\0A1:\09ldrex\09$0, [$4]\0A\09add\09$1, $0, $5\0A\09strex\09$2, $1, [$4]\0A\09teq\09$2, #0\0A\09bne\091b", "=&r,=&r,=&r,=*Qo,r,Ir,*Qo,~{cc}"(ptr elementtype(i32) %36, ptr %36, i32 1, ptr elementtype(i32) %36) #15, !srcloc !226
  %asmresult.i.i.i.i.i.i.i.i = extractvalue { i32, i32, i32 } %66, 0
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %asmresult.i.i.i.i.i.i.i.i)
  %tobool1.not.i.i.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i.i.i.i.i, 0
  br i1 %tobool1.not.i.i.i.i.i.i, label %list_add.exit.i.if.end15.sink.split.i.i.i.i.i.i_crit_edge, label %if.else.i.i.i.i.i.i, !prof !220

list_add.exit.i.if.end15.sink.split.i.i.i.i.i.i_crit_edge: ; preds = %list_add.exit.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end15.sink.split.i.i.i.i.i.i

if.else.i.i.i.i.i.i:                              ; preds = %list_add.exit.i
  %add.i.i.i.i.i.i = add i32 %asmresult.i.i.i.i.i.i.i.i, 1
  %67 = or i32 %add.i.i.i.i.i.i, %asmresult.i.i.i.i.i.i.i.i
  call void @__sanitizer_cov_trace_const_cmp4(i32 -1, i32 %67)
  %.not.i.i.i.i.i.i = icmp sgt i32 %67, -1
  br i1 %.not.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.vfio_container_get.exit.i_crit_edge, label %if.else.i.i.i.i.i.i.if.end15.sink.split.i.i.i.i.i.i_crit_edge, !prof !223

if.else.i.i.i.i.i.i.if.end15.sink.split.i.i.i.i.i.i_crit_edge: ; preds = %if.else.i.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end15.sink.split.i.i.i.i.i.i

if.else.i.i.i.i.i.i.vfio_container_get.exit.i_crit_edge: ; preds = %if.else.i.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_container_get.exit.i

if.end15.sink.split.i.i.i.i.i.i:                  ; preds = %if.else.i.i.i.i.i.i.if.end15.sink.split.i.i.i.i.i.i_crit_edge, %list_add.exit.i.if.end15.sink.split.i.i.i.i.i.i_crit_edge
  %.sink.i.i.i.i.i.i = phi i32 [ 2, %list_add.exit.i.if.end15.sink.split.i.i.i.i.i.i_crit_edge ], [ 1, %if.else.i.i.i.i.i.i.if.end15.sink.split.i.i.i.i.i.i_crit_edge ]
  tail call void @refcount_warn_saturate(ptr noundef %36, i32 noundef %.sink.i.i.i.i.i.i) #15
  br label %vfio_container_get.exit.i

vfio_container_get.exit.i:                        ; preds = %if.end15.sink.split.i.i.i.i.i.i, %if.else.i.i.i.i.i.i.vfio_container_get.exit.i_crit_edge
  %call.i.i96.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %container_users.i, i32 noundef 4) #15
  tail call void @llvm.prefetch.p0(ptr %container_users.i, i32 1, i32 3, i32 1) #15
  %68 = tail call { i32, i32 } asm sideeffect "@ atomic_add\0A1:\09ldrex\09$0, [$3]\0A\09add\09$0, $0, $4\0A\09strex\09$1, $0, [$3]\0A\09teq\09$1, #0\0A\09bne\091b", "=&r,=&r,=*Qo,r,Ir,*Qo,~{cc}"(ptr elementtype(i32) %container_users.i, ptr %container_users.i, i32 1, ptr elementtype(i32) %container_users.i) #15, !srcloc !244
  br label %unlock_out.i

unlock_out.i:                                     ; preds = %vfio_container_get.exit.i, %if.then48.i.unlock_out.i_crit_edge, %land.lhs.true38.i.unlock_out.i_crit_edge
  %ret.1.i = phi i32 [ %call50.i, %if.then48.i.unlock_out.i_crit_edge ], [ 0, %vfio_container_get.exit.i ], [ -1, %land.lhs.true38.i.unlock_out.i_crit_edge ]
  tail call void @up_write(ptr noundef %group_lock.i) #15
  %and.i98.i = and i32 %call.i.i73, 1
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %and.i98.i)
  %tobool.not.i99.i = icmp eq i32 %and.i98.i, 0
  br i1 %tobool.not.i99.i, label %unlock_out.i.sw.epilog_crit_edge, label %unlock_out.i.cleanup.sink.split.i_crit_edge

unlock_out.i.cleanup.sink.split.i_crit_edge:      ; preds = %unlock_out.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup.sink.split.i

unlock_out.i.sw.epilog_crit_edge:                 ; preds = %unlock_out.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

cleanup.sink.split.i:                             ; preds = %unlock_out.i.cleanup.sink.split.i_crit_edge, %if.then9.i.cleanup.sink.split.i_crit_edge
  %retval.0.ph.i = phi i32 [ -22, %if.then9.i.cleanup.sink.split.i_crit_edge ], [ %ret.1.i, %unlock_out.i.cleanup.sink.split.i_crit_edge ]
  tail call void @fput(ptr noundef nonnull %32) #15
  br label %sw.epilog

sw.bb30:                                          ; preds = %entry
  %container_users.i76 = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 3
  %call.i.i.i77 = tail call zeroext i1 @__kasan_check_write(ptr noundef %container_users.i76, i32 noundef 4) #15
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !231
  tail call void @llvm.prefetch.p0(ptr %container_users.i76, i32 1, i32 3, i32 1) #15
  br label %do.body.i.i.i.i

do.body.i.i.i.i:                                  ; preds = %do.body.i.i.i.i.do.body.i.i.i.i_crit_edge, %sw.bb30
  %69 = tail call { i32, i32 } asm sideeffect "@ atomic_cmpxchg\0Aldrex\09$1, [$3]\0Amov\09$0, #0\0Ateq\09$1, $4\0Astrexeq $0, $5, [$3]\0A", "=&r,=&r,=*Qo,r,Ir,r,*Qo,~{cc}"(ptr elementtype(i32) %container_users.i76, ptr %container_users.i76, i32 1, i32 0, ptr elementtype(i32) %container_users.i76) #15, !srcloc !232
  %asmresult.i.i.i.i = extractvalue { i32, i32 } %69, 0
  %tobool.not.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i, 0
  br i1 %tobool.not.i.i.i.i, label %atomic_cmpxchg.exit.i, label %do.body.i.i.i.i.do.body.i.i.i.i_crit_edge

do.body.i.i.i.i.do.body.i.i.i.i_crit_edge:        ; preds = %do.body.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body.i.i.i.i

atomic_cmpxchg.exit.i:                            ; preds = %do.body.i.i.i.i
  %asmresult3.i.i.i.i = extractvalue { i32, i32 } %69, 1
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !233
  %70 = zext i32 %asmresult3.i.i.i.i to i64
  call void @__sanitizer_cov_trace_switch(i64 %70, ptr @__sancov_gen_cov_switch_values.55)
  switch i32 %asmresult3.i.i.i.i, label %if.then1.i [
    i32 0, label %atomic_cmpxchg.exit.i.sw.epilog_crit_edge
    i32 1, label %if.end2.i
  ]

atomic_cmpxchg.exit.i.sw.epilog_crit_edge:        ; preds = %atomic_cmpxchg.exit.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

if.then1.i:                                       ; preds = %atomic_cmpxchg.exit.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %sw.epilog

if.end2.i:                                        ; preds = %atomic_cmpxchg.exit.i
  call void @__sanitizer_cov_trace_pc() #17
  tail call fastcc void @__vfio_group_unset_container(ptr noundef %1) #15
  br label %sw.epilog

sw.bb32:                                          ; preds = %entry
  %71 = inttoptr i32 %arg to ptr
  %call33 = tail call ptr @strndup_user(ptr noundef %71, i32 noundef 4096) #15
  %cmp.i79 = icmp ugt ptr %call33, inttoptr (i32 -4096 to ptr)
  br i1 %cmp.i79, label %cleanup39.thread, label %if.end37

cleanup39.thread:                                 ; preds = %sw.bb32
  call void @__sanitizer_cov_trace_pc() #17
  %72 = ptrtoint ptr %call33 to i32
  br label %cleanup41

if.end37:                                         ; preds = %sw.bb32
  %container_users.i80 = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 3
  %call.i.i.i81 = tail call zeroext i1 @__kasan_check_read(ptr noundef %container_users.i80, i32 noundef 4) #15
  %73 = ptrtoint ptr %container_users.i80 to i32
  call void @__asan_load4_noabort(i32 %73)
  %74 = load volatile i32, ptr %container_users.i80, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %74)
  %cmp.i82 = icmp eq i32 %74, 0
  br i1 %cmp.i82, label %if.end37.cleanup39.thread116_crit_edge, label %lor.lhs.false.i

if.end37.cleanup39.thread116_crit_edge:           ; preds = %if.end37
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup39.thread116

lor.lhs.false.i:                                  ; preds = %if.end37
  %container.i = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 5
  %75 = ptrtoint ptr %container.i to i32
  call void @__asan_load4_noabort(i32 %75)
  %76 = load ptr, ptr %container.i, align 4
  %iommu_driver.i83 = getelementptr inbounds %struct.vfio_container, ptr %76, i32 0, i32 3
  %77 = ptrtoint ptr %iommu_driver.i83 to i32
  call void @__asan_load4_noabort(i32 %77)
  %78 = load ptr, ptr %iommu_driver.i83, align 4
  %tobool.not.i84 = icmp eq ptr %78, null
  br i1 %tobool.not.i84, label %lor.lhs.false.i.cleanup39.thread116_crit_edge, label %lor.lhs.false1.i

lor.lhs.false.i.cleanup39.thread116_crit_edge:    ; preds = %lor.lhs.false.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup39.thread116

lor.lhs.false1.i:                                 ; preds = %lor.lhs.false.i
  %iommu_group.i.i = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 4
  %79 = ptrtoint ptr %iommu_group.i.i to i32
  call void @__asan_load4_noabort(i32 %79)
  %80 = load ptr, ptr %iommu_group.i.i, align 8
  %call.i.i85 = tail call i32 @iommu_group_for_each_dev(ptr noundef %80, ptr noundef %1, ptr noundef nonnull @vfio_dev_viable) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call.i.i85)
  %cmp.i.i86 = icmp eq i32 %call.i.i85, 0
  br i1 %cmp.i.i86, label %if.end.i88, label %lor.lhs.false1.i.cleanup39.thread116_crit_edge

lor.lhs.false1.i.cleanup39.thread116_crit_edge:   ; preds = %lor.lhs.false1.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup39.thread116

if.end.i88:                                       ; preds = %lor.lhs.false1.i
  %type.i87 = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 15
  %81 = ptrtoint ptr %type.i87 to i32
  call void @__asan_load4_noabort(i32 %81)
  %82 = load i32, ptr %type.i87, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 2, i32 %82)
  %cmp3.i = icmp eq i32 %82, 2
  br i1 %cmp3.i, label %land.lhs.true.i89, label %if.end.i88.if.end6.i90_crit_edge

if.end.i88.if.end6.i90_crit_edge:                 ; preds = %if.end.i88
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end6.i90

land.lhs.true.i89:                                ; preds = %if.end.i88
  %call4.i = tail call zeroext i1 @capable(i32 noundef 17) #15
  br i1 %call4.i, label %land.lhs.true.i89.if.end6.i90_crit_edge, label %land.lhs.true.i89.cleanup39.thread116_crit_edge

land.lhs.true.i89.cleanup39.thread116_crit_edge:  ; preds = %land.lhs.true.i89
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup39.thread116

land.lhs.true.i89.if.end6.i90_crit_edge:          ; preds = %land.lhs.true.i89
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end6.i90

if.end6.i90:                                      ; preds = %land.lhs.true.i89.if.end6.i90_crit_edge, %if.end.i88.if.end6.i90_crit_edge
  %device_lock.i.i = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 7
  tail call void @mutex_lock_nested(ptr noundef %device_lock.i.i, i32 noundef 0) #15
  %device_list.i.i = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 6
  %83 = ptrtoint ptr %device_list.i.i to i32
  call void @__asan_load4_noabort(i32 %83)
  %.pn41.i.i = load ptr, ptr %device_list.i.i, align 4
  %cmp.not43.i.i = icmp eq ptr %.pn41.i.i, %device_list.i.i
  br i1 %cmp.not43.i.i, label %if.end6.i90.vfio_device_get_from_name.exit.thread.i_crit_edge, label %if.end6.i90.for.body.i.i_crit_edge

if.end6.i90.for.body.i.i_crit_edge:               ; preds = %if.end6.i90
  br label %for.body.i.i

if.end6.i90.vfio_device_get_from_name.exit.thread.i_crit_edge: ; preds = %if.end6.i90
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_device_get_from_name.exit.thread.i

for.body.i.i:                                     ; preds = %cleanup.i.i.for.body.i.i_crit_edge, %if.end6.i90.for.body.i.i_crit_edge
  %.pn44.i.i = phi ptr [ %.pn.i.i, %cleanup.i.i.for.body.i.i_crit_edge ], [ %.pn41.i.i, %if.end6.i90.for.body.i.i_crit_edge ]
  %it.045.i.i = getelementptr i8, ptr %.pn44.i.i, i32 -88
  %ops.i.i = getelementptr i8, ptr %.pn44.i.i, i32 -84
  %84 = ptrtoint ptr %ops.i.i to i32
  call void @__asan_load4_noabort(i32 %84)
  %85 = load ptr, ptr %ops.i.i, align 4
  %match.i.i = getelementptr inbounds %struct.vfio_device_ops, ptr %85, i32 0, i32 8
  %86 = ptrtoint ptr %match.i.i to i32
  call void @__asan_load4_noabort(i32 %86)
  %87 = load ptr, ptr %match.i.i, align 4
  %tobool.not.i.i91 = icmp eq ptr %87, null
  br i1 %tobool.not.i.i91, label %if.else.i.i, label %if.then.i.i

if.then.i.i:                                      ; preds = %for.body.i.i
  %call4.i.i = tail call i32 %87(ptr noundef %it.045.i.i, ptr noundef %call33) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call4.i.i)
  %cmp5.i.i = icmp slt i32 %call4.i.i, 0
  br i1 %cmp5.i.i, label %if.then6.i.i, label %if.then.i.i.if.end12.i.i_crit_edge

if.then.i.i.if.end12.i.i_crit_edge:               ; preds = %if.then.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end12.i.i

if.then6.i.i:                                     ; preds = %if.then.i.i
  call void @__sanitizer_cov_trace_pc() #17
  %88 = inttoptr i32 %call4.i.i to ptr
  br label %vfio_device_get_from_name.exit.i

if.else.i.i:                                      ; preds = %for.body.i.i
  %89 = ptrtoint ptr %it.045.i.i to i32
  call void @__asan_load4_noabort(i32 %89)
  %90 = load ptr, ptr %it.045.i.i, align 4
  %init_name.i.i.i = getelementptr inbounds %struct.device, ptr %90, i32 0, i32 3
  %91 = ptrtoint ptr %init_name.i.i.i to i32
  call void @__asan_load4_noabort(i32 %91)
  %92 = load ptr, ptr %init_name.i.i.i, align 8
  %tobool.not.i.i.i = icmp eq ptr %92, null
  br i1 %tobool.not.i.i.i, label %if.end.i.i.i92, label %if.else.i.i.dev_name.exit.i.i_crit_edge

if.else.i.i.dev_name.exit.i.i_crit_edge:          ; preds = %if.else.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %dev_name.exit.i.i

if.end.i.i.i92:                                   ; preds = %if.else.i.i
  call void @__sanitizer_cov_trace_pc() #17
  %93 = ptrtoint ptr %90 to i32
  call void @__asan_load4_noabort(i32 %93)
  %94 = load ptr, ptr %90, align 4
  br label %dev_name.exit.i.i

dev_name.exit.i.i:                                ; preds = %if.end.i.i.i92, %if.else.i.i.dev_name.exit.i.i_crit_edge
  %retval.0.i.i.i = phi ptr [ %94, %if.end.i.i.i92 ], [ %92, %if.else.i.i.dev_name.exit.i.i_crit_edge ]
  %call9.i.i = tail call i32 @strcmp(ptr noundef %retval.0.i.i.i, ptr noundef %call33) #22
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call9.i.i)
  %tobool10.not.i.i = icmp eq i32 %call9.i.i, 0
  %lnot.ext.i.i = zext i1 %tobool10.not.i.i to i32
  br label %if.end12.i.i

if.end12.i.i:                                     ; preds = %dev_name.exit.i.i, %if.then.i.i.if.end12.i.i_crit_edge
  %ret.0.i.i = phi i32 [ %call4.i.i, %if.then.i.i.if.end12.i.i_crit_edge ], [ %lnot.ext.i.i, %dev_name.exit.i.i ]
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %ret.0.i.i)
  %tobool13.not.i.i = icmp eq i32 %ret.0.i.i, 0
  br i1 %tobool13.not.i.i, label %if.end12.i.i.cleanup.i.i_crit_edge, label %land.lhs.true.i.i93

if.end12.i.i.cleanup.i.i_crit_edge:               ; preds = %if.end12.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup.i.i

land.lhs.true.i.i93:                              ; preds = %if.end12.i.i
  %call14.i.i = tail call fastcc zeroext i1 @vfio_device_try_get(ptr noundef %it.045.i.i) #15
  br i1 %call14.i.i, label %land.lhs.true.i.i93.vfio_device_get_from_name.exit.i_crit_edge, label %land.lhs.true.i.i93.cleanup.i.i_crit_edge

land.lhs.true.i.i93.cleanup.i.i_crit_edge:        ; preds = %land.lhs.true.i.i93
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup.i.i

land.lhs.true.i.i93.vfio_device_get_from_name.exit.i_crit_edge: ; preds = %land.lhs.true.i.i93
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_device_get_from_name.exit.i

cleanup.i.i:                                      ; preds = %land.lhs.true.i.i93.cleanup.i.i_crit_edge, %if.end12.i.i.cleanup.i.i_crit_edge
  %95 = ptrtoint ptr %.pn44.i.i to i32
  call void @__asan_load4_noabort(i32 %95)
  %.pn.i.i = load ptr, ptr %.pn44.i.i, align 4
  %cmp.not.i.i = icmp eq ptr %.pn.i.i, %device_list.i.i
  br i1 %cmp.not.i.i, label %cleanup.i.i.vfio_device_get_from_name.exit.thread.i_crit_edge, label %cleanup.i.i.for.body.i.i_crit_edge

cleanup.i.i.for.body.i.i_crit_edge:               ; preds = %cleanup.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.body.i.i

cleanup.i.i.vfio_device_get_from_name.exit.thread.i_crit_edge: ; preds = %cleanup.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_device_get_from_name.exit.thread.i

vfio_device_get_from_name.exit.thread.i:          ; preds = %cleanup.i.i.vfio_device_get_from_name.exit.thread.i_crit_edge, %if.end6.i90.vfio_device_get_from_name.exit.thread.i_crit_edge
  tail call void @mutex_unlock(ptr noundef %device_lock.i.i) #15
  br label %if.then9.i94

vfio_device_get_from_name.exit.i:                 ; preds = %land.lhs.true.i.i93.vfio_device_get_from_name.exit.i_crit_edge, %if.then6.i.i
  %device.2.i.i = phi ptr [ %88, %if.then6.i.i ], [ %it.045.i.i, %land.lhs.true.i.i93.vfio_device_get_from_name.exit.i_crit_edge ]
  tail call void @mutex_unlock(ptr noundef %device_lock.i.i) #15
  %cmp.i103.i = icmp ugt ptr %device.2.i.i, inttoptr (i32 -4096 to ptr)
  br i1 %cmp.i103.i, label %vfio_device_get_from_name.exit.i.if.then9.i94_crit_edge, label %if.end11.i

vfio_device_get_from_name.exit.i.if.then9.i94_crit_edge: ; preds = %vfio_device_get_from_name.exit.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.then9.i94

if.then9.i94:                                     ; preds = %vfio_device_get_from_name.exit.i.if.then9.i94_crit_edge, %vfio_device_get_from_name.exit.thread.i
  %device.2.i110.i = phi ptr [ inttoptr (i32 -19 to ptr), %vfio_device_get_from_name.exit.thread.i ], [ %device.2.i.i, %vfio_device_get_from_name.exit.i.if.then9.i94_crit_edge ]
  %96 = ptrtoint ptr %device.2.i110.i to i32
  br label %cleanup39

if.end11.i:                                       ; preds = %vfio_device_get_from_name.exit.i
  %97 = ptrtoint ptr %device.2.i.i to i32
  call void @__asan_load4_noabort(i32 %97)
  %98 = load ptr, ptr %device.2.i.i, align 4
  %driver.i = getelementptr inbounds %struct.device, ptr %98, i32 0, i32 6
  %99 = ptrtoint ptr %driver.i to i32
  call void @__asan_load4_noabort(i32 %99)
  %100 = load ptr, ptr %driver.i, align 4
  %owner.i = getelementptr inbounds %struct.device_driver, ptr %100, i32 0, i32 2
  %101 = ptrtoint ptr %owner.i to i32
  call void @__asan_load4_noabort(i32 %101)
  %102 = load ptr, ptr %owner.i, align 4
  %call12.i = tail call zeroext i1 @try_module_get(ptr noundef %102) #15
  br i1 %call12.i, label %if.end14.i, label %if.end11.i.err_device_put.i_crit_edge

if.end11.i.err_device_put.i_crit_edge:            ; preds = %if.end11.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %err_device_put.i

if.end14.i:                                       ; preds = %if.end11.i
  %dev_set.i = getelementptr inbounds %struct.vfio_device, ptr %device.2.i.i, i32 0, i32 3
  %103 = ptrtoint ptr %dev_set.i to i32
  call void @__asan_load4_noabort(i32 %103)
  %104 = load ptr, ptr %dev_set.i, align 4
  %lock.i = getelementptr inbounds %struct.vfio_device_set, ptr %104, i32 0, i32 1
  tail call void @mutex_lock_nested(ptr noundef %lock.i, i32 noundef 0) #15
  %open_count.i = getelementptr inbounds %struct.vfio_device, ptr %device.2.i.i, i32 0, i32 6
  %105 = ptrtoint ptr %open_count.i to i32
  call void @__asan_load4_noabort(i32 %105)
  %106 = load i32, ptr %open_count.i, align 4
  %inc.i = add i32 %106, 1
  store i32 %inc.i, ptr %open_count.i, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %106)
  %cmp16.i = icmp eq i32 %106, 0
  br i1 %cmp16.i, label %land.lhs.true17.i, label %if.end14.i.if.end26.i_crit_edge

if.end14.i.if.end26.i_crit_edge:                  ; preds = %if.end14.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end26.i

land.lhs.true17.i:                                ; preds = %if.end14.i
  %ops.i = getelementptr inbounds %struct.vfio_device, ptr %device.2.i.i, i32 0, i32 1
  %107 = ptrtoint ptr %ops.i to i32
  call void @__asan_load4_noabort(i32 %107)
  %108 = load ptr, ptr %ops.i, align 4
  %open_device.i = getelementptr inbounds %struct.vfio_device_ops, ptr %108, i32 0, i32 1
  %109 = ptrtoint ptr %open_device.i to i32
  call void @__asan_load4_noabort(i32 %109)
  %110 = load ptr, ptr %open_device.i, align 4
  %tobool18.not.i = icmp eq ptr %110, null
  br i1 %tobool18.not.i, label %land.lhs.true17.i.if.end26.i_crit_edge, label %if.then19.i

land.lhs.true17.i.if.end26.i_crit_edge:           ; preds = %land.lhs.true17.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end26.i

if.then19.i:                                      ; preds = %land.lhs.true17.i
  %call22.i = tail call i32 %110(ptr noundef %device.2.i.i) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call22.i)
  %tobool23.not.i = icmp eq i32 %call22.i, 0
  br i1 %tobool23.not.i, label %if.then19.i.if.end26.i_crit_edge, label %if.then19.i.err_undo_count.i_crit_edge

if.then19.i.err_undo_count.i_crit_edge:           ; preds = %if.then19.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %err_undo_count.i

if.then19.i.if.end26.i_crit_edge:                 ; preds = %if.then19.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end26.i

if.end26.i:                                       ; preds = %if.then19.i.if.end26.i_crit_edge, %land.lhs.true17.i.if.end26.i_crit_edge, %if.end14.i.if.end26.i_crit_edge
  %111 = ptrtoint ptr %dev_set.i to i32
  call void @__asan_load4_noabort(i32 %111)
  %112 = load ptr, ptr %dev_set.i, align 4
  %lock28.i = getelementptr inbounds %struct.vfio_device_set, ptr %112, i32 0, i32 1
  tail call void @mutex_unlock(ptr noundef %lock28.i) #15
  %call29.i = tail call i32 @get_unused_fd_flags(i32 noundef 524288) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call29.i)
  %cmp30.i = icmp slt i32 %call29.i, 0
  br i1 %cmp30.i, label %if.end26.i.err_close_device.i_crit_edge, label %if.end32.i

if.end26.i.err_close_device.i_crit_edge:          ; preds = %if.end26.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %err_close_device.i

if.end32.i:                                       ; preds = %if.end26.i
  %call33.i = tail call ptr @anon_inode_getfile(ptr noundef nonnull @.str.36, ptr noundef nonnull @vfio_device_fops, ptr noundef %device.2.i.i, i32 noundef 2) #15
  %cmp.i104.i = icmp ugt ptr %call33.i, inttoptr (i32 -4096 to ptr)
  br i1 %cmp.i104.i, label %if.then35.i, label %if.end37.i

if.then35.i:                                      ; preds = %if.end32.i
  call void @__sanitizer_cov_trace_pc() #17
  %113 = ptrtoint ptr %call33.i to i32
  tail call void @put_unused_fd(i32 noundef %call29.i) #15
  br label %err_close_device.i

if.end37.i:                                       ; preds = %if.end32.i
  %f_mode.i = getelementptr inbounds %struct.file, ptr %call33.i, i32 0, i32 8
  %114 = ptrtoint ptr %f_mode.i to i32
  call void @__asan_load4_noabort(i32 %114)
  %115 = load i32, ptr %f_mode.i, align 8
  %or.i95 = or i32 %115, 28
  store i32 %or.i95, ptr %f_mode.i, align 8
  %call.i.i102.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %container_users.i80, i32 noundef 4) #15
  tail call void @llvm.prefetch.p0(ptr %container_users.i80, i32 1, i32 3, i32 1) #15
  %116 = tail call { i32, i32 } asm sideeffect "@ atomic_add\0A1:\09ldrex\09$0, [$3]\0A\09add\09$0, $0, $4\0A\09strex\09$1, $0, [$3]\0A\09teq\09$1, #0\0A\09bne\091b", "=&r,=&r,=*Qo,r,Ir,*Qo,~{cc}"(ptr elementtype(i32) %container_users.i80, ptr %container_users.i80, i32 1, ptr elementtype(i32) %container_users.i80) #15, !srcloc !244
  tail call void @fd_install(i32 noundef %call29.i, ptr noundef %call33.i) #15
  %117 = ptrtoint ptr %type.i87 to i32
  call void @__asan_load4_noabort(i32 %117)
  %118 = load i32, ptr %type.i87, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 2, i32 %118)
  %cmp40.i = icmp eq i32 %118, 2
  br i1 %cmp40.i, label %do.end.i97, label %if.end37.i.cleanup39_crit_edge

if.end37.i.cleanup39_crit_edge:                   ; preds = %if.end37.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup39

do.end.i97:                                       ; preds = %if.end37.i
  call void @__sanitizer_cov_trace_pc() #17
  %119 = ptrtoint ptr %device.2.i.i to i32
  call void @__asan_load4_noabort(i32 %119)
  %120 = load ptr, ptr %device.2.i.i, align 4
  %121 = tail call i32 @llvm.read_register.i32(metadata !210) #15
  %and.i.i96 = and i32 %121, -16384
  %122 = inttoptr i32 %and.i.i96 to ptr
  %task.i = getelementptr inbounds %struct.thread_info, ptr %122, i32 0, i32 2
  %123 = ptrtoint ptr %task.i to i32
  call void @__asan_load4_noabort(i32 %123)
  %124 = load ptr, ptr %task.i, align 8
  %comm.i = getelementptr inbounds %struct.task_struct, ptr %124, i32 0, i32 101
  %pid.i.i = getelementptr inbounds %struct.task_struct, ptr %124, i32 0, i32 68
  %125 = ptrtoint ptr %pid.i.i to i32
  call void @__asan_load4_noabort(i32 %125)
  %126 = load i32, ptr %pid.i.i, align 8
  tail call void (ptr, ptr, ...) @_dev_warn(ptr noundef %120, ptr noundef nonnull @.str.37, ptr noundef %comm.i, i32 noundef %126) #19
  br label %cleanup39

err_close_device.i:                               ; preds = %if.then35.i, %if.end26.i.err_close_device.i_crit_edge
  %ret.0.i = phi i32 [ %call29.i, %if.end26.i.err_close_device.i_crit_edge ], [ %113, %if.then35.i ]
  %127 = ptrtoint ptr %dev_set.i to i32
  call void @__asan_load4_noabort(i32 %127)
  %128 = load ptr, ptr %dev_set.i, align 4
  %lock49.i = getelementptr inbounds %struct.vfio_device_set, ptr %128, i32 0, i32 1
  tail call void @mutex_lock_nested(ptr noundef %lock49.i, i32 noundef 0) #15
  %129 = ptrtoint ptr %open_count.i to i32
  call void @__asan_load4_noabort(i32 %129)
  %130 = load i32, ptr %open_count.i, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 1, i32 %130)
  %cmp51.i = icmp eq i32 %130, 1
  br i1 %cmp51.i, label %land.lhs.true52.i, label %err_close_device.i.err_undo_count.i_crit_edge

err_close_device.i.err_undo_count.i_crit_edge:    ; preds = %err_close_device.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %err_undo_count.i

land.lhs.true52.i:                                ; preds = %err_close_device.i
  %ops53.i = getelementptr inbounds %struct.vfio_device, ptr %device.2.i.i, i32 0, i32 1
  %131 = ptrtoint ptr %ops53.i to i32
  call void @__asan_load4_noabort(i32 %131)
  %132 = load ptr, ptr %ops53.i, align 4
  %close_device.i = getelementptr inbounds %struct.vfio_device_ops, ptr %132, i32 0, i32 2
  %133 = ptrtoint ptr %close_device.i to i32
  call void @__asan_load4_noabort(i32 %133)
  %134 = load ptr, ptr %close_device.i, align 4
  %tobool54.not.i = icmp eq ptr %134, null
  br i1 %tobool54.not.i, label %land.lhs.true52.i.err_undo_count.i_crit_edge, label %if.then55.i

land.lhs.true52.i.err_undo_count.i_crit_edge:     ; preds = %land.lhs.true52.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %err_undo_count.i

if.then55.i:                                      ; preds = %land.lhs.true52.i
  call void @__sanitizer_cov_trace_pc() #17
  tail call void %134(ptr noundef %device.2.i.i) #15
  br label %err_undo_count.i

err_undo_count.i:                                 ; preds = %if.then55.i, %land.lhs.true52.i.err_undo_count.i_crit_edge, %err_close_device.i.err_undo_count.i_crit_edge, %if.then19.i.err_undo_count.i_crit_edge
  %ret.1.i98 = phi i32 [ %call22.i, %if.then19.i.err_undo_count.i_crit_edge ], [ %ret.0.i, %if.then55.i ], [ %ret.0.i, %land.lhs.true52.i.err_undo_count.i_crit_edge ], [ %ret.0.i, %err_close_device.i.err_undo_count.i_crit_edge ]
  %135 = ptrtoint ptr %open_count.i to i32
  call void @__asan_load4_noabort(i32 %135)
  %136 = load i32, ptr %open_count.i, align 4
  %dec.i = add i32 %136, -1
  store i32 %dec.i, ptr %open_count.i, align 4
  %137 = ptrtoint ptr %dev_set.i to i32
  call void @__asan_load4_noabort(i32 %137)
  %138 = load ptr, ptr %dev_set.i, align 4
  %lock61.i = getelementptr inbounds %struct.vfio_device_set, ptr %138, i32 0, i32 1
  tail call void @mutex_unlock(ptr noundef %lock61.i) #15
  %139 = ptrtoint ptr %device.2.i.i to i32
  call void @__asan_load4_noabort(i32 %139)
  %140 = load ptr, ptr %device.2.i.i, align 4
  %driver63.i = getelementptr inbounds %struct.device, ptr %140, i32 0, i32 6
  %141 = ptrtoint ptr %driver63.i to i32
  call void @__asan_load4_noabort(i32 %141)
  %142 = load ptr, ptr %driver63.i, align 4
  %owner64.i = getelementptr inbounds %struct.device_driver, ptr %142, i32 0, i32 2
  %143 = ptrtoint ptr %owner64.i to i32
  call void @__asan_load4_noabort(i32 %143)
  %144 = load ptr, ptr %owner64.i, align 4
  tail call void @module_put(ptr noundef %144) #15
  br label %err_device_put.i

err_device_put.i:                                 ; preds = %err_undo_count.i, %if.end11.i.err_device_put.i_crit_edge
  %ret.2.i = phi i32 [ %ret.1.i98, %err_undo_count.i ], [ -19, %if.end11.i.err_device_put.i_crit_edge ]
  %refcount.i.i = getelementptr inbounds %struct.vfio_device, ptr %device.2.i.i, i32 0, i32 5
  %call.i.i.i.i.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %refcount.i.i, i32 noundef 4) #15
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !221
  tail call void @llvm.prefetch.p0(ptr %refcount.i.i, i32 1, i32 3, i32 1) #15
  %145 = tail call { i32, i32, i32 } asm sideeffect "@ atomic_fetch_sub\0A1:\09ldrex\09$0, [$4]\0A\09sub\09$1, $0, $5\0A\09strex\09$2, $1, [$4]\0A\09teq\09$2, #0\0A\09bne\091b", "=&r,=&r,=&r,=*Qo,r,Ir,*Qo,~{cc}"(ptr elementtype(i32) %refcount.i.i, ptr %refcount.i.i, i32 1, ptr elementtype(i32) %refcount.i.i) #15, !srcloc !222
  %asmresult.i.i.i.i.i.i.i.i99 = extractvalue { i32, i32, i32 } %145, 0
  call void @__sanitizer_cov_trace_const_cmp4(i32 1, i32 %asmresult.i.i.i.i.i.i.i.i99)
  %cmp.i.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i.i.i.i.i99, 1
  br i1 %cmp.i.i.i.i.i, label %if.then.i105.i, label %if.end5.i.i.i.i.i

if.end5.i.i.i.i.i:                                ; preds = %err_device_put.i
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %asmresult.i.i.i.i.i.i.i.i99)
  %.not.i.i.i.i.i = icmp sgt i32 %asmresult.i.i.i.i.i.i.i.i99, 0
  br i1 %.not.i.i.i.i.i, label %if.end5.i.i.i.i.i.cleanup39_crit_edge, label %if.then10.i.i.i.i.i, !prof !223

if.end5.i.i.i.i.i.cleanup39_crit_edge:            ; preds = %if.end5.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup39

if.then10.i.i.i.i.i:                              ; preds = %if.end5.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  tail call void @refcount_warn_saturate(ptr noundef %refcount.i.i, i32 noundef 3) #15
  br label %cleanup39

if.then.i105.i:                                   ; preds = %err_device_put.i
  call void @__sanitizer_cov_trace_pc() #17
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !224
  %comp.i.i = getelementptr inbounds %struct.vfio_device, ptr %device.2.i.i, i32 0, i32 7
  tail call void @complete(ptr noundef %comp.i.i) #15
  br label %cleanup39

cleanup39.thread116:                              ; preds = %land.lhs.true.i89.cleanup39.thread116_crit_edge, %lor.lhs.false1.i.cleanup39.thread116_crit_edge, %lor.lhs.false.i.cleanup39.thread116_crit_edge, %if.end37.cleanup39.thread116_crit_edge
  %retval.0.i100.ph = phi i32 [ -1, %land.lhs.true.i89.cleanup39.thread116_crit_edge ], [ -22, %if.end37.cleanup39.thread116_crit_edge ], [ -22, %lor.lhs.false.i.cleanup39.thread116_crit_edge ], [ -22, %lor.lhs.false1.i.cleanup39.thread116_crit_edge ]
  tail call void @kfree(ptr noundef %call33) #15
  br label %sw.epilog

cleanup39:                                        ; preds = %if.then.i105.i, %if.then10.i.i.i.i.i, %if.end5.i.i.i.i.i.cleanup39_crit_edge, %do.end.i97, %if.end37.i.cleanup39_crit_edge, %if.then9.i94
  %retval.0.i100 = phi i32 [ %96, %if.then9.i94 ], [ %call29.i, %do.end.i97 ], [ %call29.i, %if.end37.i.cleanup39_crit_edge ], [ %ret.2.i, %if.end5.i.i.i.i.i.cleanup39_crit_edge ], [ %ret.2.i, %if.then10.i.i.i.i.i ], [ %ret.2.i, %if.then.i105.i ]
  tail call void @kfree(ptr noundef %call33) #15
  br label %sw.epilog

sw.epilog:                                        ; preds = %cleanup39, %cleanup39.thread116, %if.end2.i, %if.then1.i, %atomic_cmpxchg.exit.i.sw.epilog_crit_edge, %cleanup.sink.split.i, %unlock_out.i.sw.epilog_crit_edge, %if.then9.i.sw.epilog_crit_edge, %if.end3.i.sw.epilog_crit_edge, %land.lhs.true.i.sw.epilog_crit_edge, %if.end26.sw.epilog_crit_edge, %cleanup.sw.epilog_crit_edge, %entry.sw.epilog_crit_edge
  %ret.3 = phi i32 [ -25, %entry.sw.epilog_crit_edge ], [ %retval.0.i100, %cleanup39 ], [ 0, %cleanup.sw.epilog_crit_edge ], [ -16, %if.then1.i ], [ 0, %if.end2.i ], [ -22, %atomic_cmpxchg.exit.i.sw.epilog_crit_edge ], [ %retval.0.i100.ph, %cleanup39.thread116 ], [ %retval.0.ph.i, %cleanup.sink.split.i ], [ %ret.1.i, %unlock_out.i.sw.epilog_crit_edge ], [ -22, %if.then9.i.sw.epilog_crit_edge ], [ -9, %if.end3.i.sw.epilog_crit_edge ], [ -1, %land.lhs.true.i.sw.epilog_crit_edge ], [ -22, %if.end26.sw.epilog_crit_edge ]
  br label %cleanup41

cleanup41:                                        ; preds = %sw.epilog, %cleanup39.thread, %if.end23.cleanup41_crit_edge, %sw.bb17.cleanup41_crit_edge, %cleanup.cleanup41_crit_edge, %cleanup.thread107, %cleanup.thread
  %retval.3 = phi i32 [ %ret.3, %sw.epilog ], [ -14, %cleanup.cleanup41_crit_edge ], [ %retval.0.ph, %cleanup.thread ], [ -14, %cleanup.thread107 ], [ -14, %sw.bb17.cleanup41_crit_edge ], [ -22, %if.end23.cleanup41_crit_edge ], [ %72, %cleanup39.thread ]
  ret i32 %retval.3
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal i32 @vfio_group_fops_open(ptr nocapture noundef readonly %inode, ptr nocapture noundef writeonly %filep) #0 align 64 {
entry:
  %old.i.i.i = alloca i32, align 4
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %0 = getelementptr inbounds %struct.inode, ptr %inode, i32 0, i32 48
  %1 = ptrtoint ptr %0 to i32
  call void @__asan_load4_noabort(i32 %1)
  %2 = load ptr, ptr %0, align 4
  %add.ptr = getelementptr i8, ptr %2, i32 -928
  %users = getelementptr i8, ptr %2, i32 160
  call void @llvm.lifetime.start.p0(i64 4, ptr nonnull %old.i.i.i) #15
  %call.i.i.i.i.i.i = tail call zeroext i1 @__kasan_check_read(ptr noundef %users, i32 noundef 4) #15
  %3 = ptrtoint ptr %users to i32
  call void @__asan_load4_noabort(i32 %3)
  %4 = load volatile i32, ptr %users, align 4
  br label %do.body.i.i.i62

do.body.i.i.i62:                                  ; preds = %arch_atomic_cmpxchg_relaxed.exit.i.i.i.i.i.do.body.i.i.i62_crit_edge, %entry
  %5 = phi i32 [ %4, %entry ], [ %asmresult3.i.i.i.i.i.i, %arch_atomic_cmpxchg_relaxed.exit.i.i.i.i.i.do.body.i.i.i62_crit_edge ]
  %6 = ptrtoint ptr %old.i.i.i to i32
  call void @__asan_store4_noabort(i32 %6)
  store i32 %5, ptr %old.i.i.i, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %5)
  %tobool.not.i.i.i61 = icmp eq i32 %5, 0
  br i1 %tobool.not.i.i.i61, label %do.body.i.i.i62.if.end4.i.i.i_crit_edge, label %do.cond.i.i.i

do.body.i.i.i62.if.end4.i.i.i_crit_edge:          ; preds = %do.body.i.i.i62
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end4.i.i.i

do.cond.i.i.i:                                    ; preds = %do.body.i.i.i62
  %add.i.i.i = add i32 %5, 1
  %call.i.i.i.i.i = call zeroext i1 @__kasan_check_write(ptr noundef %users, i32 noundef 4) #15
  %call.i3.i.i.i.i = call zeroext i1 @__kasan_check_write(ptr noundef nonnull %old.i.i.i, i32 noundef 4) #15
  %7 = ptrtoint ptr %old.i.i.i to i32
  call void @__asan_load4_noabort(i32 %7)
  %8 = load i32, ptr %old.i.i.i, align 4
  call void @llvm.prefetch.p0(ptr %users, i32 1, i32 3, i32 1) #15
  br label %do.body.i.i.i.i.i.i

do.body.i.i.i.i.i.i:                              ; preds = %do.body.i.i.i.i.i.i.do.body.i.i.i.i.i.i_crit_edge, %do.cond.i.i.i
  %9 = call { i32, i32 } asm sideeffect "@ atomic_cmpxchg\0Aldrex\09$1, [$3]\0Amov\09$0, #0\0Ateq\09$1, $4\0Astrexeq $0, $5, [$3]\0A", "=&r,=&r,=*Qo,r,Ir,r,*Qo,~{cc}"(ptr elementtype(i32) %users, ptr %users, i32 %8, i32 %add.i.i.i, ptr elementtype(i32) %users) #15, !srcloc !232
  %asmresult.i.i.i.i.i.i = extractvalue { i32, i32 } %9, 0
  %tobool.not.i.i.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i.i.i, 0
  br i1 %tobool.not.i.i.i.i.i.i, label %arch_atomic_cmpxchg_relaxed.exit.i.i.i.i.i, label %do.body.i.i.i.i.i.i.do.body.i.i.i.i.i.i_crit_edge

do.body.i.i.i.i.i.i.do.body.i.i.i.i.i.i_crit_edge: ; preds = %do.body.i.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body.i.i.i.i.i.i

arch_atomic_cmpxchg_relaxed.exit.i.i.i.i.i:       ; preds = %do.body.i.i.i.i.i.i
  %asmresult3.i.i.i.i.i.i = extractvalue { i32, i32 } %9, 1
  %cmp.not.i.i.i.i.i = icmp eq i32 %asmresult3.i.i.i.i.i.i, %8
  br i1 %cmp.not.i.i.i.i.i, label %arch_atomic_cmpxchg_relaxed.exit.i.i.i.i.i.if.end4.i.i.i_crit_edge, label %arch_atomic_cmpxchg_relaxed.exit.i.i.i.i.i.do.body.i.i.i62_crit_edge, !prof !223

arch_atomic_cmpxchg_relaxed.exit.i.i.i.i.i.do.body.i.i.i62_crit_edge: ; preds = %arch_atomic_cmpxchg_relaxed.exit.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body.i.i.i62

arch_atomic_cmpxchg_relaxed.exit.i.i.i.i.i.if.end4.i.i.i_crit_edge: ; preds = %arch_atomic_cmpxchg_relaxed.exit.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end4.i.i.i

if.end4.i.i.i:                                    ; preds = %arch_atomic_cmpxchg_relaxed.exit.i.i.i.i.i.if.end4.i.i.i_crit_edge, %do.body.i.i.i62.if.end4.i.i.i_crit_edge
  %10 = ptrtoint ptr %old.i.i.i to i32
  call void @__asan_load4_noabort(i32 %10)
  %11 = load i32, ptr %old.i.i.i, align 4
  %add5.i.i.i = add i32 %11, 1
  %12 = or i32 %add5.i.i.i, %11
  call void @__sanitizer_cov_trace_const_cmp4(i32 -1, i32 %12)
  %.not.i.i.i = icmp sgt i32 %12, -1
  br i1 %.not.i.i.i, label %if.end4.i.i.i.refcount_inc_not_zero.exit_crit_edge, label %if.then10.i.i.i, !prof !223

if.end4.i.i.i.refcount_inc_not_zero.exit_crit_edge: ; preds = %if.end4.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %refcount_inc_not_zero.exit

if.then10.i.i.i:                                  ; preds = %if.end4.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  call void @refcount_warn_saturate(ptr noundef %users, i32 noundef 0) #15
  %13 = ptrtoint ptr %old.i.i.i to i32
  call void @__asan_load4_noabort(i32 %13)
  %.pr = load i32, ptr %old.i.i.i, align 4
  br label %refcount_inc_not_zero.exit

refcount_inc_not_zero.exit:                       ; preds = %if.then10.i.i.i, %if.end4.i.i.i.refcount_inc_not_zero.exit_crit_edge
  %14 = phi i32 [ %11, %if.end4.i.i.i.refcount_inc_not_zero.exit_crit_edge ], [ %.pr, %if.then10.i.i.i ]
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %14)
  %tobool12.i.i.i.not = icmp eq i32 %14, 0
  call void @llvm.lifetime.end.p0(i64 4, ptr nonnull %old.i.i.i) #15
  br i1 %tobool12.i.i.i.not, label %refcount_inc_not_zero.exit.cleanup_crit_edge, label %if.end

refcount_inc_not_zero.exit.cleanup_crit_edge:     ; preds = %refcount_inc_not_zero.exit
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end:                                           ; preds = %refcount_inc_not_zero.exit
  %type = getelementptr i8, ptr %2, i32 460
  %15 = ptrtoint ptr %type to i32
  call void @__asan_load4_noabort(i32 %15)
  %16 = load i32, ptr %type, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 2, i32 %16)
  %cmp = icmp eq i32 %16, 2
  br i1 %cmp, label %land.lhs.true, label %if.end.if.end3_crit_edge

if.end.if.end3_crit_edge:                         ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end3

land.lhs.true:                                    ; preds = %if.end
  %call1 = call zeroext i1 @capable(i32 noundef 17) #15
  br i1 %call1, label %land.lhs.true.if.end3_crit_edge, label %if.then2

land.lhs.true.if.end3_crit_edge:                  ; preds = %land.lhs.true
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end3

if.then2:                                         ; preds = %land.lhs.true
  call void @__sanitizer_cov_trace_pc() #17
  call fastcc void @vfio_group_put(ptr noundef %add.ptr)
  br label %cleanup

if.end3:                                          ; preds = %land.lhs.true.if.end3_crit_edge, %if.end.if.end3_crit_edge
  %opened4 = getelementptr i8, ptr %2, i32 404
  %call.i.i = call zeroext i1 @__kasan_check_write(ptr noundef %opened4, i32 noundef 4) #15
  call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !231
  call void @llvm.prefetch.p0(ptr %opened4, i32 1, i32 3, i32 1) #15
  br label %do.body.i.i.i

do.body.i.i.i:                                    ; preds = %do.body.i.i.i.do.body.i.i.i_crit_edge, %if.end3
  %17 = call { i32, i32 } asm sideeffect "@ atomic_cmpxchg\0Aldrex\09$1, [$3]\0Amov\09$0, #0\0Ateq\09$1, $4\0Astrexeq $0, $5, [$3]\0A", "=&r,=&r,=*Qo,r,Ir,r,*Qo,~{cc}"(ptr elementtype(i32) %opened4, ptr %opened4, i32 0, i32 1, ptr elementtype(i32) %opened4) #15, !srcloc !232
  %asmresult.i.i.i = extractvalue { i32, i32 } %17, 0
  %tobool.not.i.i.i = icmp eq i32 %asmresult.i.i.i, 0
  br i1 %tobool.not.i.i.i, label %atomic_cmpxchg.exit, label %do.body.i.i.i.do.body.i.i.i_crit_edge

do.body.i.i.i.do.body.i.i.i_crit_edge:            ; preds = %do.body.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body.i.i.i

atomic_cmpxchg.exit:                              ; preds = %do.body.i.i.i
  %asmresult3.i.i.i = extractvalue { i32, i32 } %17, 1
  call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !233
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %asmresult3.i.i.i)
  %tobool.not = icmp eq i32 %asmresult3.i.i.i, 0
  br i1 %tobool.not, label %if.end7, label %if.then6

if.then6:                                         ; preds = %atomic_cmpxchg.exit
  call void @__sanitizer_cov_trace_pc() #17
  call fastcc void @vfio_group_put(ptr noundef %add.ptr)
  br label %cleanup

if.end7:                                          ; preds = %atomic_cmpxchg.exit
  %container = getelementptr i8, ptr %2, i32 172
  %18 = ptrtoint ptr %container to i32
  call void @__asan_load4_noabort(i32 %18)
  %19 = load ptr, ptr %container, align 4
  %tobool8.not = icmp eq ptr %19, null
  br i1 %tobool8.not, label %if.end11, label %if.then9

if.then9:                                         ; preds = %if.end7
  call void @__sanitizer_cov_trace_pc() #17
  %call.i.i60 = call zeroext i1 @__kasan_check_write(ptr noundef %opened4, i32 noundef 4) #15
  call void @llvm.prefetch.p0(ptr %opened4, i32 1, i32 3, i32 1) #15
  %20 = call { i32, i32 } asm sideeffect "@ atomic_sub\0A1:\09ldrex\09$0, [$3]\0A\09sub\09$0, $0, $4\0A\09strex\09$1, $0, [$3]\0A\09teq\09$1, #0\0A\09bne\091b", "=&r,=&r,=*Qo,r,Ir,*Qo,~{cc}"(ptr elementtype(i32) %opened4, ptr %opened4, i32 1, ptr elementtype(i32) %opened4) #15, !srcloc !230
  call fastcc void @vfio_group_put(ptr noundef %add.ptr)
  br label %cleanup

if.end11:                                         ; preds = %if.end7
  %head = getelementptr i8, ptr %2, i32 568
  %21 = ptrtoint ptr %head to i32
  call void @__asan_load4_noabort(i32 %21)
  %22 = load ptr, ptr %head, align 8
  %tobool12.not = icmp eq ptr %22, null
  br i1 %tobool12.not, label %if.end11.if.end46_crit_edge, label %do.end, !prof !223

if.end11.if.end46_crit_edge:                      ; preds = %if.end11
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end46

do.end:                                           ; preds = %if.end11
  call void @__sanitizer_cov_trace_pc() #17
  %notifier = getelementptr i8, ptr %2, i32 472
  call void (ptr, i32, i32, ptr, ...) @warn_slowpath_fmt(ptr noundef nonnull @.str, i32 noundef 1508, i32 noundef 9, ptr noundef null) #15
  call void @__init_rwsem(ptr noundef %notifier, ptr noundef nonnull @.str.23, ptr noundef nonnull @vfio_group_fops_open.__key) #15
  %23 = ptrtoint ptr %head to i32
  call void @__asan_store4_noabort(i32 %23)
  store ptr null, ptr %head, align 8
  br label %if.end46

if.end46:                                         ; preds = %do.end, %if.end11.if.end46_crit_edge
  %private_data = getelementptr inbounds %struct.file, ptr %filep, i32 0, i32 16
  %24 = ptrtoint ptr %private_data to i32
  call void @__asan_store4_noabort(i32 %24)
  store ptr %add.ptr, ptr %private_data, align 4
  br label %cleanup

cleanup:                                          ; preds = %if.end46, %if.then9, %if.then6, %if.then2, %refcount_inc_not_zero.exit.cleanup_crit_edge
  %retval.0 = phi i32 [ -16, %if.then6 ], [ -16, %if.then9 ], [ 0, %if.end46 ], [ -1, %if.then2 ], [ -19, %refcount_inc_not_zero.exit.cleanup_crit_edge ]
  ret i32 %retval.0
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal i32 @vfio_group_fops_release(ptr nocapture noundef readnone %inode, ptr nocapture noundef %filep) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %private_data = getelementptr inbounds %struct.file, ptr %filep, i32 0, i32 16
  %0 = ptrtoint ptr %private_data to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %private_data, align 4
  store ptr null, ptr %private_data, align 4
  %container_users.i = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 3
  %call.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %container_users.i, i32 noundef 4) #15
  %2 = ptrtoint ptr %container_users.i to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load volatile i32, ptr %container_users.i, align 4
  br label %do.body1.i.i.i

do.body1.i.i.i:                                   ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i.do.body1.i.i.i_crit_edge, %entry
  %c.0.i.i.i = phi i32 [ %3, %entry ], [ %asmresult3.i.i.i.i.i.i, %arch_atomic_cmpxchg.exit.i.i.i.i.do.body1.i.i.i_crit_edge ]
  %sub.i.i.i = add i32 %c.0.i.i.i, -1
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %sub.i.i.i)
  %cmp.i.i.i = icmp slt i32 %sub.i.i.i, 0
  br i1 %cmp.i.i.i, label %do.body1.i.i.i.vfio_group_try_dissolve_container.exit_crit_edge, label %do.cond3.i.i.i, !prof !220

do.body1.i.i.i.vfio_group_try_dissolve_container.exit_crit_edge: ; preds = %do.body1.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_group_try_dissolve_container.exit

do.cond3.i.i.i:                                   ; preds = %do.body1.i.i.i
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !231
  tail call void @llvm.prefetch.p0(ptr %container_users.i, i32 1, i32 3, i32 1) #15
  br label %do.body.i.i.i.i.i.i

do.body.i.i.i.i.i.i:                              ; preds = %do.body.i.i.i.i.i.i.do.body.i.i.i.i.i.i_crit_edge, %do.cond3.i.i.i
  %4 = tail call { i32, i32 } asm sideeffect "@ atomic_cmpxchg\0Aldrex\09$1, [$3]\0Amov\09$0, #0\0Ateq\09$1, $4\0Astrexeq $0, $5, [$3]\0A", "=&r,=&r,=*Qo,r,Ir,r,*Qo,~{cc}"(ptr elementtype(i32) %container_users.i, ptr %container_users.i, i32 %c.0.i.i.i, i32 %sub.i.i.i, ptr elementtype(i32) %container_users.i) #15, !srcloc !232
  %asmresult.i.i.i.i.i.i = extractvalue { i32, i32 } %4, 0
  %tobool.not.i.i.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i.i.i, 0
  br i1 %tobool.not.i.i.i.i.i.i, label %arch_atomic_cmpxchg.exit.i.i.i.i, label %do.body.i.i.i.i.i.i.do.body.i.i.i.i.i.i_crit_edge

do.body.i.i.i.i.i.i.do.body.i.i.i.i.i.i_crit_edge: ; preds = %do.body.i.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body.i.i.i.i.i.i

arch_atomic_cmpxchg.exit.i.i.i.i:                 ; preds = %do.body.i.i.i.i.i.i
  %asmresult3.i.i.i.i.i.i = extractvalue { i32, i32 } %4, 1
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !233
  %cmp.not.i.i.i.i = icmp eq i32 %asmresult3.i.i.i.i.i.i, %c.0.i.i.i
  br i1 %cmp.not.i.i.i.i, label %atomic_dec_if_positive.exit.i, label %arch_atomic_cmpxchg.exit.i.i.i.i.do.body1.i.i.i_crit_edge, !prof !223

arch_atomic_cmpxchg.exit.i.i.i.i.do.body1.i.i.i_crit_edge: ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body1.i.i.i

atomic_dec_if_positive.exit.i:                    ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %sub.i.i.i)
  %cmp.i = icmp eq i32 %sub.i.i.i, 0
  br i1 %cmp.i, label %if.then.i, label %atomic_dec_if_positive.exit.i.vfio_group_try_dissolve_container.exit_crit_edge

atomic_dec_if_positive.exit.i.vfio_group_try_dissolve_container.exit_crit_edge: ; preds = %atomic_dec_if_positive.exit.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_group_try_dissolve_container.exit

if.then.i:                                        ; preds = %atomic_dec_if_positive.exit.i
  call void @__sanitizer_cov_trace_pc() #17
  tail call fastcc void @__vfio_group_unset_container(ptr noundef %1) #15
  br label %vfio_group_try_dissolve_container.exit

vfio_group_try_dissolve_container.exit:           ; preds = %if.then.i, %atomic_dec_if_positive.exit.i.vfio_group_try_dissolve_container.exit_crit_edge, %do.body1.i.i.i.vfio_group_try_dissolve_container.exit_crit_edge
  %opened = getelementptr inbounds %struct.vfio_group, ptr %1, i32 0, i32 13
  %call.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %opened, i32 noundef 4) #15
  tail call void @llvm.prefetch.p0(ptr %opened, i32 1, i32 3, i32 1) #15
  %5 = tail call { i32, i32 } asm sideeffect "@ atomic_sub\0A1:\09ldrex\09$0, [$3]\0A\09sub\09$0, $0, $4\0A\09strex\09$1, $0, [$3]\0A\09teq\09$1, #0\0A\09bne\091b", "=&r,=&r,=*Qo,r,Ir,*Qo,~{cc}"(ptr elementtype(i32) %opened, ptr %opened, i32 1, ptr elementtype(i32) %opened) #15, !srcloc !230
  tail call fastcc void @vfio_group_put(ptr noundef %1)
  ret i32 0
}

; Function Attrs: null_pointer_is_valid
declare dso_local void @__might_fault(ptr noundef, i32 noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local ptr @strndup_user(ptr noundef, i32 noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local zeroext i1 @should_fail_usercopy() local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local i32 @arm_copy_from_user(ptr noundef, ptr noundef, i32 noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local i32 @iommu_group_for_each_dev(ptr noundef, ptr noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local i32 @arm_copy_to_user(ptr noundef, ptr noundef, i32 noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local zeroext i1 @capable(i32 noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @down_write(ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @up_write(ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local i32 @__fdget(i32 noundef) local_unnamed_addr #2

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal i32 @vfio_fops_unl_ioctl(ptr nocapture noundef readonly %filep, i32 noundef %cmd, i32 noundef %arg) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %private_data = getelementptr inbounds %struct.file, ptr %filep, i32 0, i32 16
  %0 = ptrtoint ptr %private_data to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %private_data, align 4
  %tobool.not = icmp eq ptr %1, null
  br i1 %tobool.not, label %entry.cleanup_crit_edge, label %if.end

entry.cleanup_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end:                                           ; preds = %entry
  %2 = zext i32 %cmd to i64
  call void @__sanitizer_cov_trace_switch(i64 %2, ptr @__sancov_gen_cov_switch_values.56)
  switch i32 %cmd, label %sw.default [
    i32 15204, label %if.end.cleanup_crit_edge
    i32 15205, label %sw.bb1
    i32 15206, label %sw.bb2
  ]

if.end.cleanup_crit_edge:                         ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

sw.bb1:                                           ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  %call = tail call fastcc i32 @vfio_ioctl_check_extension(ptr noundef nonnull %1, i32 noundef %arg)
  br label %cleanup

sw.bb2:                                           ; preds = %if.end
  %group_lock.i = getelementptr inbounds %struct.vfio_container, ptr %1, i32 0, i32 2
  tail call void @down_write(ptr noundef %group_lock.i) #15
  %group_list.i = getelementptr inbounds %struct.vfio_container, ptr %1, i32 0, i32 1
  %3 = ptrtoint ptr %group_list.i to i32
  call void @__asan_load4_noabort(i32 %3)
  %4 = load volatile ptr, ptr %group_list.i, align 4
  %cmp.i.not.i = icmp eq ptr %4, %group_list.i
  br i1 %cmp.i.not.i, label %sw.bb2.vfio_ioctl_set_iommu.exit_crit_edge, label %lor.lhs.false.i

sw.bb2.vfio_ioctl_set_iommu.exit_crit_edge:       ; preds = %sw.bb2
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_ioctl_set_iommu.exit

lor.lhs.false.i:                                  ; preds = %sw.bb2
  %iommu_driver.i = getelementptr inbounds %struct.vfio_container, ptr %1, i32 0, i32 3
  %5 = ptrtoint ptr %iommu_driver.i to i32
  call void @__asan_load4_noabort(i32 %5)
  %6 = load ptr, ptr %iommu_driver.i, align 4
  %tobool1.not.i = icmp eq ptr %6, null
  br i1 %tobool1.not.i, label %if.end.i, label %lor.lhs.false.i.vfio_ioctl_set_iommu.exit_crit_edge

lor.lhs.false.i.vfio_ioctl_set_iommu.exit_crit_edge: ; preds = %lor.lhs.false.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_ioctl_set_iommu.exit

if.end.i:                                         ; preds = %lor.lhs.false.i
  tail call void @mutex_lock_nested(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 2), i32 noundef 0) #15
  %.pn80.i = load ptr, ptr getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 1), align 4
  %cmp.not82.i = icmp eq ptr %.pn80.i, getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 1)
  br i1 %cmp.not82.i, label %if.end.i.for.end.i_crit_edge, label %for.body.lr.ph.i

if.end.i.for.end.i_crit_edge:                     ; preds = %if.end.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.end.i

for.body.lr.ph.i:                                 ; preds = %if.end.i
  %noiommu.i.i = getelementptr inbounds %struct.vfio_container, ptr %1, i32 0, i32 5
  br label %for.body.i

for.body.i:                                       ; preds = %cleanup.i.for.body.i_crit_edge, %for.body.lr.ph.i
  %.pn84.i = phi ptr [ %.pn80.i, %for.body.lr.ph.i ], [ %.pn.i, %cleanup.i.for.body.i_crit_edge ]
  %ret.083.i = phi i32 [ -19, %for.body.lr.ph.i ], [ %ret.1.i, %cleanup.i.for.body.i_crit_edge ]
  %driver.085.i = getelementptr i8, ptr %.pn84.i, i32 -4
  %7 = ptrtoint ptr %noiommu.i.i to i32
  call void @__asan_load1_noabort(i32 %7)
  %8 = load i8, ptr %noiommu.i.i, align 4, !range !225
  %9 = ptrtoint ptr %driver.085.i to i32
  call void @__asan_load4_noabort(i32 %9)
  %10 = load ptr, ptr %driver.085.i, align 4
  %cmp.i64.i = icmp eq ptr %10, @vfio_noiommu_ops
  %11 = zext i1 %cmp.i64.i to i8
  call void @__sanitizer_cov_trace_cmp1(i8 %8, i8 %11)
  %cmp2.i.i = icmp eq i8 %8, %11
  br i1 %cmp2.i.i, label %if.end5.i, label %for.body.i.cleanup.i_crit_edge

for.body.i.cleanup.i_crit_edge:                   ; preds = %for.body.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup.i

if.end5.i:                                        ; preds = %for.body.i
  %owner.i = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %10, i32 0, i32 1
  %12 = ptrtoint ptr %owner.i to i32
  call void @__asan_load4_noabort(i32 %12)
  %13 = load ptr, ptr %owner.i, align 4
  %call6.i = tail call zeroext i1 @try_module_get(ptr noundef %13) #15
  br i1 %call6.i, label %if.end8.i, label %if.end5.i.cleanup.i_crit_edge

if.end5.i.cleanup.i_crit_edge:                    ; preds = %if.end5.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup.i

if.end8.i:                                        ; preds = %if.end5.i
  %14 = ptrtoint ptr %driver.085.i to i32
  call void @__asan_load4_noabort(i32 %14)
  %15 = load ptr, ptr %driver.085.i, align 4
  %ioctl.i = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %15, i32 0, i32 4
  %16 = ptrtoint ptr %ioctl.i to i32
  call void @__asan_load4_noabort(i32 %16)
  %17 = load ptr, ptr %ioctl.i, align 4
  %call10.i = tail call i32 %17(ptr noundef null, i32 noundef 15205, i32 noundef %arg) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 1, i32 %call10.i)
  %cmp11.i = icmp slt i32 %call10.i, 1
  %18 = ptrtoint ptr %driver.085.i to i32
  call void @__asan_load4_noabort(i32 %18)
  %19 = load ptr, ptr %driver.085.i, align 4
  br i1 %cmp11.i, label %if.end8.i.cleanup.sink.split.i_crit_edge, label %if.end15.i

if.end8.i.cleanup.sink.split.i_crit_edge:         ; preds = %if.end8.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup.sink.split.i

if.end15.i:                                       ; preds = %if.end8.i
  %open.i = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %19, i32 0, i32 2
  %20 = ptrtoint ptr %open.i to i32
  call void @__asan_load4_noabort(i32 %20)
  %21 = load ptr, ptr %open.i, align 4
  %call17.i = tail call ptr %21(i32 noundef %arg) #15
  %cmp.i65.i = icmp ugt ptr %call17.i, inttoptr (i32 -4096 to ptr)
  br i1 %cmp.i65.i, label %if.then19.i, label %if.end23.i

if.then19.i:                                      ; preds = %if.end15.i
  call void @__sanitizer_cov_trace_pc() #17
  %22 = ptrtoint ptr %call17.i to i32
  br label %cleanup.sink.split.sink.split.i

if.end23.i:                                       ; preds = %if.end15.i
  %23 = ptrtoint ptr %group_list.i to i32
  call void @__asan_load4_noabort(i32 %23)
  %.pn44.i.i = load ptr, ptr %group_list.i, align 4
  %cmp.not45.i.i = icmp eq ptr %.pn44.i.i, %group_list.i
  br i1 %cmp.not45.i.i, label %if.end23.i.if.then26.i_crit_edge, label %if.end23.i.for.body.i.i_crit_edge

if.end23.i.for.body.i.i_crit_edge:                ; preds = %if.end23.i
  br label %for.body.i.i

if.end23.i.if.then26.i_crit_edge:                 ; preds = %if.end23.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.then26.i

for.cond.i.i:                                     ; preds = %for.body.i.i
  %24 = ptrtoint ptr %.pn46.i.i to i32
  call void @__asan_load4_noabort(i32 %24)
  %.pn.i.i = load ptr, ptr %.pn46.i.i, align 4
  %cmp.not.i.i = icmp eq ptr %.pn.i.i, %group_list.i
  br i1 %cmp.not.i.i, label %cleanup.thread.i, label %for.cond.i.i.for.body.i.i_crit_edge

for.cond.i.i.for.body.i.i_crit_edge:              ; preds = %for.cond.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.body.i.i

for.body.i.i:                                     ; preds = %for.cond.i.i.for.body.i.i_crit_edge, %if.end23.i.for.body.i.i_crit_edge
  %.pn46.i.i = phi ptr [ %.pn.i.i, %for.cond.i.i.for.body.i.i_crit_edge ], [ %.pn44.i.i, %if.end23.i.for.body.i.i_crit_edge ]
  %25 = ptrtoint ptr %driver.085.i to i32
  call void @__asan_load4_noabort(i32 %25)
  %26 = load ptr, ptr %driver.085.i, align 4
  %attach_group.i.i = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %26, i32 0, i32 5
  %27 = ptrtoint ptr %attach_group.i.i to i32
  call void @__asan_load4_noabort(i32 %27)
  %28 = load ptr, ptr %attach_group.i.i, align 4
  %iommu_group.i.i = getelementptr i8, ptr %.pn46.i.i, i32 -128
  %29 = ptrtoint ptr %iommu_group.i.i to i32
  call void @__asan_load4_noabort(i32 %29)
  %30 = load ptr, ptr %iommu_group.i.i, align 8
  %type.i.i = getelementptr i8, ptr %.pn46.i.i, i32 164
  %31 = ptrtoint ptr %type.i.i to i32
  call void @__asan_load4_noabort(i32 %31)
  %32 = load i32, ptr %type.i.i, align 4
  %call.i.i = tail call i32 %28(ptr noundef %call17.i, ptr noundef %30, i32 noundef %32) #15
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %call.i.i)
  %tobool.not.i.i = icmp eq i32 %call.i.i, 0
  br i1 %tobool.not.i.i, label %for.cond.i.i, label %for.cond11.preheader.i.i

for.cond11.preheader.i.i:                         ; preds = %for.body.i.i
  %.pn40.in47.i.i = getelementptr inbounds %struct.list_head, ptr %.pn46.i.i, i32 0, i32 1
  %33 = ptrtoint ptr %.pn40.in47.i.i to i32
  call void @__asan_load4_noabort(i32 %33)
  %.pn4048.i.i = load ptr, ptr %.pn40.in47.i.i, align 4
  %cmp14.not49.i.i = icmp eq ptr %.pn4048.i.i, %group_list.i
  br i1 %cmp14.not49.i.i, label %for.cond11.preheader.i.i.if.then26.i_crit_edge, label %for.cond11.preheader.i.i.for.body16.i.i_crit_edge

for.cond11.preheader.i.i.for.body16.i.i_crit_edge: ; preds = %for.cond11.preheader.i.i
  br label %for.body16.i.i

for.cond11.preheader.i.i.if.then26.i_crit_edge:   ; preds = %for.cond11.preheader.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.then26.i

for.body16.i.i:                                   ; preds = %for.body16.i.i.for.body16.i.i_crit_edge, %for.cond11.preheader.i.i.for.body16.i.i_crit_edge
  %.pn4050.i.i = phi ptr [ %.pn40.i.i, %for.body16.i.i.for.body16.i.i_crit_edge ], [ %.pn4048.i.i, %for.cond11.preheader.i.i.for.body16.i.i_crit_edge ]
  %34 = ptrtoint ptr %driver.085.i to i32
  call void @__asan_load4_noabort(i32 %34)
  %35 = load ptr, ptr %driver.085.i, align 4
  %detach_group.i.i = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %35, i32 0, i32 6
  %36 = ptrtoint ptr %detach_group.i.i to i32
  call void @__asan_load4_noabort(i32 %36)
  %37 = load ptr, ptr %detach_group.i.i, align 4
  %iommu_group18.i.i = getelementptr i8, ptr %.pn4050.i.i, i32 -128
  %38 = ptrtoint ptr %iommu_group18.i.i to i32
  call void @__asan_load4_noabort(i32 %38)
  %39 = load ptr, ptr %iommu_group18.i.i, align 8
  tail call void %37(ptr noundef %call17.i, ptr noundef %39) #15
  %.pn40.in.i.i = getelementptr inbounds %struct.list_head, ptr %.pn4050.i.i, i32 0, i32 1
  %40 = ptrtoint ptr %.pn40.in.i.i to i32
  call void @__asan_load4_noabort(i32 %40)
  %.pn40.i.i = load ptr, ptr %.pn40.in.i.i, align 4
  %cmp14.not.i.i = icmp eq ptr %.pn40.i.i, %group_list.i
  br i1 %cmp14.not.i.i, label %for.body16.i.i.if.then26.i_crit_edge, label %for.body16.i.i.for.body16.i.i_crit_edge

for.body16.i.i.for.body16.i.i_crit_edge:          ; preds = %for.body16.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.body16.i.i

for.body16.i.i.if.then26.i_crit_edge:             ; preds = %for.body16.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.then26.i

if.then26.i:                                      ; preds = %for.body16.i.i.if.then26.i_crit_edge, %for.cond11.preheader.i.i.if.then26.i_crit_edge, %if.end23.i.if.then26.i_crit_edge
  %retval.0.i68.i = phi i32 [ -19, %if.end23.i.if.then26.i_crit_edge ], [ %call.i.i, %for.cond11.preheader.i.i.if.then26.i_crit_edge ], [ %call.i.i, %for.body16.i.i.if.then26.i_crit_edge ]
  %41 = ptrtoint ptr %driver.085.i to i32
  call void @__asan_load4_noabort(i32 %41)
  %42 = load ptr, ptr %driver.085.i, align 4
  %release.i = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %42, i32 0, i32 3
  %43 = ptrtoint ptr %release.i to i32
  call void @__asan_load4_noabort(i32 %43)
  %44 = load ptr, ptr %release.i, align 4
  tail call void %44(ptr noundef %call17.i) #15
  br label %cleanup.sink.split.sink.split.i

cleanup.thread.i:                                 ; preds = %for.cond.i.i
  call void @__sanitizer_cov_trace_pc() #17
  %45 = ptrtoint ptr %iommu_driver.i to i32
  call void @__asan_store4_noabort(i32 %45)
  store ptr %driver.085.i, ptr %iommu_driver.i, align 4
  %iommu_data.i = getelementptr inbounds %struct.vfio_container, ptr %1, i32 0, i32 4
  %46 = ptrtoint ptr %iommu_data.i to i32
  call void @__asan_store4_noabort(i32 %46)
  store ptr %call17.i, ptr %iommu_data.i, align 4
  br label %for.end.i

cleanup.sink.split.sink.split.i:                  ; preds = %if.then26.i, %if.then19.i
  %ret.1.ph.ph.i = phi i32 [ %22, %if.then19.i ], [ %retval.0.i68.i, %if.then26.i ]
  %47 = ptrtoint ptr %driver.085.i to i32
  call void @__asan_load4_noabort(i32 %47)
  %48 = load ptr, ptr %driver.085.i, align 4
  br label %cleanup.sink.split.i

cleanup.sink.split.i:                             ; preds = %cleanup.sink.split.sink.split.i, %if.end8.i.cleanup.sink.split.i_crit_edge
  %.sink.i = phi ptr [ %19, %if.end8.i.cleanup.sink.split.i_crit_edge ], [ %48, %cleanup.sink.split.sink.split.i ]
  %ret.1.ph.i = phi i32 [ %ret.083.i, %if.end8.i.cleanup.sink.split.i_crit_edge ], [ %ret.1.ph.ph.i, %cleanup.sink.split.sink.split.i ]
  %owner29.i = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %.sink.i, i32 0, i32 1
  %49 = ptrtoint ptr %owner29.i to i32
  call void @__asan_load4_noabort(i32 %49)
  %50 = load ptr, ptr %owner29.i, align 4
  tail call void @module_put(ptr noundef %50) #15
  br label %cleanup.i

cleanup.i:                                        ; preds = %cleanup.sink.split.i, %if.end5.i.cleanup.i_crit_edge, %for.body.i.cleanup.i_crit_edge
  %ret.1.i = phi i32 [ %ret.083.i, %for.body.i.cleanup.i_crit_edge ], [ %ret.083.i, %if.end5.i.cleanup.i_crit_edge ], [ %ret.1.ph.i, %cleanup.sink.split.i ]
  %51 = ptrtoint ptr %.pn84.i to i32
  call void @__asan_load4_noabort(i32 %51)
  %.pn.i = load ptr, ptr %.pn84.i, align 4
  %cmp.not.i = icmp eq ptr %.pn.i, getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 1)
  br i1 %cmp.not.i, label %cleanup.i.for.end.i_crit_edge, label %cleanup.i.for.body.i_crit_edge

cleanup.i.for.body.i_crit_edge:                   ; preds = %cleanup.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.body.i

cleanup.i.for.end.i_crit_edge:                    ; preds = %cleanup.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %for.end.i

for.end.i:                                        ; preds = %cleanup.i.for.end.i_crit_edge, %cleanup.thread.i, %if.end.i.for.end.i_crit_edge
  %ret.2.i = phi i32 [ 0, %cleanup.thread.i ], [ -19, %if.end.i.for.end.i_crit_edge ], [ %ret.1.i, %cleanup.i.for.end.i_crit_edge ]
  tail call void @mutex_unlock(ptr noundef getelementptr inbounds (%struct.vfio, ptr @vfio, i32 0, i32 2)) #15
  br label %vfio_ioctl_set_iommu.exit

vfio_ioctl_set_iommu.exit:                        ; preds = %for.end.i, %lor.lhs.false.i.vfio_ioctl_set_iommu.exit_crit_edge, %sw.bb2.vfio_ioctl_set_iommu.exit_crit_edge
  %retval.0.i = phi i32 [ %ret.2.i, %for.end.i ], [ -22, %lor.lhs.false.i.vfio_ioctl_set_iommu.exit_crit_edge ], [ -22, %sw.bb2.vfio_ioctl_set_iommu.exit_crit_edge ]
  tail call void @up_write(ptr noundef %group_lock.i) #15
  br label %cleanup

sw.default:                                       ; preds = %if.end
  %iommu_driver = getelementptr inbounds %struct.vfio_container, ptr %1, i32 0, i32 3
  %52 = ptrtoint ptr %iommu_driver to i32
  call void @__asan_load4_noabort(i32 %52)
  %53 = load ptr, ptr %iommu_driver, align 4
  %tobool4.not = icmp eq ptr %53, null
  br i1 %tobool4.not, label %sw.default.cleanup_crit_edge, label %if.then5

sw.default.cleanup_crit_edge:                     ; preds = %sw.default
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.then5:                                         ; preds = %sw.default
  call void @__sanitizer_cov_trace_pc() #17
  %iommu_data = getelementptr inbounds %struct.vfio_container, ptr %1, i32 0, i32 4
  %54 = ptrtoint ptr %iommu_data to i32
  call void @__asan_load4_noabort(i32 %54)
  %55 = load ptr, ptr %iommu_data, align 4
  %56 = ptrtoint ptr %53 to i32
  call void @__asan_load4_noabort(i32 %56)
  %57 = load ptr, ptr %53, align 4
  %ioctl = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %57, i32 0, i32 4
  %58 = ptrtoint ptr %ioctl to i32
  call void @__asan_load4_noabort(i32 %58)
  %59 = load ptr, ptr %ioctl, align 4
  %call6 = tail call i32 %59(ptr noundef %55, i32 noundef %cmd, i32 noundef %arg) #15
  br label %cleanup

cleanup:                                          ; preds = %if.then5, %sw.default.cleanup_crit_edge, %vfio_ioctl_set_iommu.exit, %sw.bb1, %if.end.cleanup_crit_edge, %entry.cleanup_crit_edge
  %retval.0 = phi i32 [ -22, %entry.cleanup_crit_edge ], [ %call6, %if.then5 ], [ -22, %sw.default.cleanup_crit_edge ], [ %retval.0.i, %vfio_ioctl_set_iommu.exit ], [ %call, %sw.bb1 ], [ 0, %if.end.cleanup_crit_edge ]
  ret i32 %retval.0
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal i32 @vfio_fops_open(ptr nocapture noundef readnone %inode, ptr nocapture noundef writeonly %filep) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  call void @__asan_load4_noabort(i32 ptrtoint (ptr getelementptr inbounds ([4 x [14 x ptr]], ptr @kmalloc_caches, i32 0, i32 0, i32 7) to i32))
  %0 = load ptr, ptr getelementptr inbounds ([4 x [14 x ptr]], ptr @kmalloc_caches, i32 0, i32 0, i32 7), align 4
  %call7.i.i = tail call noalias align 8 ptr @kmem_cache_alloc_trace(ptr noundef %0, i32 noundef 3520, i32 noundef 120) #18
  %tobool.not = icmp eq ptr %call7.i.i, null
  br i1 %tobool.not, label %entry.cleanup_crit_edge, label %if.end

entry.cleanup_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end:                                           ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  %group_list = getelementptr inbounds %struct.vfio_container, ptr %call7.i.i, i32 0, i32 1
  %1 = ptrtoint ptr %group_list to i32
  call void @__asan_store4_noabort(i32 %1)
  store volatile ptr %group_list, ptr %group_list, align 4
  %prev.i = getelementptr inbounds %struct.vfio_container, ptr %call7.i.i, i32 0, i32 1, i32 1
  %2 = ptrtoint ptr %prev.i to i32
  call void @__asan_store4_noabort(i32 %2)
  store ptr %group_list, ptr %prev.i, align 8
  %group_lock = getelementptr inbounds %struct.vfio_container, ptr %call7.i.i, i32 0, i32 2
  tail call void @__init_rwsem(ptr noundef %group_lock, ptr noundef nonnull @.str.35, ptr noundef nonnull @vfio_fops_open.__key) #15
  %call.i.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef nonnull %call7.i.i, i32 noundef 4) #15
  %3 = ptrtoint ptr %call7.i.i to i32
  call void @__asan_store4_noabort(i32 %3)
  store volatile i32 1, ptr %call7.i.i, align 8
  %private_data = getelementptr inbounds %struct.file, ptr %filep, i32 0, i32 16
  %4 = ptrtoint ptr %private_data to i32
  call void @__asan_store4_noabort(i32 %4)
  store ptr %call7.i.i, ptr %private_data, align 4
  br label %cleanup

cleanup:                                          ; preds = %if.end, %entry.cleanup_crit_edge
  %retval.0 = phi i32 [ 0, %if.end ], [ -12, %entry.cleanup_crit_edge ]
  ret i32 %retval.0
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal i32 @vfio_fops_release(ptr nocapture noundef readnone %inode, ptr nocapture noundef %filep) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %private_data = getelementptr inbounds %struct.file, ptr %filep, i32 0, i32 16
  %0 = ptrtoint ptr %private_data to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %private_data, align 4
  %iommu_driver = getelementptr inbounds %struct.vfio_container, ptr %1, i32 0, i32 3
  %2 = ptrtoint ptr %iommu_driver to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load ptr, ptr %iommu_driver, align 4
  %tobool.not = icmp eq ptr %3, null
  br i1 %tobool.not, label %entry.if.end_crit_edge, label %land.lhs.true

entry.if.end_crit_edge:                           ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end

land.lhs.true:                                    ; preds = %entry
  %4 = ptrtoint ptr %3 to i32
  call void @__asan_load4_noabort(i32 %4)
  %5 = load ptr, ptr %3, align 4
  %notify = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %5, i32 0, i32 13
  %6 = ptrtoint ptr %notify to i32
  call void @__asan_load4_noabort(i32 %6)
  %7 = load ptr, ptr %notify, align 4
  %tobool1.not = icmp eq ptr %7, null
  br i1 %tobool1.not, label %land.lhs.true.if.end_crit_edge, label %if.then

land.lhs.true.if.end_crit_edge:                   ; preds = %land.lhs.true
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end

if.then:                                          ; preds = %land.lhs.true
  call void @__sanitizer_cov_trace_pc() #17
  %iommu_data = getelementptr inbounds %struct.vfio_container, ptr %1, i32 0, i32 4
  %8 = ptrtoint ptr %iommu_data to i32
  call void @__asan_load4_noabort(i32 %8)
  %9 = load ptr, ptr %iommu_data, align 4
  tail call void %7(ptr noundef %9, i32 noundef 0) #15
  br label %if.end

if.end:                                           ; preds = %if.then, %land.lhs.true.if.end_crit_edge, %entry.if.end_crit_edge
  %10 = ptrtoint ptr %private_data to i32
  call void @__asan_store4_noabort(i32 %10)
  store ptr null, ptr %private_data, align 4
  %call.i.i.i.i.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %1, i32 noundef 4) #15
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !221
  tail call void @llvm.prefetch.p0(ptr %1, i32 1, i32 3, i32 1) #15
  %11 = tail call { i32, i32, i32 } asm sideeffect "@ atomic_fetch_sub\0A1:\09ldrex\09$0, [$4]\0A\09sub\09$1, $0, $5\0A\09strex\09$2, $1, [$4]\0A\09teq\09$2, #0\0A\09bne\091b", "=&r,=&r,=&r,=*Qo,r,Ir,*Qo,~{cc}"(ptr elementtype(i32) %1, ptr %1, i32 1, ptr elementtype(i32) %1) #15, !srcloc !222
  %asmresult.i.i.i.i.i.i.i.i = extractvalue { i32, i32, i32 } %11, 0
  call void @__sanitizer_cov_trace_const_cmp4(i32 1, i32 %asmresult.i.i.i.i.i.i.i.i)
  %cmp.i.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i, label %if.then.i.i, label %if.end5.i.i.i.i.i

if.end5.i.i.i.i.i:                                ; preds = %if.end
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %asmresult.i.i.i.i.i.i.i.i)
  %.not.i.i.i.i.i = icmp sgt i32 %asmresult.i.i.i.i.i.i.i.i, 0
  br i1 %.not.i.i.i.i.i, label %if.end5.i.i.i.i.i.vfio_container_put.exit_crit_edge, label %if.then10.i.i.i.i.i, !prof !223

if.end5.i.i.i.i.i.vfio_container_put.exit_crit_edge: ; preds = %if.end5.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_container_put.exit

if.then10.i.i.i.i.i:                              ; preds = %if.end5.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  tail call void @refcount_warn_saturate(ptr noundef %1, i32 noundef 3) #15
  br label %vfio_container_put.exit

if.then.i.i:                                      ; preds = %if.end
  call void @__sanitizer_cov_trace_pc() #17
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !224
  tail call void @kfree(ptr noundef %1) #15
  br label %vfio_container_put.exit

vfio_container_put.exit:                          ; preds = %if.then.i.i, %if.then10.i.i.i.i.i, %if.end5.i.i.i.i.i.vfio_container_put.exit_crit_edge
  ret i32 0
}

; Function Attrs: null_pointer_is_valid
declare dso_local zeroext i1 @try_module_get(ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @module_put(ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @fput(ptr noundef) local_unnamed_addr #2

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal fastcc void @__vfio_group_unset_container(ptr noundef %group) unnamed_addr #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %container1 = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 5
  %0 = ptrtoint ptr %container1 to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %container1, align 4
  %group_lock = getelementptr inbounds %struct.vfio_container, ptr %1, i32 0, i32 2
  tail call void @down_write(ptr noundef %group_lock) #15
  %iommu_driver = getelementptr inbounds %struct.vfio_container, ptr %1, i32 0, i32 3
  %2 = ptrtoint ptr %iommu_driver to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load ptr, ptr %iommu_driver, align 4
  %tobool.not = icmp eq ptr %3, null
  br i1 %tobool.not, label %if.end11.critedge, label %if.then

if.then:                                          ; preds = %entry
  %4 = ptrtoint ptr %3 to i32
  call void @__asan_load4_noabort(i32 %4)
  %5 = load ptr, ptr %3, align 4
  %detach_group = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %5, i32 0, i32 6
  %6 = ptrtoint ptr %detach_group to i32
  call void @__asan_load4_noabort(i32 %6)
  %7 = load ptr, ptr %detach_group, align 4
  %iommu_data = getelementptr inbounds %struct.vfio_container, ptr %1, i32 0, i32 4
  %8 = ptrtoint ptr %iommu_data to i32
  call void @__asan_load4_noabort(i32 %8)
  %9 = load ptr, ptr %iommu_data, align 4
  %iommu_group = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 4
  %10 = ptrtoint ptr %iommu_group to i32
  call void @__asan_load4_noabort(i32 %10)
  %11 = load ptr, ptr %iommu_group, align 8
  tail call void %7(ptr noundef %9, ptr noundef %11) #15
  %12 = ptrtoint ptr %container1 to i32
  call void @__asan_store4_noabort(i32 %12)
  store ptr null, ptr %container1, align 4
  %container_q.c = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 14
  tail call void @__wake_up(ptr noundef %container_q.c, i32 noundef 3, i32 noundef 1, ptr noundef null) #15
  %container_next.c = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 10
  %call.i.i = tail call zeroext i1 @__list_del_entry_valid(ptr noundef %container_next.c) #15
  br i1 %call.i.i, label %if.end.i.i, label %if.then.list_del.exit_crit_edge

if.then.list_del.exit_crit_edge:                  ; preds = %if.then
  call void @__sanitizer_cov_trace_pc() #17
  br label %list_del.exit

if.end.i.i:                                       ; preds = %if.then
  call void @__sanitizer_cov_trace_pc() #17
  %prev.i.i = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 10, i32 1
  %13 = ptrtoint ptr %prev.i.i to i32
  call void @__asan_load4_noabort(i32 %13)
  %14 = load ptr, ptr %prev.i.i, align 4
  %15 = ptrtoint ptr %container_next.c to i32
  call void @__asan_load4_noabort(i32 %15)
  %16 = load ptr, ptr %container_next.c, align 4
  %prev1.i.i.i = getelementptr inbounds %struct.list_head, ptr %16, i32 0, i32 1
  %17 = ptrtoint ptr %prev1.i.i.i to i32
  call void @__asan_store4_noabort(i32 %17)
  store ptr %14, ptr %prev1.i.i.i, align 4
  %18 = ptrtoint ptr %14 to i32
  call void @__asan_store4_noabort(i32 %18)
  store volatile ptr %16, ptr %14, align 4
  br label %list_del.exit

list_del.exit:                                    ; preds = %if.end.i.i, %if.then.list_del.exit_crit_edge
  %19 = ptrtoint ptr %container_next.c to i32
  call void @__asan_store4_noabort(i32 %19)
  store ptr inttoptr (i32 256 to ptr), ptr %container_next.c, align 4
  %prev.i = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 10, i32 1
  %20 = ptrtoint ptr %prev.i to i32
  call void @__asan_store4_noabort(i32 %20)
  store ptr inttoptr (i32 290 to ptr), ptr %prev.i, align 4
  %group_list = getelementptr inbounds %struct.vfio_container, ptr %1, i32 0, i32 1
  %21 = ptrtoint ptr %group_list to i32
  call void @__asan_load4_noabort(i32 %21)
  %22 = load volatile ptr, ptr %group_list, align 4
  %cmp.i.not = icmp eq ptr %22, %group_list
  br i1 %cmp.i.not, label %if.then5, label %list_del.exit.if.end11_crit_edge

list_del.exit.if.end11_crit_edge:                 ; preds = %list_del.exit
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end11

if.then5:                                         ; preds = %list_del.exit
  call void @__sanitizer_cov_trace_pc() #17
  %23 = ptrtoint ptr %3 to i32
  call void @__asan_load4_noabort(i32 %23)
  %24 = load ptr, ptr %3, align 4
  %release = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %24, i32 0, i32 3
  %25 = ptrtoint ptr %release to i32
  call void @__asan_load4_noabort(i32 %25)
  %26 = load ptr, ptr %release, align 4
  %27 = ptrtoint ptr %iommu_data to i32
  call void @__asan_load4_noabort(i32 %27)
  %28 = load ptr, ptr %iommu_data, align 4
  tail call void %26(ptr noundef %28) #15
  %29 = ptrtoint ptr %3 to i32
  call void @__asan_load4_noabort(i32 %29)
  %30 = load ptr, ptr %3, align 4
  %owner = getelementptr inbounds %struct.vfio_iommu_driver_ops, ptr %30, i32 0, i32 1
  %31 = ptrtoint ptr %owner to i32
  call void @__asan_load4_noabort(i32 %31)
  %32 = load ptr, ptr %owner, align 4
  tail call void @module_put(ptr noundef %32) #15
  %33 = ptrtoint ptr %iommu_driver to i32
  call void @__asan_store4_noabort(i32 %33)
  store ptr null, ptr %iommu_driver, align 4
  %34 = ptrtoint ptr %iommu_data to i32
  call void @__asan_store4_noabort(i32 %34)
  store ptr null, ptr %iommu_data, align 4
  br label %if.end11

if.end11.critedge:                                ; preds = %entry
  %35 = ptrtoint ptr %container1 to i32
  call void @__asan_store4_noabort(i32 %35)
  store ptr null, ptr %container1, align 4
  %container_q.c29 = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 14
  tail call void @__wake_up(ptr noundef %container_q.c29, i32 noundef 3, i32 noundef 1, ptr noundef null) #15
  %container_next.c30 = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 10
  %call.i.i31 = tail call zeroext i1 @__list_del_entry_valid(ptr noundef %container_next.c30) #15
  br i1 %call.i.i31, label %if.end.i.i34, label %if.end11.critedge.list_del.exit36_crit_edge

if.end11.critedge.list_del.exit36_crit_edge:      ; preds = %if.end11.critedge
  call void @__sanitizer_cov_trace_pc() #17
  br label %list_del.exit36

if.end.i.i34:                                     ; preds = %if.end11.critedge
  call void @__sanitizer_cov_trace_pc() #17
  %prev.i.i32 = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 10, i32 1
  %36 = ptrtoint ptr %prev.i.i32 to i32
  call void @__asan_load4_noabort(i32 %36)
  %37 = load ptr, ptr %prev.i.i32, align 4
  %38 = ptrtoint ptr %container_next.c30 to i32
  call void @__asan_load4_noabort(i32 %38)
  %39 = load ptr, ptr %container_next.c30, align 4
  %prev1.i.i.i33 = getelementptr inbounds %struct.list_head, ptr %39, i32 0, i32 1
  %40 = ptrtoint ptr %prev1.i.i.i33 to i32
  call void @__asan_store4_noabort(i32 %40)
  store ptr %37, ptr %prev1.i.i.i33, align 4
  %41 = ptrtoint ptr %37 to i32
  call void @__asan_store4_noabort(i32 %41)
  store volatile ptr %39, ptr %37, align 4
  br label %list_del.exit36

list_del.exit36:                                  ; preds = %if.end.i.i34, %if.end11.critedge.list_del.exit36_crit_edge
  %42 = ptrtoint ptr %container_next.c30 to i32
  call void @__asan_store4_noabort(i32 %42)
  store ptr inttoptr (i32 256 to ptr), ptr %container_next.c30, align 4
  %prev.i35 = getelementptr inbounds %struct.vfio_group, ptr %group, i32 0, i32 10, i32 1
  %43 = ptrtoint ptr %prev.i35 to i32
  call void @__asan_store4_noabort(i32 %43)
  store ptr inttoptr (i32 290 to ptr), ptr %prev.i35, align 4
  br label %if.end11

if.end11:                                         ; preds = %list_del.exit36, %if.then5, %list_del.exit.if.end11_crit_edge
  tail call void @up_write(ptr noundef %group_lock) #15
  %call.i.i.i.i.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %1, i32 noundef 4) #15
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !221
  tail call void @llvm.prefetch.p0(ptr %1, i32 1, i32 3, i32 1) #15
  %44 = tail call { i32, i32, i32 } asm sideeffect "@ atomic_fetch_sub\0A1:\09ldrex\09$0, [$4]\0A\09sub\09$1, $0, $5\0A\09strex\09$2, $1, [$4]\0A\09teq\09$2, #0\0A\09bne\091b", "=&r,=&r,=&r,=*Qo,r,Ir,*Qo,~{cc}"(ptr elementtype(i32) %1, ptr %1, i32 1, ptr elementtype(i32) %1) #15, !srcloc !222
  %asmresult.i.i.i.i.i.i.i.i = extractvalue { i32, i32, i32 } %44, 0
  call void @__sanitizer_cov_trace_const_cmp4(i32 1, i32 %asmresult.i.i.i.i.i.i.i.i)
  %cmp.i.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i, label %if.then.i.i, label %if.end5.i.i.i.i.i

if.end5.i.i.i.i.i:                                ; preds = %if.end11
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %asmresult.i.i.i.i.i.i.i.i)
  %.not.i.i.i.i.i = icmp sgt i32 %asmresult.i.i.i.i.i.i.i.i, 0
  br i1 %.not.i.i.i.i.i, label %if.end5.i.i.i.i.i.vfio_container_put.exit_crit_edge, label %if.then10.i.i.i.i.i, !prof !223

if.end5.i.i.i.i.i.vfio_container_put.exit_crit_edge: ; preds = %if.end5.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_container_put.exit

if.then10.i.i.i.i.i:                              ; preds = %if.end5.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  tail call void @refcount_warn_saturate(ptr noundef %1, i32 noundef 3) #15
  br label %vfio_container_put.exit

if.then.i.i:                                      ; preds = %if.end11
  call void @__sanitizer_cov_trace_pc() #17
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !224
  tail call void @kfree(ptr noundef %1) #15
  br label %vfio_container_put.exit

vfio_container_put.exit:                          ; preds = %if.then.i.i, %if.then10.i.i.i.i.i, %if.end5.i.i.i.i.i.vfio_container_put.exit_crit_edge
  ret void
}

; Function Attrs: null_pointer_is_valid
declare dso_local void @__wake_up(ptr noundef, i32 noundef, i32 noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local i32 @get_unused_fd_flags(i32 noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local ptr @anon_inode_getfile(ptr noundef, ptr noundef, ptr noundef, i32 noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @fd_install(i32 noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @put_unused_fd(i32 noundef) local_unnamed_addr #2

; Function Attrs: argmemonly mustprogress nofree nounwind null_pointer_is_valid readonly willreturn
declare dso_local i32 @strcmp(ptr nocapture noundef, ptr nocapture noundef) local_unnamed_addr #12

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal i32 @vfio_device_fops_read(ptr nocapture noundef readonly %filep, ptr noundef %buf, i32 noundef %count, ptr noundef %ppos) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %private_data = getelementptr inbounds %struct.file, ptr %filep, i32 0, i32 16
  %0 = ptrtoint ptr %private_data to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %private_data, align 4
  %ops = getelementptr inbounds %struct.vfio_device, ptr %1, i32 0, i32 1
  %2 = ptrtoint ptr %ops to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load ptr, ptr %ops, align 4
  %read = getelementptr inbounds %struct.vfio_device_ops, ptr %3, i32 0, i32 3
  %4 = ptrtoint ptr %read to i32
  call void @__asan_load4_noabort(i32 %4)
  %5 = load ptr, ptr %read, align 4
  %tobool.not = icmp eq ptr %5, null
  br i1 %tobool.not, label %entry.cleanup_crit_edge, label %if.end, !prof !220

entry.cleanup_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end:                                           ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  %call = tail call i32 %5(ptr noundef %1, ptr noundef %buf, i32 noundef %count, ptr noundef %ppos) #15
  br label %cleanup

cleanup:                                          ; preds = %if.end, %entry.cleanup_crit_edge
  %retval.0 = phi i32 [ %call, %if.end ], [ -22, %entry.cleanup_crit_edge ]
  ret i32 %retval.0
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal i32 @vfio_device_fops_write(ptr nocapture noundef readonly %filep, ptr noundef %buf, i32 noundef %count, ptr noundef %ppos) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %private_data = getelementptr inbounds %struct.file, ptr %filep, i32 0, i32 16
  %0 = ptrtoint ptr %private_data to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %private_data, align 4
  %ops = getelementptr inbounds %struct.vfio_device, ptr %1, i32 0, i32 1
  %2 = ptrtoint ptr %ops to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load ptr, ptr %ops, align 4
  %write = getelementptr inbounds %struct.vfio_device_ops, ptr %3, i32 0, i32 4
  %4 = ptrtoint ptr %write to i32
  call void @__asan_load4_noabort(i32 %4)
  %5 = load ptr, ptr %write, align 4
  %tobool.not = icmp eq ptr %5, null
  br i1 %tobool.not, label %entry.cleanup_crit_edge, label %if.end, !prof !220

entry.cleanup_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end:                                           ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  %call = tail call i32 %5(ptr noundef %1, ptr noundef %buf, i32 noundef %count, ptr noundef %ppos) #15
  br label %cleanup

cleanup:                                          ; preds = %if.end, %entry.cleanup_crit_edge
  %retval.0 = phi i32 [ %call, %if.end ], [ -22, %entry.cleanup_crit_edge ]
  ret i32 %retval.0
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal i32 @vfio_device_fops_unl_ioctl(ptr nocapture noundef readonly %filep, i32 noundef %cmd, i32 noundef %arg) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %private_data = getelementptr inbounds %struct.file, ptr %filep, i32 0, i32 16
  %0 = ptrtoint ptr %private_data to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %private_data, align 4
  %ops = getelementptr inbounds %struct.vfio_device, ptr %1, i32 0, i32 1
  %2 = ptrtoint ptr %ops to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load ptr, ptr %ops, align 4
  %ioctl = getelementptr inbounds %struct.vfio_device_ops, ptr %3, i32 0, i32 5
  %4 = ptrtoint ptr %ioctl to i32
  call void @__asan_load4_noabort(i32 %4)
  %5 = load ptr, ptr %ioctl, align 4
  %tobool.not = icmp eq ptr %5, null
  br i1 %tobool.not, label %entry.cleanup_crit_edge, label %if.end, !prof !220

entry.cleanup_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end:                                           ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  %call = tail call i32 %5(ptr noundef %1, i32 noundef %cmd, i32 noundef %arg) #15
  br label %cleanup

cleanup:                                          ; preds = %if.end, %entry.cleanup_crit_edge
  %retval.0 = phi i32 [ %call, %if.end ], [ -22, %entry.cleanup_crit_edge ]
  ret i32 %retval.0
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal i32 @vfio_device_fops_mmap(ptr nocapture noundef readonly %filep, ptr noundef %vma) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %private_data = getelementptr inbounds %struct.file, ptr %filep, i32 0, i32 16
  %0 = ptrtoint ptr %private_data to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %private_data, align 4
  %ops = getelementptr inbounds %struct.vfio_device, ptr %1, i32 0, i32 1
  %2 = ptrtoint ptr %ops to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load ptr, ptr %ops, align 4
  %mmap = getelementptr inbounds %struct.vfio_device_ops, ptr %3, i32 0, i32 6
  %4 = ptrtoint ptr %mmap to i32
  call void @__asan_load4_noabort(i32 %4)
  %5 = load ptr, ptr %mmap, align 4
  %tobool.not = icmp eq ptr %5, null
  br i1 %tobool.not, label %entry.cleanup_crit_edge, label %if.end, !prof !220

entry.cleanup_crit_edge:                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %cleanup

if.end:                                           ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  %call = tail call i32 %5(ptr noundef %1, ptr noundef %vma) #15
  br label %cleanup

cleanup:                                          ; preds = %if.end, %entry.cleanup_crit_edge
  %retval.0 = phi i32 [ %call, %if.end ], [ -22, %entry.cleanup_crit_edge ]
  ret i32 %retval.0
}

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal i32 @vfio_device_fops_release(ptr nocapture noundef readnone %inode, ptr nocapture noundef readonly %filep) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %private_data = getelementptr inbounds %struct.file, ptr %filep, i32 0, i32 16
  %0 = ptrtoint ptr %private_data to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %private_data, align 4
  %dev_set = getelementptr inbounds %struct.vfio_device, ptr %1, i32 0, i32 3
  %2 = ptrtoint ptr %dev_set to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load ptr, ptr %dev_set, align 4
  %lock = getelementptr inbounds %struct.vfio_device_set, ptr %3, i32 0, i32 1
  tail call void @mutex_lock_nested(ptr noundef %lock, i32 noundef 0) #15
  %open_count = getelementptr inbounds %struct.vfio_device, ptr %1, i32 0, i32 6
  %4 = ptrtoint ptr %open_count to i32
  call void @__asan_load4_noabort(i32 %4)
  %5 = load i32, ptr %open_count, align 4
  %dec = add i32 %5, -1
  store i32 %dec, ptr %open_count, align 4
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %dec)
  %tobool.not = icmp eq i32 %dec, 0
  br i1 %tobool.not, label %land.lhs.true, label %entry.if.end_crit_edge

entry.if.end_crit_edge:                           ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end

land.lhs.true:                                    ; preds = %entry
  %ops = getelementptr inbounds %struct.vfio_device, ptr %1, i32 0, i32 1
  %6 = ptrtoint ptr %ops to i32
  call void @__asan_load4_noabort(i32 %6)
  %7 = load ptr, ptr %ops, align 4
  %close_device = getelementptr inbounds %struct.vfio_device_ops, ptr %7, i32 0, i32 2
  %8 = ptrtoint ptr %close_device to i32
  call void @__asan_load4_noabort(i32 %8)
  %9 = load ptr, ptr %close_device, align 4
  %tobool1.not = icmp eq ptr %9, null
  br i1 %tobool1.not, label %land.lhs.true.if.end_crit_edge, label %if.then

land.lhs.true.if.end_crit_edge:                   ; preds = %land.lhs.true
  call void @__sanitizer_cov_trace_pc() #17
  br label %if.end

if.then:                                          ; preds = %land.lhs.true
  call void @__sanitizer_cov_trace_pc() #17
  tail call void %9(ptr noundef %1) #15
  br label %if.end

if.end:                                           ; preds = %if.then, %land.lhs.true.if.end_crit_edge, %entry.if.end_crit_edge
  %10 = ptrtoint ptr %dev_set to i32
  call void @__asan_load4_noabort(i32 %10)
  %11 = load ptr, ptr %dev_set, align 4
  %lock5 = getelementptr inbounds %struct.vfio_device_set, ptr %11, i32 0, i32 1
  tail call void @mutex_unlock(ptr noundef %lock5) #15
  %12 = ptrtoint ptr %1 to i32
  call void @__asan_load4_noabort(i32 %12)
  %13 = load ptr, ptr %1, align 4
  %driver = getelementptr inbounds %struct.device, ptr %13, i32 0, i32 6
  %14 = ptrtoint ptr %driver to i32
  call void @__asan_load4_noabort(i32 %14)
  %15 = load ptr, ptr %driver, align 4
  %owner = getelementptr inbounds %struct.device_driver, ptr %15, i32 0, i32 2
  %16 = ptrtoint ptr %owner to i32
  call void @__asan_load4_noabort(i32 %16)
  %17 = load ptr, ptr %owner, align 4
  tail call void @module_put(ptr noundef %17) #15
  %group = getelementptr inbounds %struct.vfio_device, ptr %1, i32 0, i32 2
  %18 = ptrtoint ptr %group to i32
  call void @__asan_load4_noabort(i32 %18)
  %19 = load ptr, ptr %group, align 4
  %container_users.i = getelementptr inbounds %struct.vfio_group, ptr %19, i32 0, i32 3
  %call.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %container_users.i, i32 noundef 4) #15
  %20 = ptrtoint ptr %container_users.i to i32
  call void @__asan_load4_noabort(i32 %20)
  %21 = load volatile i32, ptr %container_users.i, align 4
  br label %do.body1.i.i.i

do.body1.i.i.i:                                   ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i.do.body1.i.i.i_crit_edge, %if.end
  %c.0.i.i.i = phi i32 [ %21, %if.end ], [ %asmresult3.i.i.i.i.i.i, %arch_atomic_cmpxchg.exit.i.i.i.i.do.body1.i.i.i_crit_edge ]
  %sub.i.i.i = add i32 %c.0.i.i.i, -1
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %sub.i.i.i)
  %cmp.i.i.i = icmp slt i32 %sub.i.i.i, 0
  br i1 %cmp.i.i.i, label %do.body1.i.i.i.vfio_group_try_dissolve_container.exit_crit_edge, label %do.cond3.i.i.i, !prof !220

do.body1.i.i.i.vfio_group_try_dissolve_container.exit_crit_edge: ; preds = %do.body1.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_group_try_dissolve_container.exit

do.cond3.i.i.i:                                   ; preds = %do.body1.i.i.i
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !231
  tail call void @llvm.prefetch.p0(ptr %container_users.i, i32 1, i32 3, i32 1) #15
  br label %do.body.i.i.i.i.i.i

do.body.i.i.i.i.i.i:                              ; preds = %do.body.i.i.i.i.i.i.do.body.i.i.i.i.i.i_crit_edge, %do.cond3.i.i.i
  %22 = tail call { i32, i32 } asm sideeffect "@ atomic_cmpxchg\0Aldrex\09$1, [$3]\0Amov\09$0, #0\0Ateq\09$1, $4\0Astrexeq $0, $5, [$3]\0A", "=&r,=&r,=*Qo,r,Ir,r,*Qo,~{cc}"(ptr elementtype(i32) %container_users.i, ptr %container_users.i, i32 %c.0.i.i.i, i32 %sub.i.i.i, ptr elementtype(i32) %container_users.i) #15, !srcloc !232
  %asmresult.i.i.i.i.i.i = extractvalue { i32, i32 } %22, 0
  %tobool.not.i.i.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i.i.i, 0
  br i1 %tobool.not.i.i.i.i.i.i, label %arch_atomic_cmpxchg.exit.i.i.i.i, label %do.body.i.i.i.i.i.i.do.body.i.i.i.i.i.i_crit_edge

do.body.i.i.i.i.i.i.do.body.i.i.i.i.i.i_crit_edge: ; preds = %do.body.i.i.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body.i.i.i.i.i.i

arch_atomic_cmpxchg.exit.i.i.i.i:                 ; preds = %do.body.i.i.i.i.i.i
  %asmresult3.i.i.i.i.i.i = extractvalue { i32, i32 } %22, 1
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !233
  %cmp.not.i.i.i.i = icmp eq i32 %asmresult3.i.i.i.i.i.i, %c.0.i.i.i
  br i1 %cmp.not.i.i.i.i, label %atomic_dec_if_positive.exit.i, label %arch_atomic_cmpxchg.exit.i.i.i.i.do.body1.i.i.i_crit_edge, !prof !223

arch_atomic_cmpxchg.exit.i.i.i.i.do.body1.i.i.i_crit_edge: ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %do.body1.i.i.i

atomic_dec_if_positive.exit.i:                    ; preds = %arch_atomic_cmpxchg.exit.i.i.i.i
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %sub.i.i.i)
  %cmp.i = icmp eq i32 %sub.i.i.i, 0
  br i1 %cmp.i, label %if.then.i, label %atomic_dec_if_positive.exit.i.vfio_group_try_dissolve_container.exit_crit_edge

atomic_dec_if_positive.exit.i.vfio_group_try_dissolve_container.exit_crit_edge: ; preds = %atomic_dec_if_positive.exit.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_group_try_dissolve_container.exit

if.then.i:                                        ; preds = %atomic_dec_if_positive.exit.i
  call void @__sanitizer_cov_trace_pc() #17
  tail call fastcc void @__vfio_group_unset_container(ptr noundef %19) #15
  br label %vfio_group_try_dissolve_container.exit

vfio_group_try_dissolve_container.exit:           ; preds = %if.then.i, %atomic_dec_if_positive.exit.i.vfio_group_try_dissolve_container.exit_crit_edge, %do.body1.i.i.i.vfio_group_try_dissolve_container.exit_crit_edge
  %refcount.i = getelementptr inbounds %struct.vfio_device, ptr %1, i32 0, i32 5
  %call.i.i.i.i.i.i = tail call zeroext i1 @__kasan_check_write(ptr noundef %refcount.i, i32 noundef 4) #15
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !221
  tail call void @llvm.prefetch.p0(ptr %refcount.i, i32 1, i32 3, i32 1) #15
  %23 = tail call { i32, i32, i32 } asm sideeffect "@ atomic_fetch_sub\0A1:\09ldrex\09$0, [$4]\0A\09sub\09$1, $0, $5\0A\09strex\09$2, $1, [$4]\0A\09teq\09$2, #0\0A\09bne\091b", "=&r,=&r,=&r,=*Qo,r,Ir,*Qo,~{cc}"(ptr elementtype(i32) %refcount.i, ptr %refcount.i, i32 1, ptr elementtype(i32) %refcount.i) #15, !srcloc !222
  %asmresult.i.i.i.i.i.i.i = extractvalue { i32, i32, i32 } %23, 0
  call void @__sanitizer_cov_trace_const_cmp4(i32 1, i32 %asmresult.i.i.i.i.i.i.i)
  %cmp.i.i.i.i = icmp eq i32 %asmresult.i.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i, label %if.then.i14, label %if.end5.i.i.i.i

if.end5.i.i.i.i:                                  ; preds = %vfio_group_try_dissolve_container.exit
  call void @__sanitizer_cov_trace_const_cmp4(i32 0, i32 %asmresult.i.i.i.i.i.i.i)
  %.not.i.i.i.i = icmp sgt i32 %asmresult.i.i.i.i.i.i.i, 0
  br i1 %.not.i.i.i.i, label %if.end5.i.i.i.i.vfio_device_put.exit_crit_edge, label %if.then10.i.i.i.i, !prof !223

if.end5.i.i.i.i.vfio_device_put.exit_crit_edge:   ; preds = %if.end5.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  br label %vfio_device_put.exit

if.then10.i.i.i.i:                                ; preds = %if.end5.i.i.i.i
  call void @__sanitizer_cov_trace_pc() #17
  tail call void @refcount_warn_saturate(ptr noundef %refcount.i, i32 noundef 3) #15
  br label %vfio_device_put.exit

if.then.i14:                                      ; preds = %vfio_group_try_dissolve_container.exit
  call void @__sanitizer_cov_trace_pc() #17
  tail call void asm sideeffect "mcr p15, 0, $0, c7, c10, 5", "r,~{memory}"(i32 0) #15, !srcloc !224
  %comp.i = getelementptr inbounds %struct.vfio_device, ptr %1, i32 0, i32 7
  tail call void @complete(ptr noundef %comp.i) #15
  br label %vfio_device_put.exit

vfio_device_put.exit:                             ; preds = %if.then.i14, %if.then10.i.i.i.i, %if.end5.i.i.i.i.vfio_device_put.exit_crit_edge
  ret i32 0
}

; Function Attrs: null_pointer_is_valid
declare dso_local void @down_read(ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @up_read(ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local i32 @blocking_notifier_chain_register(ptr noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local i32 @blocking_notifier_chain_unregister(ptr noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal ptr @vfio_noiommu_open(i32 noundef %arg) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  call void @__sanitizer_cov_trace_const_cmp4(i32 8, i32 %arg)
  %cmp.not = icmp eq i32 %arg, 8
  br i1 %cmp.not, label %if.end, label %entry.return_crit_edge

entry.return_crit_edge:                           ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %return

if.end:                                           ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  %call1 = tail call zeroext i1 @capable(i32 noundef 17) #15
  %spec.select = select i1 %call1, ptr null, ptr inttoptr (i32 -1 to ptr)
  br label %return

return:                                           ; preds = %if.end, %entry.return_crit_edge
  %retval.0 = phi ptr [ inttoptr (i32 -22 to ptr), %entry.return_crit_edge ], [ %spec.select, %if.end ]
  ret ptr %retval.0
}

; Function Attrs: mustprogress nofree norecurse nosync nounwind null_pointer_is_valid readnone sanitize_address sspstrong willreturn uwtable(sync)
define internal void @vfio_noiommu_release(ptr nocapture noundef %iommu_data) #13 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  ret void
}

; Function Attrs: mustprogress nofree norecurse nosync nounwind null_pointer_is_valid readonly sanitize_address sspstrong willreturn uwtable(sync)
define internal i32 @vfio_noiommu_ioctl(ptr nocapture noundef readnone %iommu_data, i32 noundef %cmd, i32 noundef %arg) #14 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  call void @__sanitizer_cov_trace_const_cmp4(i32 15205, i32 %cmd)
  %cmp = icmp eq i32 %cmd, 15205
  br i1 %cmp, label %if.then, label %entry.return_crit_edge

entry.return_crit_edge:                           ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %return

if.then:                                          ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  %0 = load i8, ptr @noiommu, align 1, !range !225
  call void @__sanitizer_cov_trace_const_cmp1(i8 0, i8 %0)
  %tobool.not = icmp ne i8 %0, 0
  call void @__sanitizer_cov_trace_const_cmp4(i32 8, i32 %arg)
  %cmp1 = icmp eq i32 %arg, 8
  %narrow = and i1 %cmp1, %tobool.not
  %1 = zext i1 %narrow to i32
  br label %return

return:                                           ; preds = %if.then, %entry.return_crit_edge
  %retval.0 = phi i32 [ %1, %if.then ], [ -25, %entry.return_crit_edge ]
  ret i32 %retval.0
}

; Function Attrs: mustprogress nofree norecurse nosync nounwind null_pointer_is_valid readnone sanitize_address sspstrong willreturn uwtable(sync)
define internal i32 @vfio_noiommu_attach_group(ptr nocapture noundef readnone %iommu_data, ptr nocapture noundef readnone %iommu_group, i32 noundef %type) #13 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  ret i32 0
}

; Function Attrs: mustprogress nofree norecurse nosync nounwind null_pointer_is_valid readnone sanitize_address sspstrong willreturn uwtable(sync)
define internal void @vfio_noiommu_detach_group(ptr nocapture noundef %iommu_data, ptr nocapture noundef %iommu_group) #13 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  ret void
}

; Function Attrs: null_pointer_is_valid
declare dso_local i32 @misc_register(ptr noundef) local_unnamed_addr #2

; Function Attrs: cold null_pointer_is_valid
declare dso_local i32 @_printk(ptr noundef, ...) local_unnamed_addr #3

; Function Attrs: null_pointer_is_valid
declare dso_local ptr @__class_create(ptr noundef, ptr noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync)
define internal noalias ptr @vfio_devnode(ptr nocapture noundef readonly %dev, ptr nocapture noundef readnone %mode) #0 align 64 {
entry:
  call void @__sanitizer_cov_trace_pc() #17
  call void @llvm.arm.gnu.eabi.mcount()
  %init_name.i = getelementptr inbounds %struct.device, ptr %dev, i32 0, i32 3
  %0 = ptrtoint ptr %init_name.i to i32
  call void @__asan_load4_noabort(i32 %0)
  %1 = load ptr, ptr %init_name.i, align 8
  %tobool.not.i = icmp eq ptr %1, null
  br i1 %tobool.not.i, label %if.end.i, label %entry.dev_name.exit_crit_edge

entry.dev_name.exit_crit_edge:                    ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  br label %dev_name.exit

if.end.i:                                         ; preds = %entry
  call void @__sanitizer_cov_trace_pc() #17
  %2 = ptrtoint ptr %dev to i32
  call void @__asan_load4_noabort(i32 %2)
  %3 = load ptr, ptr %dev, align 4
  br label %dev_name.exit

dev_name.exit:                                    ; preds = %if.end.i, %entry.dev_name.exit_crit_edge
  %retval.0.i = phi ptr [ %3, %if.end.i ], [ %1, %entry.dev_name.exit_crit_edge ]
  %call1 = tail call noalias ptr (i32, ptr, ...) @kasprintf(i32 noundef 3264, ptr noundef nonnull @.str.50, ptr noundef %retval.0.i) #15
  ret ptr %call1
}

; Function Attrs: null_pointer_is_valid
declare dso_local i32 @alloc_chrdev_region(ptr noundef, i32 noundef, i32 noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local void @__raw_spin_lock_init(ptr noundef, ptr noundef, ptr noundef, i16 noundef signext) local_unnamed_addr #2

; Function Attrs: null_pointer_is_valid
declare dso_local noalias ptr @kasprintf(i32 noundef, ptr noundef, ...) local_unnamed_addr #2

; Function Attrs: nounwind
declare void @llvm.arm.gnu.eabi.mcount() #15

declare void @__sanitizer_cov_trace_cmp1(i8 zeroext, i8 zeroext)

declare void @__sanitizer_cov_trace_cmp4(i32 zeroext, i32 zeroext)

declare void @__sanitizer_cov_trace_const_cmp1(i8 zeroext, i8 zeroext)

declare void @__sanitizer_cov_trace_const_cmp4(i32 zeroext, i32 zeroext)

declare void @__sanitizer_cov_trace_switch(i64, ptr)

declare void @__sanitizer_cov_trace_pc()

declare void @__asan_load1_noabort(i32)

declare void @__asan_load2_noabort(i32)

declare void @__asan_load4_noabort(i32)

declare void @__asan_store1_noabort(i32)

declare void @__asan_store2_noabort(i32)

declare void @__asan_store4_noabort(i32)

declare ptr @memcpy(ptr, ptr, i32)

declare ptr @memset(ptr, i32, i32)

declare void @__asan_register_globals(i32, i32)

declare void @__asan_unregister_globals(i32, i32)

; Function Attrs: nounwind uwtable(sync)
define internal void @asan.module_ctor() #16 {
  call void @__asan_register_globals(i32 ptrtoint (ptr @0 to i32), i32 67)
  ret void
}

; Function Attrs: nounwind uwtable(sync)
define internal void @asan.module_dtor() #16 {
  call void @__asan_unregister_globals(i32 ptrtoint (ptr @0 to i32), i32 67)
  ret void
}

attributes #0 = { nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync) "frame-pointer"="all" "min-legal-vector-width"="0" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="mpcore" "target-features"="+armv6k,+dsp,+soft-float,+strict-align,-aes,-bf16,-d32,-dotprod,-fp-armv8,-fp-armv8d16,-fp-armv8d16sp,-fp-armv8sp,-fp16,-fp16fml,-fp64,-fpregs,-fullfp16,-mve,-mve.fp,-neon,-sha2,-thumb-mode,-vfp2,-vfp2sp,-vfp3,-vfp3d16,-vfp3d16sp,-vfp3sp,-vfp4,-vfp4d16,-vfp4d16sp,-vfp4sp" "use-soft-float"="true" "warn-stack-size"="1024" }
attributes #1 = { argmemonly nocallback nofree nosync nounwind willreturn }
attributes #2 = { null_pointer_is_valid "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="mpcore" "target-features"="+armv6k,+dsp,+soft-float,+strict-align,-aes,-bf16,-d32,-dotprod,-fp-armv8,-fp-armv8d16,-fp-armv8d16sp,-fp-armv8sp,-fp16,-fp16fml,-fp64,-fpregs,-fullfp16,-mve,-mve.fp,-neon,-sha2,-thumb-mode,-vfp2,-vfp2sp,-vfp3,-vfp3d16,-vfp3d16sp,-vfp3sp,-vfp4,-vfp4d16,-vfp4d16sp,-vfp4sp" "use-soft-float"="true" }
attributes #3 = { cold null_pointer_is_valid "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="mpcore" "target-features"="+armv6k,+dsp,+soft-float,+strict-align,-aes,-bf16,-d32,-dotprod,-fp-armv8,-fp-armv8d16,-fp-armv8d16sp,-fp-armv8sp,-fp16,-fp16fml,-fp64,-fpregs,-fullfp16,-mve,-mve.fp,-neon,-sha2,-thumb-mode,-vfp2,-vfp2sp,-vfp3,-vfp3d16,-vfp3d16sp,-vfp3sp,-vfp4,-vfp4d16,-vfp4d16sp,-vfp4sp" "use-soft-float"="true" }
attributes #4 = { argmemonly mustprogress nofree norecurse nosync nounwind null_pointer_is_valid readonly sanitize_address sspstrong willreturn uwtable(sync) "frame-pointer"="all" "min-legal-vector-width"="0" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="mpcore" "target-features"="+armv6k,+dsp,+soft-float,+strict-align,-aes,-bf16,-d32,-dotprod,-fp-armv8,-fp-armv8d16,-fp-armv8d16sp,-fp-armv8sp,-fp16,-fp16fml,-fp64,-fpregs,-fullfp16,-mve,-mve.fp,-neon,-sha2,-thumb-mode,-vfp2,-vfp2sp,-vfp3,-vfp3d16,-vfp3d16sp,-vfp3sp,-vfp4,-vfp4d16,-vfp4d16sp,-vfp4sp" "use-soft-float"="true" "warn-stack-size"="1024" }
attributes #5 = { null_pointer_is_valid allocsize(1) "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="mpcore" "target-features"="+armv6k,+dsp,+soft-float,+strict-align,-aes,-bf16,-d32,-dotprod,-fp-armv8,-fp-armv8d16,-fp-armv8d16sp,-fp-armv8sp,-fp16,-fp16fml,-fp64,-fpregs,-fullfp16,-mve,-mve.fp,-neon,-sha2,-thumb-mode,-vfp2,-vfp2sp,-vfp3,-vfp3d16,-vfp3d16sp,-vfp3sp,-vfp4,-vfp4d16,-vfp4d16sp,-vfp4sp" "use-soft-float"="true" }
attributes #6 = { nofree norecurse nosync nounwind null_pointer_is_valid sanitize_address sspstrong uwtable(sync) "frame-pointer"="all" "min-legal-vector-width"="0" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="mpcore" "target-features"="+armv6k,+dsp,+soft-float,+strict-align,-aes,-bf16,-d32,-dotprod,-fp-armv8,-fp-armv8d16,-fp-armv8d16sp,-fp-armv8sp,-fp16,-fp16fml,-fp64,-fpregs,-fullfp16,-mve,-mve.fp,-neon,-sha2,-thumb-mode,-vfp2,-vfp2sp,-vfp3,-vfp3d16,-vfp3d16sp,-vfp3sp,-vfp4,-vfp4d16,-vfp4d16sp,-vfp4sp" "use-soft-float"="true" "warn-stack-size"="1024" }
attributes #7 = { argmemonly mustprogress nofree norecurse nosync nounwind null_pointer_is_valid sanitize_address sspstrong willreturn uwtable(sync) "frame-pointer"="all" "min-legal-vector-width"="0" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="mpcore" "target-features"="+armv6k,+dsp,+soft-float,+strict-align,-aes,-bf16,-d32,-dotprod,-fp-armv8,-fp-armv8d16,-fp-armv8d16sp,-fp-armv8sp,-fp16,-fp16fml,-fp64,-fpregs,-fullfp16,-mve,-mve.fp,-neon,-sha2,-thumb-mode,-vfp2,-vfp2sp,-vfp3,-vfp3d16,-vfp3d16sp,-vfp3sp,-vfp4,-vfp4d16,-vfp4d16sp,-vfp4sp" "use-soft-float"="true" "warn-stack-size"="1024" }
attributes #8 = { cold nounwind null_pointer_is_valid optsize sanitize_address sspstrong uwtable(sync) "frame-pointer"="all" "min-legal-vector-width"="0" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="mpcore" "target-features"="+armv6k,+dsp,+soft-float,+strict-align,-aes,-bf16,-d32,-dotprod,-fp-armv8,-fp-armv8d16,-fp-armv8d16sp,-fp-armv8sp,-fp16,-fp16fml,-fp64,-fpregs,-fullfp16,-mve,-mve.fp,-neon,-sha2,-thumb-mode,-vfp2,-vfp2sp,-vfp3,-vfp3d16,-vfp3d16sp,-vfp3sp,-vfp4,-vfp4d16,-vfp4d16sp,-vfp4sp" "use-soft-float"="true" "warn-stack-size"="1024" }
attributes #9 = { null_pointer_is_valid allocsize(2) "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="mpcore" "target-features"="+armv6k,+dsp,+soft-float,+strict-align,-aes,-bf16,-d32,-dotprod,-fp-armv8,-fp-armv8d16,-fp-armv8d16sp,-fp-armv8sp,-fp16,-fp16fml,-fp64,-fpregs,-fullfp16,-mve,-mve.fp,-neon,-sha2,-thumb-mode,-vfp2,-vfp2sp,-vfp3,-vfp3d16,-vfp3d16sp,-vfp3sp,-vfp4,-vfp4d16,-vfp4d16sp,-vfp4sp" "use-soft-float"="true" }
attributes #10 = { inaccessiblemem_or_argmemonly nocallback nofree nosync nounwind willreturn }
attributes #11 = { nounwind readonly }
attributes #12 = { argmemonly mustprogress nofree nounwind null_pointer_is_valid readonly willreturn "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="mpcore" "target-features"="+armv6k,+dsp,+soft-float,+strict-align,-aes,-bf16,-d32,-dotprod,-fp-armv8,-fp-armv8d16,-fp-armv8d16sp,-fp-armv8sp,-fp16,-fp16fml,-fp64,-fpregs,-fullfp16,-mve,-mve.fp,-neon,-sha2,-thumb-mode,-vfp2,-vfp2sp,-vfp3,-vfp3d16,-vfp3d16sp,-vfp3sp,-vfp4,-vfp4d16,-vfp4d16sp,-vfp4sp" "use-soft-float"="true" }
attributes #13 = { mustprogress nofree norecurse nosync nounwind null_pointer_is_valid readnone sanitize_address sspstrong willreturn uwtable(sync) "frame-pointer"="all" "min-legal-vector-width"="0" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="mpcore" "target-features"="+armv6k,+dsp,+soft-float,+strict-align,-aes,-bf16,-d32,-dotprod,-fp-armv8,-fp-armv8d16,-fp-armv8d16sp,-fp-armv8sp,-fp16,-fp16fml,-fp64,-fpregs,-fullfp16,-mve,-mve.fp,-neon,-sha2,-thumb-mode,-vfp2,-vfp2sp,-vfp3,-vfp3d16,-vfp3d16sp,-vfp3sp,-vfp4,-vfp4d16,-vfp4d16sp,-vfp4sp" "use-soft-float"="true" "warn-stack-size"="1024" }
attributes #14 = { mustprogress nofree norecurse nosync nounwind null_pointer_is_valid readonly sanitize_address sspstrong willreturn uwtable(sync) "frame-pointer"="all" "min-legal-vector-width"="0" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="mpcore" "target-features"="+armv6k,+dsp,+soft-float,+strict-align,-aes,-bf16,-d32,-dotprod,-fp-armv8,-fp-armv8d16,-fp-armv8d16sp,-fp-armv8sp,-fp16,-fp16fml,-fp64,-fpregs,-fullfp16,-mve,-mve.fp,-neon,-sha2,-thumb-mode,-vfp2,-vfp2sp,-vfp3,-vfp3d16,-vfp3d16sp,-vfp3sp,-vfp4,-vfp4d16,-vfp4d16sp,-vfp4sp" "use-soft-float"="true" "warn-stack-size"="1024" }
attributes #15 = { nounwind }
attributes #16 = { nounwind uwtable(sync) "frame-pointer"="all" }
attributes #17 = { nomerge }
attributes #18 = { nounwind allocsize(2) }
attributes #19 = { cold nounwind }
attributes #20 = { nounwind allocsize(1) }
attributes #21 = { nounwind readnone }
attributes #22 = { nobuiltin nounwind }

!llvm.asan.globals = !{!0, !2, !3, !5, !7, !9, !10, !12, !14, !16, !18, !20, !22, !24, !26, !28, !30, !31, !32, !33, !34, !35, !37, !39, !41, !43, !45, !47, !49, !51, !53, !55, !57, !59, !61, !63, !65, !67, !69, !71, !73, !75, !77, !79, !81, !82, !83, !84, !85, !87, !88, !90, !92, !94, !96, !98, !100, !102, !103, !105, !106, !108, !109, !111, !113, !114, !115, !116, !118, !120, !122, !124, !125, !127, !128, !130, !131, !133, !134, !136, !137, !138, !140, !141, !143, !144, !146, !147, !149, !151, !153, !155, !157, !159, !161, !162, !164, !166, !168, !170, !171, !173, !175, !176, !177, !178, !180, !182, !184, !186, !188, !190, !191, !193, !194, !196, !197, !198, !199, !201, !203, !204, !205, !207, !208}
!llvm.named.register.sp = !{!210}
!llvm.module.flags = !{!211, !212, !213, !214, !215, !216, !217, !218}
!llvm.ident = !{!219}

!0 = !{ptr @__param_enable_unsafe_noiommu_mode, !1, !"__param_enable_unsafe_noiommu_mode", i1 false, i1 false}
!1 = !{!"../drivers/vfio/vfio.c", i32 94, i32 1}
!2 = !{ptr @__UNIQUE_ID_enable_unsafe_noiommu_modetype238, !1, !"__UNIQUE_ID_enable_unsafe_noiommu_modetype238", i1 false, i1 false}
!3 = !{ptr @__UNIQUE_ID_enable_unsafe_noiommu_mode239, !4, !"__UNIQUE_ID_enable_unsafe_noiommu_mode239", i1 false, i1 false}
!4 = !{!"../drivers/vfio/vfio.c", i32 96, i32 1}
!5 = !{ptr @.str, !6, !"<string literal>", i1 false, i1 false}
!6 = !{!"../drivers/vfio/vfio.c", i32 108, i32 6}
!7 = !{ptr @vfio_assign_device_set.__key, !8, !"__key", i1 false, i1 false}
!8 = !{!"../drivers/vfio/vfio.c", i32 123, i32 2}
!9 = !{ptr @.str.1, !8, !"<string literal>", i1 false, i1 false}
!10 = !{ptr @__ksymtab_vfio_assign_device_set, !11, !"__ksymtab_vfio_assign_device_set", i1 false, i1 false}
!11 = !{!"../drivers/vfio/vfio.c", i32 150, i32 1}
!12 = !{ptr @__ksymtab_vfio_register_iommu_driver, !13, !"__ksymtab_vfio_register_iommu_driver", i1 false, i1 false}
!13 = !{!"../drivers/vfio/vfio.c", i32 265, i32 1}
!14 = !{ptr @__ksymtab_vfio_unregister_iommu_driver, !15, !"__ksymtab_vfio_unregister_iommu_driver", i1 false, i1 false}
!15 = !{!"../drivers/vfio/vfio.c", i32 282, i32 1}
!16 = !{ptr @__ksymtab_vfio_device_put, !17, !"__ksymtab_vfio_device_put", i1 false, i1 false}
!17 = !{!"../drivers/vfio/vfio.c", i32 500, i32 1}
!18 = !{ptr @__ksymtab_vfio_init_group_dev, !19, !"__ksymtab_vfio_init_group_dev", i1 false, i1 false}
!19 = !{!"../drivers/vfio/vfio.c", i32 702, i32 1}
!20 = !{ptr @__ksymtab_vfio_uninit_group_dev, !21, !"__ksymtab_vfio_uninit_group_dev", i1 false, i1 false}
!21 = !{!"../drivers/vfio/vfio.c", i32 708, i32 1}
!22 = !{ptr @__ksymtab_vfio_register_group_dev, !23, !"__ksymtab_vfio_register_group_dev", i1 false, i1 false}
!23 = !{!"../drivers/vfio/vfio.c", i32 821, i32 1}
!24 = !{ptr @__ksymtab_vfio_register_emulated_iommu_dev, !25, !"__ksymtab_vfio_register_emulated_iommu_dev", i1 false, i1 false}
!25 = !{!"../drivers/vfio/vfio.c", i32 832, i32 1}
!26 = !{ptr @__ksymtab_vfio_device_get_from_dev, !27, !"__ksymtab_vfio_device_get_from_dev", i1 false, i1 false}
!27 = !{!"../drivers/vfio/vfio.c", i32 855, i32 1}
!28 = !{ptr @.str.2, !29, !"<string literal>", i1 false, i1 false}
!29 = !{!"../drivers/vfio/vfio.c", i32 929, i32 5}
!30 = !{ptr @.str.3, !29, !"<string literal>", i1 false, i1 false}
!31 = !{ptr @.str.4, !29, !"<string literal>", i1 false, i1 false}
!32 = !{ptr @.str.5, !29, !"<string literal>", i1 false, i1 false}
!33 = !{ptr @vfio_unregister_group_dev._entry, !29, !"_entry", i1 false, i1 false}
!34 = !{ptr @vfio_unregister_group_dev._entry_ptr, !29, !"_entry_ptr", i1 false, i1 false}
!35 = !{ptr @__ksymtab_vfio_unregister_group_dev, !36, !"__ksymtab_vfio_unregister_group_dev", i1 false, i1 false}
!36 = !{!"../drivers/vfio/vfio.c", i32 966, i32 1}
!37 = !{ptr @__ksymtab_vfio_group_get_external_user, !38, !"__ksymtab_vfio_group_get_external_user", i1 false, i1 false}
!38 = !{!"../drivers/vfio/vfio.c", i32 1660, i32 1}
!39 = !{ptr @__ksymtab_vfio_group_get_external_user_from_dev, !40, !"__ksymtab_vfio_group_get_external_user_from_dev", i1 false, i1 false}
!40 = !{!"../drivers/vfio/vfio.c", i32 1698, i32 1}
!41 = !{ptr @__ksymtab_vfio_group_put_external_user, !42, !"__ksymtab_vfio_group_put_external_user", i1 false, i1 false}
!42 = !{!"../drivers/vfio/vfio.c", i32 1705, i32 1}
!43 = !{ptr @__ksymtab_vfio_external_group_match_file, !44, !"__ksymtab_vfio_external_group_match_file", i1 false, i1 false}
!44 = !{!"../drivers/vfio/vfio.c", i32 1714, i32 1}
!45 = !{ptr @__ksymtab_vfio_external_user_iommu_id, !46, !"__ksymtab_vfio_external_user_iommu_id", i1 false, i1 false}
!46 = !{!"../drivers/vfio/vfio.c", i32 1720, i32 1}
!47 = !{ptr @__ksymtab_vfio_external_check_extension, !48, !"__ksymtab_vfio_external_check_extension", i1 false, i1 false}
!48 = !{!"../drivers/vfio/vfio.c", i32 1726, i32 1}
!49 = !{ptr @__ksymtab_vfio_info_cap_add, !50, !"__ksymtab_vfio_info_cap_add", i1 false, i1 false}
!50 = !{!"../drivers/vfio/vfio.c", i32 1771, i32 1}
!51 = !{ptr @__ksymtab_vfio_info_cap_shift, !52, !"__ksymtab_vfio_info_cap_shift", i1 false, i1 false}
!52 = !{!"../drivers/vfio/vfio.c", i32 1781, i32 1}
!53 = !{ptr @__ksymtab_vfio_info_add_capability, !54, !"__ksymtab_vfio_info_add_capability", i1 false, i1 false}
!54 = !{!"../drivers/vfio/vfio.c", i32 1796, i32 1}
!55 = !{ptr @__ksymtab_vfio_set_irqs_validate_and_prepare, !56, !"__ksymtab_vfio_set_irqs_validate_and_prepare", i1 false, i1 false}
!56 = !{!"../drivers/vfio/vfio.c", i32 1844, i32 1}
!57 = !{ptr @__ksymtab_vfio_pin_pages, !58, !"__ksymtab_vfio_pin_pages", i1 false, i1 false}
!58 = !{!"../drivers/vfio/vfio.c", i32 1899, i32 1}
!59 = !{ptr @__ksymtab_vfio_unpin_pages, !60, !"__ksymtab_vfio_unpin_pages", i1 false, i1 false}
!60 = !{!"../drivers/vfio/vfio.c", i32 1945, i32 1}
!61 = !{ptr @__ksymtab_vfio_group_pin_pages, !62, !"__ksymtab_vfio_group_pin_pages", i1 false, i1 false}
!62 = !{!"../drivers/vfio/vfio.c", i32 1996, i32 1}
!63 = !{ptr @__ksymtab_vfio_group_unpin_pages, !64, !"__ksymtab_vfio_group_unpin_pages", i1 false, i1 false}
!64 = !{!"../drivers/vfio/vfio.c", i32 2039, i32 1}
!65 = !{ptr @__ksymtab_vfio_dma_rw, !66, !"__ksymtab_vfio_dma_rw", i1 false, i1 false}
!66 = !{!"../drivers/vfio/vfio.c", i32 2088, i32 1}
!67 = !{ptr @__ksymtab_vfio_group_set_kvm, !68, !"__ksymtab_vfio_group_set_kvm", i1 false, i1 false}
!68 = !{!"../drivers/vfio/vfio.c", i32 2145, i32 1}
!69 = !{ptr @__ksymtab_vfio_register_notifier, !70, !"__ksymtab_vfio_register_notifier", i1 false, i1 false}
!70 = !{!"../drivers/vfio/vfio.c", i32 2226, i32 1}
!71 = !{ptr @__ksymtab_vfio_unregister_notifier, !72, !"__ksymtab_vfio_unregister_notifier", i1 false, i1 false}
!72 = !{!"../drivers/vfio/vfio.c", i32 2255, i32 1}
!73 = !{ptr @__ksymtab_vfio_group_iommu_domain, !74, !"__ksymtab_vfio_group_iommu_domain", i1 false, i1 false}
!74 = !{!"../drivers/vfio/vfio.c", i32 2273, i32 1}
!75 = !{ptr @__initcall__kmod_vfio__245_2350_vfio_init6, !76, !"__initcall__kmod_vfio__245_2350_vfio_init6", i1 false, i1 false}
!76 = !{!"../drivers/vfio/vfio.c", i32 2350, i32 1}
!77 = !{ptr @__exitcall_vfio_cleanup, !78, !"__exitcall_vfio_cleanup", i1 false, i1 false}
!78 = !{!"../drivers/vfio/vfio.c", i32 2351, i32 1}
!79 = !{ptr @__UNIQUE_ID_version246, !80, !"__UNIQUE_ID_version246", i1 false, i1 false}
!80 = !{!"../drivers/vfio/vfio.c", i32 2353, i32 1}
!81 = !{ptr @.str.6, !80, !"<string literal>", i1 false, i1 false}
!82 = !{ptr @.str.7, !80, !"<string literal>", i1 false, i1 false}
!83 = !{ptr @.str.8, !80, !"<string literal>", i1 false, i1 false}
!84 = !{ptr @__modver_attr, !80, !"__modver_attr", i1 false, i1 false}
!85 = !{ptr @__UNIQUE_ID_file247, !86, !"__UNIQUE_ID_file247", i1 false, i1 false}
!86 = !{!"../drivers/vfio/vfio.c", i32 2354, i32 1}
!87 = !{ptr @__UNIQUE_ID_license248, !86, !"__UNIQUE_ID_license248", i1 false, i1 false}
!88 = !{ptr @__UNIQUE_ID_author249, !89, !"__UNIQUE_ID_author249", i1 false, i1 false}
!89 = !{!"../drivers/vfio/vfio.c", i32 2355, i32 1}
!90 = !{ptr @__UNIQUE_ID_description250, !91, !"__UNIQUE_ID_description250", i1 false, i1 false}
!91 = !{!"../drivers/vfio/vfio.c", i32 2356, i32 1}
!92 = !{ptr @__UNIQUE_ID_alias251, !93, !"__UNIQUE_ID_alias251", i1 false, i1 false}
!93 = !{!"../drivers/vfio/vfio.c", i32 2357, i32 1}
!94 = !{ptr @__UNIQUE_ID_alias252, !95, !"__UNIQUE_ID_alias252", i1 false, i1 false}
!95 = !{!"../drivers/vfio/vfio.c", i32 2358, i32 1}
!96 = !{ptr @__UNIQUE_ID_softdep253, !97, !"__UNIQUE_ID_softdep253", i1 false, i1 false}
!97 = !{!"../drivers/vfio/vfio.c", i32 2359, i32 1}
!98 = !{ptr @vfio, !99, !"vfio", i1 false, i1 false}
!99 = !{!"../drivers/vfio/vfio.c", i32 49, i32 3}
!100 = !{ptr @noiommu, !101, !"noiommu", i1 false, i1 false}
!101 = !{!"../drivers/vfio/vfio.c", i32 93, i32 13}
!102 = !{ptr @__param_str_enable_unsafe_noiommu_mode, !1, !"__param_str_enable_unsafe_noiommu_mode", i1 false, i1 false}
!103 = !{ptr @.str.9, !104, !"<string literal>", i1 false, i1 false}
!104 = !{!"../drivers/vfio/vfio.c", i32 99, i32 8}
!105 = !{ptr @vfio_device_set_xa, !104, !"vfio_device_set_xa", i1 false, i1 false}
!106 = !{ptr @init_completion.__key, !107, !"__key", i1 false, i1 false}
!107 = !{!"../include/linux/completion.h", i32 87, i32 2}
!108 = !{ptr @.str.10, !107, !"<string literal>", i1 false, i1 false}
!109 = !{ptr @.str.11, !110, !"<string literal>", i1 false, i1 false}
!110 = !{!"../drivers/vfio/vfio.c", i32 792, i32 3}
!111 = !{ptr @.str.12, !112, !"<string literal>", i1 false, i1 false}
!112 = !{!"../drivers/vfio/vfio.c", i32 758, i32 4}
!113 = !{ptr @.str.13, !112, !"<string literal>", i1 false, i1 false}
!114 = !{ptr @vfio_group_find_or_alloc._entry, !112, !"_entry", i1 false, i1 false}
!115 = !{ptr @vfio_group_find_or_alloc._entry_ptr, !112, !"_entry_ptr", i1 false, i1 false}
!116 = !{ptr @.str.14, !117, !"<string literal>", i1 false, i1 false}
!117 = !{!"../drivers/vfio/vfio.c", i32 407, i32 34}
!118 = !{ptr @.str.15, !119, !"<string literal>", i1 false, i1 false}
!119 = !{!"../drivers/vfio/vfio.c", i32 408, i32 38}
!120 = !{ptr @.str.16, !121, !"<string literal>", i1 false, i1 false}
!121 = !{!"../drivers/vfio/vfio.c", i32 408, i32 51}
!122 = !{ptr @vfio_group_alloc.__key, !123, !"__key", i1 false, i1 false}
!123 = !{!"../drivers/vfio/vfio.c", i32 383, i32 2}
!124 = !{ptr @.str.17, !123, !"<string literal>", i1 false, i1 false}
!125 = !{ptr @vfio_group_alloc.__key.18, !126, !"__key", i1 false, i1 false}
!126 = !{!"../drivers/vfio/vfio.c", i32 385, i32 2}
!127 = !{ptr @.str.19, !126, !"<string literal>", i1 false, i1 false}
!128 = !{ptr @vfio_group_alloc.__key.20, !129, !"__key", i1 false, i1 false}
!129 = !{!"../drivers/vfio/vfio.c", i32 386, i32 2}
!130 = !{ptr @.str.21, !129, !"<string literal>", i1 false, i1 false}
!131 = !{ptr @vfio_group_alloc.__key.22, !132, !"__key", i1 false, i1 false}
!132 = !{!"../drivers/vfio/vfio.c", i32 391, i32 2}
!133 = !{ptr @.str.23, !132, !"<string literal>", i1 false, i1 false}
!134 = !{ptr @.str.24, !135, !"<string literal>", i1 false, i1 false}
!135 = !{!"../drivers/vfio/vfio.c", i32 653, i32 3}
!136 = !{ptr @.str.25, !135, !"<string literal>", i1 false, i1 false}
!137 = !{ptr @vfio_iommu_group_notifier.__UNIQUE_ID_ddebug241, !135, !"__UNIQUE_ID_ddebug241", i1 false, i1 false}
!138 = !{ptr @.str.26, !139, !"<string literal>", i1 false, i1 false}
!139 = !{!"../drivers/vfio/vfio.c", i32 657, i32 3}
!140 = !{ptr @vfio_iommu_group_notifier.__UNIQUE_ID_ddebug242, !139, !"__UNIQUE_ID_ddebug242", i1 false, i1 false}
!141 = !{ptr @.str.27, !142, !"<string literal>", i1 false, i1 false}
!142 = !{!"../drivers/vfio/vfio.c", i32 662, i32 3}
!143 = !{ptr @vfio_iommu_group_notifier.__UNIQUE_ID_ddebug243, !142, !"__UNIQUE_ID_ddebug243", i1 false, i1 false}
!144 = !{ptr @.str.28, !145, !"<string literal>", i1 false, i1 false}
!145 = !{!"../drivers/vfio/vfio.c", i32 667, i32 3}
!146 = !{ptr @vfio_iommu_group_notifier.__UNIQUE_ID_ddebug244, !145, !"__UNIQUE_ID_ddebug244", i1 false, i1 false}
!147 = distinct !{null, !148, !"__already_done", i1 false, i1 false}
!148 = !{!"../drivers/vfio/vfio.c", i32 607, i32 6}
!149 = !{ptr @.str.29, !150, !"<string literal>", i1 false, i1 false}
!150 = !{!"../drivers/vfio/vfio.c", i32 617, i32 2}
!151 = !{ptr @.str.30, !152, !"<string literal>", i1 false, i1 false}
!152 = !{!"../drivers/vfio/vfio.c", i32 538, i32 53}
!153 = !{ptr @vfio_driver_allowed, !154, !"vfio_driver_allowed", i1 false, i1 false}
!154 = !{!"../drivers/vfio/vfio.c", i32 538, i32 27}
!155 = !{ptr @.str.31, !156, !"<string literal>", i1 false, i1 false}
!156 = !{!"../drivers/vfio/vfio.c", i32 721, i32 36}
!157 = !{ptr @vfio_group_fops, !158, !"vfio_group_fops", i1 false, i1 false}
!158 = !{!"../drivers/vfio/vfio.c", i32 1531, i32 37}
!159 = distinct !{null, !160, !"__already_done", i1 false, i1 false}
!160 = !{!"../include/linux/thread_info.h", i32 230, i32 6}
!161 = distinct !{null, !160, !"<string literal>", i1 false, i1 false}
!162 = distinct !{null, !163, !"<string literal>", i1 false, i1 false}
!163 = !{!"../include/linux/thread_info.h", i32 214, i32 2}
!164 = !{ptr @.str.34, !165, !"<string literal>", i1 false, i1 false}
!165 = !{!"../include/linux/uaccess.h", i32 156, i32 2}
!166 = !{ptr @vfio_fops, !167, !"vfio_fops", i1 false, i1 false}
!167 = !{!"../drivers/vfio/vfio.c", i32 1178, i32 37}
!168 = !{ptr @vfio_fops_open.__key, !169, !"__key", i1 false, i1 false}
!169 = !{!"../drivers/vfio/vfio.c", i32 1154, i32 2}
!170 = !{ptr @.str.35, !169, !"<string literal>", i1 false, i1 false}
!171 = !{ptr @.str.36, !172, !"<string literal>", i1 false, i1 false}
!172 = !{!"../drivers/vfio/vfio.c", i32 1373, i32 29}
!173 = !{ptr @.str.37, !174, !"<string literal>", i1 false, i1 false}
!174 = !{!"../drivers/vfio/vfio.c", i32 1392, i32 3}
!175 = !{ptr @.str.38, !174, !"<string literal>", i1 false, i1 false}
!176 = !{ptr @vfio_group_get_device_fd._entry, !174, !"_entry", i1 false, i1 false}
!177 = !{ptr @vfio_group_get_device_fd._entry_ptr, !174, !"_entry_ptr", i1 false, i1 false}
!178 = !{ptr @vfio_device_fops, !179, !"vfio_device_fops", i1 false, i1 false}
!179 = !{!"../drivers/vfio/vfio.c", i32 1604, i32 37}
!180 = !{ptr @vfio_group_fops_open.__key, !181, !"__key", i1 false, i1 false}
!181 = !{!"../drivers/vfio/vfio.c", i32 1509, i32 3}
!182 = !{ptr @vfio_noiommu_ops, !183, !"vfio_noiommu_ops", i1 false, i1 false}
!183 = !{!"../drivers/vfio/vfio.c", i32 208, i32 43}
!184 = !{ptr @.str.39, !185, !"<string literal>", i1 false, i1 false}
!185 = !{!"../drivers/vfio/vfio.c", i32 2287, i32 14}
!186 = !{ptr @vfio_dev, !187, !"vfio_dev", i1 false, i1 false}
!187 = !{!"../drivers/vfio/vfio.c", i32 2283, i32 26}
!188 = !{ptr @vfio_init.__key, !189, !"__key", i1 false, i1 false}
!189 = !{!"../drivers/vfio/vfio.c", i32 2296, i32 2}
!190 = !{ptr @.str.40, !189, !"<string literal>", i1 false, i1 false}
!191 = !{ptr @vfio_init.__key.41, !192, !"__key", i1 false, i1 false}
!192 = !{!"../drivers/vfio/vfio.c", i32 2297, i32 2}
!193 = !{ptr @.str.42, !192, !"<string literal>", i1 false, i1 false}
!194 = !{ptr @.str.43, !195, !"<string literal>", i1 false, i1 false}
!195 = !{!"../drivers/vfio/vfio.c", i32 2303, i32 3}
!196 = !{ptr @.str.44, !195, !"<string literal>", i1 false, i1 false}
!197 = !{ptr @vfio_init._entry, !195, !"_entry", i1 false, i1 false}
!198 = !{ptr @vfio_init._entry_ptr, !195, !"_entry_ptr", i1 false, i1 false}
!199 = !{ptr @vfio_init.__key.45, !200, !"__key", i1 false, i1 false}
!200 = !{!"../drivers/vfio/vfio.c", i32 2308, i32 15}
!201 = !{ptr @.str.47, !202, !"<string literal>", i1 false, i1 false}
!202 = !{!"../drivers/vfio/vfio.c", i32 2320, i32 2}
!203 = !{ptr @vfio_init._entry.46, !202, !"_entry", i1 false, i1 false}
!204 = !{ptr @vfio_init._entry_ptr.48, !202, !"_entry_ptr", i1 false, i1 false}
!205 = !{ptr @xa_init_flags.__key, !206, !"__key", i1 false, i1 false}
!206 = !{!"../include/linux/xarray.h", i32 378, i32 2}
!207 = !{ptr @.str.49, !206, !"<string literal>", i1 false, i1 false}
!208 = !{ptr @.str.50, !209, !"<string literal>", i1 false, i1 false}
!209 = !{!"../drivers/vfio/vfio.c", i32 2280, i32 31}
!210 = !{!"sp"}
!211 = !{i32 1, !"wchar_size", i32 2}
!212 = !{i32 1, !"min_enum_size", i32 4}
!213 = !{i32 8, !"branch-target-enforcement", i32 0}
!214 = !{i32 8, !"sign-return-address", i32 0}
!215 = !{i32 8, !"sign-return-address-all", i32 0}
!216 = !{i32 8, !"sign-return-address-with-bkey", i32 0}
!217 = !{i32 7, !"uwtable", i32 1}
!218 = !{i32 7, !"frame-pointer", i32 2}
!219 = !{!"clang version 15.0.0 (git@github.com:linkeLi0421/llvm-project15-IRDumperPass.git 23ab625cb005cd08da083f9b643a7feed9af8abe)"}
!220 = !{!"branch_weights", i32 1, i32 2000}
!221 = !{i64 2148650737}
!222 = !{i64 2148565177, i64 2148565209, i64 2148565238, i64 2148565272, i64 2148565303, i64 2148565326}
!223 = !{!"branch_weights", i32 2000, i32 1}
!224 = !{i64 2149973040}
!225 = !{i8 0, i8 2}
!226 = !{i64 2148562712, i64 2148562744, i64 2148562773, i64 2148562807, i64 2148562838, i64 2148562861}
!227 = !{i64 2148560601}
!228 = !{i64 1047201, i64 1047226, i64 1047248, i64 1047264, i64 1047276, i64 1047296, i64 1047320, i64 1047336, i64 1047348}
!229 = !{i64 2148560789}
!230 = !{i64 2148563647, i64 2148563673, i64 2148563702, i64 2148563736, i64 2148563767, i64 2148563790}
!231 = !{i64 2148663029}
!232 = !{i64 1046695, i64 1046719, i64 1046740, i64 1046757, i64 1046774}
!233 = !{i64 2148663255}
!234 = !{i64 2148384997, i64 2148385002, i64 2148385015, i64 2148385059, i64 2148385093, i64 2148385114}
!235 = !{i64 2154869271, i64 2154869755, i64 2154869308, i64 2154869364, i64 2154869398, i64 2154869422, i64 2154869463, i64 2154869484, i64 2154869512, i64 2154869546}
!236 = !{!"auto-init"}
!237 = !{i64 5297442}
!238 = !{i64 5297639}
!239 = !{i64 2152782872}
!240 = !{i64 2154935201, i64 2154935481, i64 2154935815, i64 2154936149}
!241 = !{!242}
!242 = distinct !{!242, !243, !"fdget: %agg.result"}
!243 = distinct !{!243, !"fdget"}
!244 = !{i64 2148561182, i64 2148561208, i64 2148561237, i64 2148561271, i64 2148561302, i64 2148561325}
